                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.5.0 #9253 (Mar 24 2016) (Linux)
                              4 ; This file was generated Thu Nov  3 14:04:52 2016
                              5 ;--------------------------------------------------------
                              6 	.module pff
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _disk_readp
                             13 	.globl _disk_initialize
                             14 	.globl _pf_mount
                             15 	.globl _pf_open
                             16 	.globl _pf_read
                             17 	.globl _pf_lseek
                             18 ;--------------------------------------------------------
                             19 ; special function registers
                             20 ;--------------------------------------------------------
                             21 ;--------------------------------------------------------
                             22 ; ram data
                             23 ;--------------------------------------------------------
                             24 	.area _DATA
   0000                      25 _FatFs:
   0000                      26 	.ds 2
                             27 ;--------------------------------------------------------
                             28 ; ram data
                             29 ;--------------------------------------------------------
                             30 	.area _INITIALIZED
                             31 ;--------------------------------------------------------
                             32 ; absolute external ram data
                             33 ;--------------------------------------------------------
                             34 	.area _DABS (ABS)
                             35 ;--------------------------------------------------------
                             36 ; global & static initialisations
                             37 ;--------------------------------------------------------
                             38 	.area _HOME
                             39 	.area _GSINIT
                             40 	.area _GSFINAL
                             41 	.area _GSINIT
                             42 ;--------------------------------------------------------
                             43 ; Home
                             44 ;--------------------------------------------------------
                             45 	.area _HOME
                             46 	.area _HOME
                             47 ;--------------------------------------------------------
                             48 ; code
                             49 ;--------------------------------------------------------
                             50 	.area _CODE
                             51 ;pff.c:328: void mem_set (void* dst, int val, int cnt) {
                             52 ;	---------------------------------
                             53 ; Function mem_set
                             54 ; ---------------------------------
   0000                      55 _mem_set:
   0000 DD E5         [15]   56 	push	ix
   0002 DD 21 00 00   [14]   57 	ld	ix,#0
   0006 DD 39         [15]   58 	add	ix,sp
                             59 ;pff.c:329: char *d = (char*)dst;
   0008 DD 6E 04      [19]   60 	ld	l,4 (ix)
   000B DD 66 05      [19]   61 	ld	h,5 (ix)
                             62 ;pff.c:330: while (cnt--) *d++ = (char)val;
   000E DD 4E 08      [19]   63 	ld	c,8 (ix)
   0011 DD 46 09      [19]   64 	ld	b,9 (ix)
   0014                      65 00101$:
   0014 51            [ 4]   66 	ld	d,c
   0015 58            [ 4]   67 	ld	e,b
   0016 0B            [ 6]   68 	dec	bc
   0017 7B            [ 4]   69 	ld	a,e
   0018 B2            [ 4]   70 	or	a,d
   0019 28 07         [12]   71 	jr	Z,00104$
   001B DD 7E 06      [19]   72 	ld	a,6 (ix)
   001E 77            [ 7]   73 	ld	(hl),a
   001F 23            [ 6]   74 	inc	hl
   0020 18 F2         [12]   75 	jr	00101$
   0022                      76 00104$:
   0022 DD E1         [14]   77 	pop	ix
   0024 C9            [10]   78 	ret
                             79 ;pff.c:335: int mem_cmp (const void* dst, const void* src, int cnt) {
                             80 ;	---------------------------------
                             81 ; Function mem_cmp
                             82 ; ---------------------------------
   0025                      83 _mem_cmp:
   0025 DD E5         [15]   84 	push	ix
   0027 DD 21 00 00   [14]   85 	ld	ix,#0
   002B DD 39         [15]   86 	add	ix,sp
   002D F5            [11]   87 	push	af
   002E F5            [11]   88 	push	af
                             89 ;pff.c:336: const char *d = (const char *)dst, *s = (const char *)src;
   002F DD 7E 04      [19]   90 	ld	a,4 (ix)
   0032 DD 77 FE      [19]   91 	ld	-2 (ix),a
   0035 DD 7E 05      [19]   92 	ld	a,5 (ix)
   0038 DD 77 FF      [19]   93 	ld	-1 (ix),a
   003B DD 7E 06      [19]   94 	ld	a,6 (ix)
   003E DD 77 FC      [19]   95 	ld	-4 (ix),a
   0041 DD 7E 07      [19]   96 	ld	a,7 (ix)
   0044 DD 77 FD      [19]   97 	ld	-3 (ix),a
                             98 ;pff.c:337: int r = 0;
   0047 21 00 00      [10]   99 	ld	hl,#0x0000
                            100 ;pff.c:338: while (cnt-- && (r = *d++ - *s++) == 0) ;
   004A DD 4E 08      [19]  101 	ld	c,8 (ix)
   004D DD 46 09      [19]  102 	ld	b,9 (ix)
   0050                     103 00102$:
   0050 59            [ 4]  104 	ld	e, c
   0051 50            [ 4]  105 	ld	d, b
   0052 0B            [ 6]  106 	dec	bc
   0053 7A            [ 4]  107 	ld	a,d
   0054 B3            [ 4]  108 	or	a,e
   0055 28 2E         [12]  109 	jr	Z,00104$
   0057 DD 6E FE      [19]  110 	ld	l,-2 (ix)
   005A DD 66 FF      [19]  111 	ld	h,-1 (ix)
   005D 7E            [ 7]  112 	ld	a,(hl)
   005E DD 34 FE      [23]  113 	inc	-2 (ix)
   0061 20 03         [12]  114 	jr	NZ,00116$
   0063 DD 34 FF      [23]  115 	inc	-1 (ix)
   0066                     116 00116$:
   0066 5F            [ 4]  117 	ld	e,a
   0067 17            [ 4]  118 	rla
   0068 9F            [ 4]  119 	sbc	a, a
   0069 57            [ 4]  120 	ld	d,a
   006A E1            [10]  121 	pop	hl
   006B E5            [11]  122 	push	hl
   006C 7E            [ 7]  123 	ld	a,(hl)
   006D DD 34 FC      [23]  124 	inc	-4 (ix)
   0070 20 03         [12]  125 	jr	NZ,00117$
   0072 DD 34 FD      [23]  126 	inc	-3 (ix)
   0075                     127 00117$:
   0075 67            [ 4]  128 	ld	h,a
   0076 17            [ 4]  129 	rla
   0077 9F            [ 4]  130 	sbc	a, a
   0078 6F            [ 4]  131 	ld	l,a
   0079 7B            [ 4]  132 	ld	a,e
   007A 94            [ 4]  133 	sub	a, h
   007B 5F            [ 4]  134 	ld	e,a
   007C 7A            [ 4]  135 	ld	a,d
   007D 9D            [ 4]  136 	sbc	a, l
   007E 57            [ 4]  137 	ld	d,a
   007F 6B            [ 4]  138 	ld	l, e
   0080 7A            [ 4]  139 	ld	a,d
   0081 67            [ 4]  140 	ld	h,a
   0082 B3            [ 4]  141 	or	a,e
   0083 28 CB         [12]  142 	jr	Z,00102$
   0085                     143 00104$:
                            144 ;pff.c:339: return r;
   0085 DD F9         [10]  145 	ld	sp, ix
   0087 DD E1         [14]  146 	pop	ix
   0089 C9            [10]  147 	ret
                            148 ;pff.c:349: CLUST get_fat (	/* 1:IO error, Else:Cluster status */
                            149 ;	---------------------------------
                            150 ; Function get_fat
                            151 ; ---------------------------------
   008A                     152 _get_fat:
   008A DD E5         [15]  153 	push	ix
   008C DD 21 00 00   [14]  154 	ld	ix,#0
   0090 DD 39         [15]  155 	add	ix,sp
   0092 21 F8 FF      [10]  156 	ld	hl,#-8
   0095 39            [11]  157 	add	hl,sp
   0096 F9            [ 6]  158 	ld	sp,hl
                            159 ;pff.c:354: FATFS *fs = FatFs;
   0097 ED 5Br00r00   [20]  160 	ld	de,(_FatFs)
                            161 ;pff.c:356: if (clst < 2 || clst >= fs->n_fatent)	/* Range check */
   009B DD 7E 04      [19]  162 	ld	a,4 (ix)
   009E D6 02         [ 7]  163 	sub	a, #0x02
   00A0 DD 7E 05      [19]  164 	ld	a,5 (ix)
   00A3 DE 00         [ 7]  165 	sbc	a, #0x00
   00A5 DD 7E 06      [19]  166 	ld	a,6 (ix)
   00A8 DE 00         [ 7]  167 	sbc	a, #0x00
   00AA DD 7E 07      [19]  168 	ld	a,7 (ix)
   00AD DE 00         [ 7]  169 	sbc	a, #0x00
   00AF 38 21         [12]  170 	jr	C,00101$
   00B1 D5            [11]  171 	push	de
   00B2 FD E1         [14]  172 	pop	iy
   00B4 FD 6E 06      [19]  173 	ld	l,6 (iy)
   00B7 FD 66 07      [19]  174 	ld	h,7 (iy)
   00BA FD 4E 08      [19]  175 	ld	c,8 (iy)
   00BD FD 46 09      [19]  176 	ld	b,9 (iy)
   00C0 DD 7E 04      [19]  177 	ld	a,4 (ix)
   00C3 95            [ 4]  178 	sub	a, l
   00C4 DD 7E 05      [19]  179 	ld	a,5 (ix)
   00C7 9C            [ 4]  180 	sbc	a, h
   00C8 DD 7E 06      [19]  181 	ld	a,6 (ix)
   00CB 99            [ 4]  182 	sbc	a, c
   00CC DD 7E 07      [19]  183 	ld	a,7 (ix)
   00CF 98            [ 4]  184 	sbc	a, b
   00D0 38 09         [12]  185 	jr	C,00102$
   00D2                     186 00101$:
                            187 ;pff.c:357: return 1;
   00D2 21 01 00      [10]  188 	ld	hl,#0x0001
   00D5 11 00 00      [10]  189 	ld	de,#0x0000
   00D8 C3rA5r02      [10]  190 	jp	00111$
   00DB                     191 00102$:
                            192 ;pff.c:359: switch (fs->fs_type) {
   00DB 1A            [ 7]  193 	ld	a,(de)
   00DC 47            [ 4]  194 	ld	b,a
                            195 ;pff.c:378: if (disk_readp(buf, fs->fatbase + clst / 256, ((UINT)clst % 256) * 2, 2)) break;
   00DD DD 6E 04      [19]  196 	ld	l,4 (ix)
   00E0 7B            [ 4]  197 	ld	a,e
   00E1 C6 0A         [ 7]  198 	add	a, #0x0A
   00E3 5F            [ 4]  199 	ld	e,a
   00E4 7A            [ 4]  200 	ld	a,d
   00E5 CE 00         [ 7]  201 	adc	a, #0x00
   00E7 57            [ 4]  202 	ld	d,a
                            203 ;pff.c:359: switch (fs->fs_type) {
   00E8 78            [ 4]  204 	ld	a,b
   00E9 D6 02         [ 7]  205 	sub	a, #0x02
   00EB 28 09         [12]  206 	jr	Z,00104$
   00ED 78            [ 4]  207 	ld	a,b
   00EE D6 03         [ 7]  208 	sub	a, #0x03
   00F0 CAr83r01      [10]  209 	jp	Z,00107$
   00F3 C3r9Fr02      [10]  210 	jp	00110$
                            211 ;pff.c:377: case FS_FAT16 :
   00F6                     212 00104$:
                            213 ;pff.c:378: if (disk_readp(buf, fs->fatbase + clst / 256, ((UINT)clst % 256) * 2, 2)) break;
   00F6 26 00         [ 7]  214 	ld	h,#0x00
   00F8 29            [11]  215 	add	hl, hl
   00F9 4D            [ 4]  216 	ld	c, l
   00FA 44            [ 4]  217 	ld	b, h
   00FB C5            [11]  218 	push	bc
   00FC 21 06 00      [10]  219 	ld	hl, #0x0006
   00FF 39            [11]  220 	add	hl, sp
   0100 EB            [ 4]  221 	ex	de, hl
   0101 01 04 00      [10]  222 	ld	bc, #0x0004
   0104 ED B0         [21]  223 	ldir
   0106 C1            [10]  224 	pop	bc
   0107 F5            [11]  225 	push	af
   0108 DD 6E 04      [19]  226 	ld	l,4 (ix)
   010B DD 66 05      [19]  227 	ld	h,5 (ix)
   010E DD 5E 06      [19]  228 	ld	e,6 (ix)
   0111 DD 56 07      [19]  229 	ld	d,7 (ix)
   0114 F1            [10]  230 	pop	af
   0115 3E 08         [ 7]  231 	ld	a,#0x08
   0117                     232 00135$:
   0117 CB 3A         [ 8]  233 	srl	d
   0119 CB 1B         [ 8]  234 	rr	e
   011B CB 1C         [ 8]  235 	rr	h
   011D CB 1D         [ 8]  236 	rr	l
   011F 3D            [ 4]  237 	dec	a
   0120 20 F5         [12]  238 	jr	NZ,00135$
   0122 DD 7E FC      [19]  239 	ld	a,-4 (ix)
   0125 85            [ 4]  240 	add	a, l
   0126 DD 77 FC      [19]  241 	ld	-4 (ix),a
   0129 DD 7E FD      [19]  242 	ld	a,-3 (ix)
   012C 8C            [ 4]  243 	adc	a, h
   012D DD 77 FD      [19]  244 	ld	-3 (ix),a
   0130 DD 7E FE      [19]  245 	ld	a,-2 (ix)
   0133 8B            [ 4]  246 	adc	a, e
   0134 DD 77 FE      [19]  247 	ld	-2 (ix),a
   0137 DD 7E FF      [19]  248 	ld	a,-1 (ix)
   013A 8A            [ 4]  249 	adc	a, d
   013B DD 77 FF      [19]  250 	ld	-1 (ix),a
   013E 21 00 00      [10]  251 	ld	hl,#0x0000
   0141 39            [11]  252 	add	hl,sp
   0142 EB            [ 4]  253 	ex	de,hl
   0143 D5            [11]  254 	push	de
   0144 FD E1         [14]  255 	pop	iy
   0146 D5            [11]  256 	push	de
   0147 21 02 00      [10]  257 	ld	hl,#0x0002
   014A E5            [11]  258 	push	hl
   014B C5            [11]  259 	push	bc
   014C DD 6E FE      [19]  260 	ld	l,-2 (ix)
   014F DD 66 FF      [19]  261 	ld	h,-1 (ix)
   0152 E5            [11]  262 	push	hl
   0153 DD 6E FC      [19]  263 	ld	l,-4 (ix)
   0156 DD 66 FD      [19]  264 	ld	h,-3 (ix)
   0159 E5            [11]  265 	push	hl
   015A FD E5         [15]  266 	push	iy
   015C CDr00r00      [17]  267 	call	_disk_readp
   015F FD 21 0A 00   [14]  268 	ld	iy,#10
   0163 FD 39         [15]  269 	add	iy,sp
   0165 FD F9         [10]  270 	ld	sp,iy
   0167 7D            [ 4]  271 	ld	a,l
   0168 D1            [10]  272 	pop	de
   0169 B7            [ 4]  273 	or	a, a
   016A C2r9Fr02      [10]  274 	jp	NZ,00110$
                            275 ;pff.c:379: return LD_WORD(buf);
   016D 6B            [ 4]  276 	ld	l, e
   016E 62            [ 4]  277 	ld	h, d
   016F 23            [ 6]  278 	inc	hl
   0170 46            [ 7]  279 	ld	b, (hl)
   0171 0E 00         [ 7]  280 	ld	c,#0x00
   0173 1A            [ 7]  281 	ld	a,(de)
   0174 6F            [ 4]  282 	ld	l,a
   0175 26 00         [ 7]  283 	ld	h,#0x00
   0177 7D            [ 4]  284 	ld	a,l
   0178 B1            [ 4]  285 	or	a, c
   0179 6F            [ 4]  286 	ld	l,a
   017A 7C            [ 4]  287 	ld	a,h
   017B B0            [ 4]  288 	or	a, b
   017C 67            [ 4]  289 	ld	h,a
   017D 11 00 00      [10]  290 	ld	de,#0x0000
   0180 C3rA5r02      [10]  291 	jp	00111$
                            292 ;pff.c:382: case FS_FAT32 :
   0183                     293 00107$:
                            294 ;pff.c:383: if (disk_readp(buf, fs->fatbase + clst / 128, ((UINT)clst % 128) * 4, 4)) break;
   0183 CB BD         [ 8]  295 	res	7, l
   0185 26 00         [ 7]  296 	ld	h,#0x00
   0187 29            [11]  297 	add	hl, hl
   0188 29            [11]  298 	add	hl, hl
   0189 4D            [ 4]  299 	ld	c, l
   018A 44            [ 4]  300 	ld	b, h
   018B C5            [11]  301 	push	bc
   018C 21 06 00      [10]  302 	ld	hl, #0x0006
   018F 39            [11]  303 	add	hl, sp
   0190 EB            [ 4]  304 	ex	de, hl
   0191 01 04 00      [10]  305 	ld	bc, #0x0004
   0194 ED B0         [21]  306 	ldir
   0196 C1            [10]  307 	pop	bc
   0197 F5            [11]  308 	push	af
   0198 DD 6E 04      [19]  309 	ld	l,4 (ix)
   019B DD 66 05      [19]  310 	ld	h,5 (ix)
   019E DD 5E 06      [19]  311 	ld	e,6 (ix)
   01A1 DD 56 07      [19]  312 	ld	d,7 (ix)
   01A4 F1            [10]  313 	pop	af
   01A5 3E 07         [ 7]  314 	ld	a,#0x07
   01A7                     315 00137$:
   01A7 CB 3A         [ 8]  316 	srl	d
   01A9 CB 1B         [ 8]  317 	rr	e
   01AB CB 1C         [ 8]  318 	rr	h
   01AD CB 1D         [ 8]  319 	rr	l
   01AF 3D            [ 4]  320 	dec	a
   01B0 20 F5         [12]  321 	jr	NZ,00137$
   01B2 DD 7E FC      [19]  322 	ld	a,-4 (ix)
   01B5 85            [ 4]  323 	add	a, l
   01B6 DD 77 FC      [19]  324 	ld	-4 (ix),a
   01B9 DD 7E FD      [19]  325 	ld	a,-3 (ix)
   01BC 8C            [ 4]  326 	adc	a, h
   01BD DD 77 FD      [19]  327 	ld	-3 (ix),a
   01C0 DD 7E FE      [19]  328 	ld	a,-2 (ix)
   01C3 8B            [ 4]  329 	adc	a, e
   01C4 DD 77 FE      [19]  330 	ld	-2 (ix),a
   01C7 DD 7E FF      [19]  331 	ld	a,-1 (ix)
   01CA 8A            [ 4]  332 	adc	a, d
   01CB DD 77 FF      [19]  333 	ld	-1 (ix),a
   01CE 21 00 00      [10]  334 	ld	hl,#0x0000
   01D1 39            [11]  335 	add	hl,sp
   01D2 EB            [ 4]  336 	ex	de,hl
   01D3 D5            [11]  337 	push	de
   01D4 FD E1         [14]  338 	pop	iy
   01D6 D5            [11]  339 	push	de
   01D7 21 04 00      [10]  340 	ld	hl,#0x0004
   01DA E5            [11]  341 	push	hl
   01DB C5            [11]  342 	push	bc
   01DC DD 6E FE      [19]  343 	ld	l,-2 (ix)
   01DF DD 66 FF      [19]  344 	ld	h,-1 (ix)
   01E2 E5            [11]  345 	push	hl
   01E3 DD 6E FC      [19]  346 	ld	l,-4 (ix)
   01E6 DD 66 FD      [19]  347 	ld	h,-3 (ix)
   01E9 E5            [11]  348 	push	hl
   01EA FD E5         [15]  349 	push	iy
   01EC CDr00r00      [17]  350 	call	_disk_readp
   01EF FD 21 0A 00   [14]  351 	ld	iy,#10
   01F3 FD 39         [15]  352 	add	iy,sp
   01F5 FD F9         [10]  353 	ld	sp,iy
   01F7 7D            [ 4]  354 	ld	a,l
   01F8 D1            [10]  355 	pop	de
   01F9 B7            [ 4]  356 	or	a, a
   01FA C2r9Fr02      [10]  357 	jp	NZ,00110$
                            358 ;pff.c:384: return LD_DWORD(buf) & 0x0FFFFFFF;
   01FD 6B            [ 4]  359 	ld	l, e
   01FE 62            [ 4]  360 	ld	h, d
   01FF 23            [ 6]  361 	inc	hl
   0200 23            [ 6]  362 	inc	hl
   0201 23            [ 6]  363 	inc	hl
   0202 6E            [ 7]  364 	ld	l,(hl)
   0203 26 00         [ 7]  365 	ld	h,#0x00
   0205 01 00 00      [10]  366 	ld	bc,#0x0000
   0208 F5            [11]  367 	push	af
   0209 DD 75 FC      [19]  368 	ld	-4 (ix),l
   020C DD 74 FD      [19]  369 	ld	-3 (ix),h
   020F DD 71 FE      [19]  370 	ld	-2 (ix),c
   0212 DD 70 FF      [19]  371 	ld	-1 (ix),b
   0215 F1            [10]  372 	pop	af
   0216 3E 18         [ 7]  373 	ld	a,#0x18
   0218                     374 00139$:
   0218 DD CB FC 26   [23]  375 	sla	-4 (ix)
   021C DD CB FD 16   [23]  376 	rl	-3 (ix)
   0220 DD CB FE 16   [23]  377 	rl	-2 (ix)
   0224 DD CB FF 16   [23]  378 	rl	-1 (ix)
   0228 3D            [ 4]  379 	dec	a
   0229 20 ED         [12]  380 	jr	NZ,00139$
   022B 6B            [ 4]  381 	ld	l, e
   022C 62            [ 4]  382 	ld	h, d
   022D 23            [ 6]  383 	inc	hl
   022E 23            [ 6]  384 	inc	hl
   022F 6E            [ 7]  385 	ld	l,(hl)
   0230 26 00         [ 7]  386 	ld	h,#0x00
   0232 01 00 00      [10]  387 	ld	bc,#0x0000
   0235 3E 10         [ 7]  388 	ld	a,#0x10
   0237                     389 00141$:
   0237 29            [11]  390 	add	hl, hl
   0238 CB 11         [ 8]  391 	rl	c
   023A CB 10         [ 8]  392 	rl	b
   023C 3D            [ 4]  393 	dec	a
   023D 20 F8         [12]  394 	jr	NZ,00141$
   023F DD 7E FC      [19]  395 	ld	a,-4 (ix)
   0242 B5            [ 4]  396 	or	a, l
   0243 DD 77 FC      [19]  397 	ld	-4 (ix),a
   0246 DD 7E FD      [19]  398 	ld	a,-3 (ix)
   0249 B4            [ 4]  399 	or	a, h
   024A DD 77 FD      [19]  400 	ld	-3 (ix),a
   024D DD 7E FE      [19]  401 	ld	a,-2 (ix)
   0250 B1            [ 4]  402 	or	a, c
   0251 DD 77 FE      [19]  403 	ld	-2 (ix),a
   0254 DD 7E FF      [19]  404 	ld	a,-1 (ix)
   0257 B0            [ 4]  405 	or	a, b
   0258 DD 77 FF      [19]  406 	ld	-1 (ix),a
   025B 6B            [ 4]  407 	ld	l, e
   025C 62            [ 4]  408 	ld	h, d
   025D 23            [ 6]  409 	inc	hl
   025E 66            [ 7]  410 	ld	h, (hl)
   025F 2E 00         [ 7]  411 	ld	l,#0x00
   0261 01 00 00      [10]  412 	ld	bc,#0x0000
   0264 DD 7E FC      [19]  413 	ld	a,-4 (ix)
   0267 B5            [ 4]  414 	or	a, l
   0268 DD 77 FC      [19]  415 	ld	-4 (ix),a
   026B DD 7E FD      [19]  416 	ld	a,-3 (ix)
   026E B4            [ 4]  417 	or	a, h
   026F DD 77 FD      [19]  418 	ld	-3 (ix),a
   0272 DD 7E FE      [19]  419 	ld	a,-2 (ix)
   0275 B1            [ 4]  420 	or	a, c
   0276 DD 77 FE      [19]  421 	ld	-2 (ix),a
   0279 DD 7E FF      [19]  422 	ld	a,-1 (ix)
   027C B0            [ 4]  423 	or	a, b
   027D DD 77 FF      [19]  424 	ld	-1 (ix),a
   0280 1A            [ 7]  425 	ld	a,(de)
   0281 6F            [ 4]  426 	ld	l,a
   0282 26 00         [ 7]  427 	ld	h,#0x00
   0284 11 00 00      [10]  428 	ld	de,#0x0000
   0287 7D            [ 4]  429 	ld	a,l
   0288 DD B6 FC      [19]  430 	or	a, -4 (ix)
   028B 6F            [ 4]  431 	ld	l,a
   028C 7C            [ 4]  432 	ld	a,h
   028D DD B6 FD      [19]  433 	or	a, -3 (ix)
   0290 67            [ 4]  434 	ld	h,a
   0291 7B            [ 4]  435 	ld	a,e
   0292 DD B6 FE      [19]  436 	or	a, -2 (ix)
   0295 5F            [ 4]  437 	ld	e,a
   0296 7A            [ 4]  438 	ld	a,d
   0297 DD B6 FF      [19]  439 	or	a, -1 (ix)
   029A E6 0F         [ 7]  440 	and	a, #0x0F
   029C 57            [ 4]  441 	ld	d,a
   029D 18 06         [12]  442 	jr	00111$
                            443 ;pff.c:386: }
   029F                     444 00110$:
                            445 ;pff.c:388: return 1;	/* An error occured at the disk I/O layer */
   029F 21 01 00      [10]  446 	ld	hl,#0x0001
   02A2 11 00 00      [10]  447 	ld	de,#0x0000
   02A5                     448 00111$:
   02A5 DD F9         [10]  449 	ld	sp, ix
   02A7 DD E1         [14]  450 	pop	ix
   02A9 C9            [10]  451 	ret
                            452 ;pff.c:399: DWORD clust2sect (	/* !=0: Sector number, 0: Failed - invalid cluster# */
                            453 ;	---------------------------------
                            454 ; Function clust2sect
                            455 ; ---------------------------------
   02AA                     456 _clust2sect:
   02AA DD E5         [15]  457 	push	ix
   02AC DD 21 00 00   [14]  458 	ld	ix,#0
   02B0 DD 39         [15]  459 	add	ix,sp
   02B2 F5            [11]  460 	push	af
   02B3 F5            [11]  461 	push	af
                            462 ;pff.c:403: FATFS *fs = FatFs;
   02B4 ED 4Br00r00   [20]  463 	ld	bc,(_FatFs)
                            464 ;pff.c:406: clst -= 2;
   02B8 DD 7E 04      [19]  465 	ld	a,4 (ix)
   02BB C6 FE         [ 7]  466 	add	a,#0xFE
   02BD DD 77 04      [19]  467 	ld	4 (ix),a
   02C0 DD 7E 05      [19]  468 	ld	a,5 (ix)
   02C3 CE FF         [ 7]  469 	adc	a,#0xFF
   02C5 DD 77 05      [19]  470 	ld	5 (ix),a
   02C8 DD 7E 06      [19]  471 	ld	a,6 (ix)
   02CB CE FF         [ 7]  472 	adc	a,#0xFF
   02CD DD 77 06      [19]  473 	ld	6 (ix),a
   02D0 DD 7E 07      [19]  474 	ld	a,7 (ix)
   02D3 CE FF         [ 7]  475 	adc	a,#0xFF
   02D5 DD 77 07      [19]  476 	ld	7 (ix),a
                            477 ;pff.c:407: if (clst >= (fs->n_fatent - 2)) return 0;		/* Invalid cluster# */
   02D8 C5            [11]  478 	push	bc
   02D9 FD E1         [14]  479 	pop	iy
   02DB FD 6E 06      [19]  480 	ld	l,6 (iy)
   02DE FD 66 07      [19]  481 	ld	h,7 (iy)
   02E1 FD 5E 08      [19]  482 	ld	e,8 (iy)
   02E4 FD 56 09      [19]  483 	ld	d,9 (iy)
   02E7 7D            [ 4]  484 	ld	a,l
   02E8 C6 FE         [ 7]  485 	add	a,#0xFE
   02EA 6F            [ 4]  486 	ld	l,a
   02EB 7C            [ 4]  487 	ld	a,h
   02EC CE FF         [ 7]  488 	adc	a,#0xFF
   02EE 67            [ 4]  489 	ld	h,a
   02EF 7B            [ 4]  490 	ld	a,e
   02F0 CE FF         [ 7]  491 	adc	a,#0xFF
   02F2 5F            [ 4]  492 	ld	e,a
   02F3 7A            [ 4]  493 	ld	a,d
   02F4 CE FF         [ 7]  494 	adc	a,#0xFF
   02F6 57            [ 4]  495 	ld	d,a
   02F7 DD 7E 04      [19]  496 	ld	a,4 (ix)
   02FA 95            [ 4]  497 	sub	a, l
   02FB DD 7E 05      [19]  498 	ld	a,5 (ix)
   02FE 9C            [ 4]  499 	sbc	a, h
   02FF DD 7E 06      [19]  500 	ld	a,6 (ix)
   0302 9B            [ 4]  501 	sbc	a, e
   0303 DD 7E 07      [19]  502 	ld	a,7 (ix)
   0306 9A            [ 4]  503 	sbc	a, d
   0307 38 07         [12]  504 	jr	C,00102$
   0309 21 00 00      [10]  505 	ld	hl,#0x0000
   030C 5D            [ 4]  506 	ld	e,l
   030D 54            [ 4]  507 	ld	d,h
   030E 18 4E         [12]  508 	jr	00103$
   0310                     509 00102$:
                            510 ;pff.c:408: return (DWORD)clst * fs->csize + fs->database;
   0310 69            [ 4]  511 	ld	l, c
   0311 60            [ 4]  512 	ld	h, b
   0312 23            [ 6]  513 	inc	hl
   0313 23            [ 6]  514 	inc	hl
   0314 5E            [ 7]  515 	ld	e,(hl)
   0315 16 00         [ 7]  516 	ld	d,#0x00
   0317 21 00 00      [10]  517 	ld	hl,#0x0000
   031A C5            [11]  518 	push	bc
   031B E5            [11]  519 	push	hl
   031C D5            [11]  520 	push	de
   031D DD 6E 06      [19]  521 	ld	l,6 (ix)
   0320 DD 66 07      [19]  522 	ld	h,7 (ix)
   0323 E5            [11]  523 	push	hl
   0324 DD 6E 04      [19]  524 	ld	l,4 (ix)
   0327 DD 66 05      [19]  525 	ld	h,5 (ix)
   032A E5            [11]  526 	push	hl
   032B CDr00r00      [17]  527 	call	__mullong
   032E F1            [10]  528 	pop	af
   032F F1            [10]  529 	pop	af
   0330 F1            [10]  530 	pop	af
   0331 F1            [10]  531 	pop	af
   0332 DD 72 FF      [19]  532 	ld	-1 (ix),d
   0335 DD 73 FE      [19]  533 	ld	-2 (ix),e
   0338 DD 74 FD      [19]  534 	ld	-3 (ix),h
   033B DD 75 FC      [19]  535 	ld	-4 (ix),l
   033E E1            [10]  536 	pop	hl
   033F 11 12 00      [10]  537 	ld	de, #0x0012
   0342 19            [11]  538 	add	hl, de
   0343 5E            [ 7]  539 	ld	e,(hl)
   0344 23            [ 6]  540 	inc	hl
   0345 56            [ 7]  541 	ld	d,(hl)
   0346 23            [ 6]  542 	inc	hl
   0347 4E            [ 7]  543 	ld	c,(hl)
   0348 23            [ 6]  544 	inc	hl
   0349 46            [ 7]  545 	ld	b,(hl)
   034A DD 7E FC      [19]  546 	ld	a,-4 (ix)
   034D 83            [ 4]  547 	add	a, e
   034E 6F            [ 4]  548 	ld	l,a
   034F DD 7E FD      [19]  549 	ld	a,-3 (ix)
   0352 8A            [ 4]  550 	adc	a, d
   0353 67            [ 4]  551 	ld	h,a
   0354 DD 7E FE      [19]  552 	ld	a,-2 (ix)
   0357 89            [ 4]  553 	adc	a, c
   0358 5F            [ 4]  554 	ld	e,a
   0359 DD 7E FF      [19]  555 	ld	a,-1 (ix)
   035C 88            [ 4]  556 	adc	a, b
   035D 57            [ 4]  557 	ld	d,a
   035E                     558 00103$:
   035E DD F9         [10]  559 	ld	sp, ix
   0360 DD E1         [14]  560 	pop	ix
   0362 C9            [10]  561 	ret
                            562 ;pff.c:413: CLUST get_clust (
                            563 ;	---------------------------------
                            564 ; Function get_clust
                            565 ; ---------------------------------
   0363                     566 _get_clust:
   0363 DD E5         [15]  567 	push	ix
   0365 DD 21 00 00   [14]  568 	ld	ix,#0
   0369 DD 39         [15]  569 	add	ix,sp
   036B 21 FA FF      [10]  570 	ld	hl,#-6
   036E 39            [11]  571 	add	hl,sp
   036F F9            [ 6]  572 	ld	sp,hl
                            573 ;pff.c:417: FATFS *fs = FatFs;
   0370 2Ar00r00      [16]  574 	ld	hl,(_FatFs)
                            575 ;pff.c:418: CLUST clst = 0;
   0373 11 00 00      [10]  576 	ld	de,#0x0000
   0376 01 00 00      [10]  577 	ld	bc,#0x0000
                            578 ;pff.c:421: if (_FS_32ONLY || (_FS_FAT32 && fs->fs_type == FS_FAT32)) {
   0379 7E            [ 7]  579 	ld	a,(hl)
   037A D6 03         [ 7]  580 	sub	a, #0x03
   037C 20 2C         [12]  581 	jr	NZ,00102$
                            582 ;pff.c:422: clst = LD_WORD(dir+DIR_FstClusHI);
   037E DD 7E 04      [19]  583 	ld	a,4 (ix)
   0381 C6 14         [ 7]  584 	add	a, #0x14
   0383 4F            [ 4]  585 	ld	c,a
   0384 DD 7E 05      [19]  586 	ld	a,5 (ix)
   0387 CE 00         [ 7]  587 	adc	a, #0x00
   0389 47            [ 4]  588 	ld	b,a
   038A 69            [ 4]  589 	ld	l, c
   038B 60            [ 4]  590 	ld	h, b
   038C 23            [ 6]  591 	inc	hl
   038D 56            [ 7]  592 	ld	d, (hl)
   038E 1E 00         [ 7]  593 	ld	e,#0x00
   0390 0A            [ 7]  594 	ld	a,(bc)
   0391 6F            [ 4]  595 	ld	l,a
   0392 26 00         [ 7]  596 	ld	h,#0x00
   0394 7B            [ 4]  597 	ld	a,e
   0395 B5            [ 4]  598 	or	a, l
   0396 5F            [ 4]  599 	ld	e,a
   0397 7A            [ 4]  600 	ld	a,d
   0398 B4            [ 4]  601 	or	a, h
   0399 57            [ 4]  602 	ld	d,a
   039A 01 00 00      [10]  603 	ld	bc,#0x0000
                            604 ;pff.c:423: clst <<= 16;
   039D 3E 10         [ 7]  605 	ld	a,#0x10
   039F                     606 00113$:
   039F CB 23         [ 8]  607 	sla	e
   03A1 CB 12         [ 8]  608 	rl	d
   03A3 CB 11         [ 8]  609 	rl	c
   03A5 CB 10         [ 8]  610 	rl	b
   03A7 3D            [ 4]  611 	dec	a
   03A8 20 F5         [12]  612 	jr	NZ,00113$
   03AA                     613 00102$:
                            614 ;pff.c:425: clst |= LD_WORD(dir+DIR_FstClusLO);
   03AA FD 21 1A 00   [14]  615 	ld	iy,#0x001A
   03AE C5            [11]  616 	push	bc
   03AF DD 4E 04      [19]  617 	ld	c,4 (ix)
   03B2 DD 46 05      [19]  618 	ld	b,5 (ix)
   03B5 FD 09         [15]  619 	add	iy, bc
   03B7 C1            [10]  620 	pop	bc
   03B8 FD E5         [15]  621 	push	iy
   03BA E1            [10]  622 	pop	hl
   03BB 23            [ 6]  623 	inc	hl
   03BC 66            [ 7]  624 	ld	h,(hl)
   03BD DD 74 FF      [19]  625 	ld	-1 (ix),h
   03C0 DD 36 FE 00   [19]  626 	ld	-2 (ix),#0x00
   03C4 FD 7E 00      [19]  627 	ld	a, 0 (iy)
   03C7 2E 00         [ 7]  628 	ld	l, #0x00
   03C9 DD B6 FE      [19]  629 	or	a, -2 (ix)
   03CC 67            [ 4]  630 	ld	h,a
   03CD 7D            [ 4]  631 	ld	a,l
   03CE DD B6 FF      [19]  632 	or	a, -1 (ix)
   03D1 DD 74 FA      [19]  633 	ld	-6 (ix), h
   03D4 DD 77 FB      [19]  634 	ld	-5 (ix), a
   03D7 DD 36 FC 00   [19]  635 	ld	-4 (ix),#0x00
   03DB DD 36 FD 00   [19]  636 	ld	-3 (ix),#0x00
   03DF 7B            [ 4]  637 	ld	a,e
   03E0 DD B6 FA      [19]  638 	or	a, -6 (ix)
   03E3 6F            [ 4]  639 	ld	l,a
   03E4 7A            [ 4]  640 	ld	a,d
   03E5 DD B6 FB      [19]  641 	or	a, -5 (ix)
   03E8 67            [ 4]  642 	ld	h,a
   03E9 79            [ 4]  643 	ld	a,c
   03EA DD B6 FC      [19]  644 	or	a, -4 (ix)
   03ED 5F            [ 4]  645 	ld	e,a
   03EE 78            [ 4]  646 	ld	a,b
   03EF DD B6 FD      [19]  647 	or	a, -3 (ix)
   03F2 57            [ 4]  648 	ld	d,a
                            649 ;pff.c:427: return clst;
   03F3 DD F9         [10]  650 	ld	sp, ix
   03F5 DD E1         [14]  651 	pop	ix
   03F7 C9            [10]  652 	ret
                            653 ;pff.c:436: FRESULT dir_rewind (
                            654 ;	---------------------------------
                            655 ; Function dir_rewind
                            656 ; ---------------------------------
   03F8                     657 _dir_rewind:
   03F8 DD E5         [15]  658 	push	ix
   03FA DD 21 00 00   [14]  659 	ld	ix,#0
   03FE DD 39         [15]  660 	add	ix,sp
   0400 21 F8 FF      [10]  661 	ld	hl,#-8
   0403 39            [11]  662 	add	hl,sp
   0404 F9            [ 6]  663 	ld	sp,hl
                            664 ;pff.c:441: FATFS *fs = FatFs;
   0405 2Ar00r00      [16]  665 	ld	hl,(_FatFs)
   0408 DD 75 FC      [19]  666 	ld	-4 (ix),l
   040B DD 74 FD      [19]  667 	ld	-3 (ix),h
                            668 ;pff.c:444: dj->index = 0;
   040E DD 5E 04      [19]  669 	ld	e,4 (ix)
   0411 DD 56 05      [19]  670 	ld	d,5 (ix)
   0414 6B            [ 4]  671 	ld	l, e
   0415 62            [ 4]  672 	ld	h, d
   0416 AF            [ 4]  673 	xor	a, a
   0417 77            [ 7]  674 	ld	(hl), a
   0418 23            [ 6]  675 	inc	hl
   0419 77            [ 7]  676 	ld	(hl), a
                            677 ;pff.c:445: clst = dj->sclust;
   041A D5            [11]  678 	push	de
   041B FD E1         [14]  679 	pop	iy
   041D FD 7E 04      [19]  680 	ld	a,4 (iy)
   0420 DD 77 F8      [19]  681 	ld	-8 (ix),a
   0423 FD 7E 05      [19]  682 	ld	a,5 (iy)
   0426 DD 77 F9      [19]  683 	ld	-7 (ix),a
   0429 FD 7E 06      [19]  684 	ld	a,6 (iy)
   042C DD 77 FA      [19]  685 	ld	-6 (ix),a
   042F FD 7E 07      [19]  686 	ld	a,7 (iy)
   0432 DD 77 FB      [19]  687 	ld	-5 (ix),a
                            688 ;pff.c:446: if (clst == 1 || clst >= fs->n_fatent)	/* Check start cluster range */
   0435 DD 7E F8      [19]  689 	ld	a,-8 (ix)
   0438 3D            [ 4]  690 	dec	a
   0439 20 12         [12]  691 	jr	NZ,00133$
   043B DD 7E F9      [19]  692 	ld	a,-7 (ix)
   043E B7            [ 4]  693 	or	a, a
   043F 20 0C         [12]  694 	jr	NZ,00133$
   0441 DD 7E FA      [19]  695 	ld	a,-6 (ix)
   0444 B7            [ 4]  696 	or	a, a
   0445 20 06         [12]  697 	jr	NZ,00133$
   0447 DD 7E FB      [19]  698 	ld	a,-5 (ix)
   044A B7            [ 4]  699 	or	a, a
   044B 28 25         [12]  700 	jr	Z,00101$
   044D                     701 00133$:
   044D DD 6E FC      [19]  702 	ld	l,-4 (ix)
   0450 DD 66 FD      [19]  703 	ld	h,-3 (ix)
   0453 01 06 00      [10]  704 	ld	bc, #0x0006
   0456 09            [11]  705 	add	hl, bc
   0457 46            [ 7]  706 	ld	b,(hl)
   0458 23            [ 6]  707 	inc	hl
   0459 4E            [ 7]  708 	ld	c,(hl)
   045A 23            [ 6]  709 	inc	hl
   045B 23            [ 6]  710 	inc	hl
   045C 7E            [ 7]  711 	ld	a,(hl)
   045D 2B            [ 6]  712 	dec	hl
   045E 66            [ 7]  713 	ld	h,(hl)
   045F 6F            [ 4]  714 	ld	l,a
   0460 DD 7E F8      [19]  715 	ld	a,-8 (ix)
   0463 90            [ 4]  716 	sub	a, b
   0464 DD 7E F9      [19]  717 	ld	a,-7 (ix)
   0467 99            [ 4]  718 	sbc	a, c
   0468 DD 7E FA      [19]  719 	ld	a,-6 (ix)
   046B 9C            [ 4]  720 	sbc	a, h
   046C DD 7E FB      [19]  721 	ld	a,-5 (ix)
   046F 9D            [ 4]  722 	sbc	a, l
   0470 38 05         [12]  723 	jr	C,00106$
   0472                     724 00101$:
                            725 ;pff.c:447: return FR_DISK_ERR;
   0472 2E 01         [ 7]  726 	ld	l,#0x01
   0474 C3r05r05      [10]  727 	jp	00109$
                            728 ;pff.c:448: if (_FS_FAT32 && !clst && (_FS_32ONLY || fs->fs_type == FS_FAT32))	/* Replace cluster# 0 with root cluster# if in FAT32 */
   0477                     729 00106$:
                            730 ;pff.c:449: clst = (CLUST)fs->dirbase;
   0477 DD 7E FC      [19]  731 	ld	a,-4 (ix)
   047A C6 0E         [ 7]  732 	add	a, #0x0E
   047C 4F            [ 4]  733 	ld	c,a
   047D DD 7E FD      [19]  734 	ld	a,-3 (ix)
   0480 CE 00         [ 7]  735 	adc	a, #0x00
   0482 47            [ 4]  736 	ld	b,a
                            737 ;pff.c:448: if (_FS_FAT32 && !clst && (_FS_32ONLY || fs->fs_type == FS_FAT32))	/* Replace cluster# 0 with root cluster# if in FAT32 */
   0483 DD 7E FB      [19]  738 	ld	a,-5 (ix)
   0486 DD B6 FA      [19]  739 	or	a, -6 (ix)
   0489 DD B6 F9      [19]  740 	or	a, -7 (ix)
   048C DD B6 F8      [19]  741 	or	a,-8 (ix)
   048F 20 1B         [12]  742 	jr	NZ,00105$
   0491 DD 6E FC      [19]  743 	ld	l,-4 (ix)
   0494 DD 66 FD      [19]  744 	ld	h,-3 (ix)
   0497 7E            [ 7]  745 	ld	a,(hl)
   0498 D6 03         [ 7]  746 	sub	a, #0x03
   049A 20 10         [12]  747 	jr	NZ,00105$
                            748 ;pff.c:449: clst = (CLUST)fs->dirbase;
   049C D5            [11]  749 	push	de
   049D C5            [11]  750 	push	bc
   049E 59            [ 4]  751 	ld	e, c
   049F 50            [ 4]  752 	ld	d, b
   04A0 21 04 00      [10]  753 	ld	hl, #0x0004
   04A3 39            [11]  754 	add	hl, sp
   04A4 EB            [ 4]  755 	ex	de, hl
   04A5 01 04 00      [10]  756 	ld	bc, #0x0004
   04A8 ED B0         [21]  757 	ldir
   04AA C1            [10]  758 	pop	bc
   04AB D1            [10]  759 	pop	de
   04AC                     760 00105$:
                            761 ;pff.c:450: dj->clust = clst;						/* Current cluster */
   04AC 21 08 00      [10]  762 	ld	hl,#0x0008
   04AF 19            [11]  763 	add	hl,de
   04B0 D5            [11]  764 	push	de
   04B1 C5            [11]  765 	push	bc
   04B2 EB            [ 4]  766 	ex	de,hl
   04B3 21 04 00      [10]  767 	ld	hl, #0x0004
   04B6 39            [11]  768 	add	hl, sp
   04B7 01 04 00      [10]  769 	ld	bc, #0x0004
   04BA ED B0         [21]  770 	ldir
   04BC C1            [10]  771 	pop	bc
   04BD D1            [10]  772 	pop	de
                            773 ;pff.c:451: dj->sect = (_FS_32ONLY || clst) ? clust2sect(clst) : fs->dirbase;	/* Current sector */
   04BE 21 0C 00      [10]  774 	ld	hl,#0x000C
   04C1 19            [11]  775 	add	hl,de
   04C2 DD 75 FE      [19]  776 	ld	-2 (ix),l
   04C5 DD 74 FF      [19]  777 	ld	-1 (ix),h
   04C8 DD 7E FB      [19]  778 	ld	a,-5 (ix)
   04CB DD B6 FA      [19]  779 	or	a, -6 (ix)
   04CE DD B6 F9      [19]  780 	or	a, -7 (ix)
   04D1 DD B6 F8      [19]  781 	or	a,-8 (ix)
   04D4 28 17         [12]  782 	jr	Z,00111$
   04D6 DD 6E FA      [19]  783 	ld	l,-6 (ix)
   04D9 DD 66 FB      [19]  784 	ld	h,-5 (ix)
   04DC E5            [11]  785 	push	hl
   04DD DD 6E F8      [19]  786 	ld	l,-8 (ix)
   04E0 DD 66 F9      [19]  787 	ld	h,-7 (ix)
   04E3 E5            [11]  788 	push	hl
   04E4 CDrAAr02      [17]  789 	call	_clust2sect
   04E7 F1            [10]  790 	pop	af
   04E8 F1            [10]  791 	pop	af
   04E9 4D            [ 4]  792 	ld	c,l
   04EA 44            [ 4]  793 	ld	b,h
   04EB 18 09         [12]  794 	jr	00112$
   04ED                     795 00111$:
   04ED 69            [ 4]  796 	ld	l, c
   04EE 60            [ 4]  797 	ld	h, b
   04EF 4E            [ 7]  798 	ld	c,(hl)
   04F0 23            [ 6]  799 	inc	hl
   04F1 46            [ 7]  800 	ld	b,(hl)
   04F2 23            [ 6]  801 	inc	hl
   04F3 5E            [ 7]  802 	ld	e,(hl)
   04F4 23            [ 6]  803 	inc	hl
   04F5 56            [ 7]  804 	ld	d,(hl)
   04F6                     805 00112$:
   04F6 DD 6E FE      [19]  806 	ld	l,-2 (ix)
   04F9 DD 66 FF      [19]  807 	ld	h,-1 (ix)
   04FC 71            [ 7]  808 	ld	(hl),c
   04FD 23            [ 6]  809 	inc	hl
   04FE 70            [ 7]  810 	ld	(hl),b
   04FF 23            [ 6]  811 	inc	hl
   0500 73            [ 7]  812 	ld	(hl),e
   0501 23            [ 6]  813 	inc	hl
   0502 72            [ 7]  814 	ld	(hl),d
                            815 ;pff.c:453: return FR_OK;	/* Seek succeeded */
   0503 2E 00         [ 7]  816 	ld	l,#0x00
   0505                     817 00109$:
   0505 DD F9         [10]  818 	ld	sp, ix
   0507 DD E1         [14]  819 	pop	ix
   0509 C9            [10]  820 	ret
                            821 ;pff.c:464: FRESULT dir_next (	/* FR_OK:Succeeded, FR_NO_FILE:End of table */
                            822 ;	---------------------------------
                            823 ; Function dir_next
                            824 ; ---------------------------------
   050A                     825 _dir_next:
   050A DD E5         [15]  826 	push	ix
   050C DD 21 00 00   [14]  827 	ld	ix,#0
   0510 DD 39         [15]  828 	add	ix,sp
   0512 21 F0 FF      [10]  829 	ld	hl,#-16
   0515 39            [11]  830 	add	hl,sp
   0516 F9            [ 6]  831 	ld	sp,hl
                            832 ;pff.c:470: FATFS *fs = FatFs;
   0517 2Ar00r00      [16]  833 	ld	hl,(_FatFs)
   051A DD 75 F2      [19]  834 	ld	-14 (ix),l
   051D DD 74 F3      [19]  835 	ld	-13 (ix),h
                            836 ;pff.c:473: i = dj->index + 1;
   0520 DD 7E 04      [19]  837 	ld	a,4 (ix)
   0523 DD 77 FA      [19]  838 	ld	-6 (ix),a
   0526 DD 7E 05      [19]  839 	ld	a,5 (ix)
   0529 DD 77 FB      [19]  840 	ld	-5 (ix),a
   052C DD 6E FA      [19]  841 	ld	l,-6 (ix)
   052F DD 66 FB      [19]  842 	ld	h,-5 (ix)
   0532 5E            [ 7]  843 	ld	e,(hl)
   0533 23            [ 6]  844 	inc	hl
   0534 56            [ 7]  845 	ld	d,(hl)
   0535 13            [ 6]  846 	inc	de
   0536 33            [ 6]  847 	inc	sp
   0537 33            [ 6]  848 	inc	sp
   0538 D5            [11]  849 	push	de
                            850 ;pff.c:474: if (!i || !dj->sect)	/* Report EOT when index has reached 65535 */
   0539 DD 7E F1      [19]  851 	ld	a,-15 (ix)
   053C DD B6 F0      [19]  852 	or	a,-16 (ix)
   053F 28 23         [12]  853 	jr	Z,00101$
   0541 DD 7E FA      [19]  854 	ld	a,-6 (ix)
   0544 C6 0C         [ 7]  855 	add	a, #0x0C
   0546 DD 77 F4      [19]  856 	ld	-12 (ix),a
   0549 DD 7E FB      [19]  857 	ld	a,-5 (ix)
   054C CE 00         [ 7]  858 	adc	a, #0x00
   054E DD 77 F5      [19]  859 	ld	-11 (ix),a
   0551 DD 6E F4      [19]  860 	ld	l,-12 (ix)
   0554 DD 66 F5      [19]  861 	ld	h,-11 (ix)
   0557 5E            [ 7]  862 	ld	e,(hl)
   0558 23            [ 6]  863 	inc	hl
   0559 56            [ 7]  864 	ld	d,(hl)
   055A 23            [ 6]  865 	inc	hl
   055B 4E            [ 7]  866 	ld	c,(hl)
   055C 23            [ 6]  867 	inc	hl
   055D 46            [ 7]  868 	ld	b,(hl)
   055E 78            [ 4]  869 	ld	a,b
   055F B1            [ 4]  870 	or	a, c
   0560 B2            [ 4]  871 	or	a, d
   0561 B3            [ 4]  872 	or	a,e
   0562 20 05         [12]  873 	jr	NZ,00102$
   0564                     874 00101$:
                            875 ;pff.c:475: return FR_NO_FILE;
   0564 2E 03         [ 7]  876 	ld	l,#0x03
   0566 C3r92r06      [10]  877 	jp	00117$
   0569                     878 00102$:
                            879 ;pff.c:477: if (!(i % 16)) {		/* Sector changed? */
   0569 DD 7E F0      [19]  880 	ld	a,-16 (ix)
   056C E6 0F         [ 7]  881 	and	a, #0x0F
   056E C2r81r06      [10]  882 	jp	NZ,00116$
                            883 ;pff.c:478: dj->sect++;			/* Next sector */
   0571 1C            [ 4]  884 	inc	e
   0572 20 07         [12]  885 	jr	NZ,00149$
   0574 14            [ 4]  886 	inc	d
   0575 20 04         [12]  887 	jr	NZ,00149$
   0577 0C            [ 4]  888 	inc	c
   0578 20 01         [12]  889 	jr	NZ,00149$
   057A 04            [ 4]  890 	inc	b
   057B                     891 00149$:
   057B DD 6E F4      [19]  892 	ld	l,-12 (ix)
   057E DD 66 F5      [19]  893 	ld	h,-11 (ix)
   0581 73            [ 7]  894 	ld	(hl),e
   0582 23            [ 6]  895 	inc	hl
   0583 72            [ 7]  896 	ld	(hl),d
   0584 23            [ 6]  897 	inc	hl
   0585 71            [ 7]  898 	ld	(hl),c
   0586 23            [ 6]  899 	inc	hl
   0587 70            [ 7]  900 	ld	(hl),b
                            901 ;pff.c:480: if (dj->clust == 0) {	/* Static table */
   0588 DD 7E FA      [19]  902 	ld	a,-6 (ix)
   058B C6 08         [ 7]  903 	add	a, #0x08
   058D DD 77 F6      [19]  904 	ld	-10 (ix),a
   0590 DD 7E FB      [19]  905 	ld	a,-5 (ix)
   0593 CE 00         [ 7]  906 	adc	a, #0x00
   0595 DD 77 F7      [19]  907 	ld	-9 (ix),a
   0598 DD 6E F6      [19]  908 	ld	l,-10 (ix)
   059B DD 66 F7      [19]  909 	ld	h,-9 (ix)
   059E 5E            [ 7]  910 	ld	e,(hl)
   059F 23            [ 6]  911 	inc	hl
   05A0 56            [ 7]  912 	ld	d,(hl)
   05A1 23            [ 6]  913 	inc	hl
   05A2 4E            [ 7]  914 	ld	c,(hl)
   05A3 23            [ 6]  915 	inc	hl
   05A4 46            [ 7]  916 	ld	b,(hl)
   05A5 78            [ 4]  917 	ld	a,b
   05A6 B1            [ 4]  918 	or	a, c
   05A7 B2            [ 4]  919 	or	a, d
   05A8 B3            [ 4]  920 	or	a,e
   05A9 20 1B         [12]  921 	jr	NZ,00113$
                            922 ;pff.c:481: if (i >= fs->n_rootdir)	/* Report EOT when end of table */
   05AB C1            [10]  923 	pop	bc
   05AC E1            [10]  924 	pop	hl
   05AD E5            [11]  925 	push	hl
   05AE C5            [11]  926 	push	bc
   05AF 11 04 00      [10]  927 	ld	de, #0x0004
   05B2 19            [11]  928 	add	hl, de
   05B3 5E            [ 7]  929 	ld	e,(hl)
   05B4 23            [ 6]  930 	inc	hl
   05B5 66            [ 7]  931 	ld	h,(hl)
   05B6 DD 7E F0      [19]  932 	ld	a,-16 (ix)
   05B9 93            [ 4]  933 	sub	a, e
   05BA DD 7E F1      [19]  934 	ld	a,-15 (ix)
   05BD 9C            [ 4]  935 	sbc	a, h
   05BE DAr81r06      [10]  936 	jp	C,00116$
                            937 ;pff.c:482: return FR_NO_FILE;
   05C1 2E 03         [ 7]  938 	ld	l,#0x03
   05C3 C3r92r06      [10]  939 	jp	00117$
   05C6                     940 00113$:
                            941 ;pff.c:485: if (((i / 16) & (fs->csize - 1)) == 0) {	/* Cluster changed? */
   05C6 DD 7E F0      [19]  942 	ld	a,-16 (ix)
   05C9 DD 77 F8      [19]  943 	ld	-8 (ix),a
   05CC DD 7E F1      [19]  944 	ld	a,-15 (ix)
   05CF DD 77 F9      [19]  945 	ld	-7 (ix),a
   05D2 DD CB F9 3E   [23]  946 	srl	-7 (ix)
   05D6 DD CB F8 1E   [23]  947 	rr	-8 (ix)
   05DA DD CB F9 3E   [23]  948 	srl	-7 (ix)
   05DE DD CB F8 1E   [23]  949 	rr	-8 (ix)
   05E2 DD CB F9 3E   [23]  950 	srl	-7 (ix)
   05E6 DD CB F8 1E   [23]  951 	rr	-8 (ix)
   05EA DD CB F9 3E   [23]  952 	srl	-7 (ix)
   05EE DD CB F8 1E   [23]  953 	rr	-8 (ix)
   05F2 DD 6E F2      [19]  954 	ld	l,-14 (ix)
   05F5 DD 66 F3      [19]  955 	ld	h,-13 (ix)
   05F8 23            [ 6]  956 	inc	hl
   05F9 23            [ 6]  957 	inc	hl
   05FA 6E            [ 7]  958 	ld	l,(hl)
   05FB 26 00         [ 7]  959 	ld	h,#0x00
   05FD 2B            [ 6]  960 	dec	hl
   05FE 7D            [ 4]  961 	ld	a,l
   05FF DD A6 F8      [19]  962 	and	a, -8 (ix)
   0602 6F            [ 4]  963 	ld	l,a
   0603 7C            [ 4]  964 	ld	a,h
   0604 DD A6 F9      [19]  965 	and	a, -7 (ix)
   0607 B5            [ 4]  966 	or	a,l
   0608 20 77         [12]  967 	jr	NZ,00116$
                            968 ;pff.c:486: clst = get_fat(dj->clust);		/* Get next cluster */
   060A C5            [11]  969 	push	bc
   060B D5            [11]  970 	push	de
   060C CDr8Ar00      [17]  971 	call	_get_fat
   060F F1            [10]  972 	pop	af
   0610 F1            [10]  973 	pop	af
   0611 4D            [ 4]  974 	ld	c,l
   0612 44            [ 4]  975 	ld	b,h
                            976 ;pff.c:487: if (clst <= 1) return FR_DISK_ERR;
   0613 3E 01         [ 7]  977 	ld	a,#0x01
   0615 B9            [ 4]  978 	cp	a, c
   0616 3E 00         [ 7]  979 	ld	a,#0x00
   0618 98            [ 4]  980 	sbc	a, b
   0619 3E 00         [ 7]  981 	ld	a,#0x00
   061B 9B            [ 4]  982 	sbc	a, e
   061C 3E 00         [ 7]  983 	ld	a,#0x00
   061E 9A            [ 4]  984 	sbc	a, d
   061F 38 04         [12]  985 	jr	C,00107$
   0621 2E 01         [ 7]  986 	ld	l,#0x01
   0623 18 6D         [12]  987 	jr	00117$
   0625                     988 00107$:
                            989 ;pff.c:488: if (clst >= fs->n_fatent)		/* When it reached end of dynamic table */
   0625 E5            [11]  990 	push	hl
   0626 DD 6E F2      [19]  991 	ld	l,-14 (ix)
   0629 DD 66 F3      [19]  992 	ld	h,-13 (ix)
   062C E5            [11]  993 	push	hl
   062D FD E1         [14]  994 	pop	iy
   062F E1            [10]  995 	pop	hl
   0630 FD 7E 06      [19]  996 	ld	a,6 (iy)
   0633 DD 77 FC      [19]  997 	ld	-4 (ix),a
   0636 FD 7E 07      [19]  998 	ld	a,7 (iy)
   0639 DD 77 FD      [19]  999 	ld	-3 (ix),a
   063C FD 7E 08      [19] 1000 	ld	a,8 (iy)
   063F DD 77 FE      [19] 1001 	ld	-2 (ix),a
   0642 FD 7E 09      [19] 1002 	ld	a,9 (iy)
   0645 DD 77 FF      [19] 1003 	ld	-1 (ix),a
   0648 79            [ 4] 1004 	ld	a,c
   0649 DD 96 FC      [19] 1005 	sub	a, -4 (ix)
   064C 78            [ 4] 1006 	ld	a,b
   064D DD 9E FD      [19] 1007 	sbc	a, -3 (ix)
   0650 7B            [ 4] 1008 	ld	a,e
   0651 DD 9E FE      [19] 1009 	sbc	a, -2 (ix)
   0654 7A            [ 4] 1010 	ld	a,d
   0655 DD 9E FF      [19] 1011 	sbc	a, -1 (ix)
   0658 38 04         [12] 1012 	jr	C,00109$
                           1013 ;pff.c:489: return FR_NO_FILE;			/* Report EOT */
   065A 2E 03         [ 7] 1014 	ld	l,#0x03
   065C 18 34         [12] 1015 	jr	00117$
   065E                    1016 00109$:
                           1017 ;pff.c:490: dj->clust = clst;				/* Initialize data for new cluster */
   065E DD 6E F6      [19] 1018 	ld	l,-10 (ix)
   0661 DD 66 F7      [19] 1019 	ld	h,-9 (ix)
   0664 71            [ 7] 1020 	ld	(hl),c
   0665 23            [ 6] 1021 	inc	hl
   0666 70            [ 7] 1022 	ld	(hl),b
   0667 23            [ 6] 1023 	inc	hl
   0668 73            [ 7] 1024 	ld	(hl),e
   0669 23            [ 6] 1025 	inc	hl
   066A 72            [ 7] 1026 	ld	(hl),d
                           1027 ;pff.c:491: dj->sect = clust2sect(clst);
   066B D5            [11] 1028 	push	de
   066C C5            [11] 1029 	push	bc
   066D CDrAAr02      [17] 1030 	call	_clust2sect
   0670 F1            [10] 1031 	pop	af
   0671 F1            [10] 1032 	pop	af
   0672 45            [ 4] 1033 	ld	b,l
   0673 4C            [ 4] 1034 	ld	c,h
   0674 DD 6E F4      [19] 1035 	ld	l,-12 (ix)
   0677 DD 66 F5      [19] 1036 	ld	h,-11 (ix)
   067A 70            [ 7] 1037 	ld	(hl),b
   067B 23            [ 6] 1038 	inc	hl
   067C 71            [ 7] 1039 	ld	(hl),c
   067D 23            [ 6] 1040 	inc	hl
   067E 73            [ 7] 1041 	ld	(hl),e
   067F 23            [ 6] 1042 	inc	hl
   0680 72            [ 7] 1043 	ld	(hl),d
   0681                    1044 00116$:
                           1045 ;pff.c:496: dj->index = i;
   0681 DD 6E FA      [19] 1046 	ld	l,-6 (ix)
   0684 DD 66 FB      [19] 1047 	ld	h,-5 (ix)
   0687 DD 7E F0      [19] 1048 	ld	a,-16 (ix)
   068A 77            [ 7] 1049 	ld	(hl),a
   068B 23            [ 6] 1050 	inc	hl
   068C DD 7E F1      [19] 1051 	ld	a,-15 (ix)
   068F 77            [ 7] 1052 	ld	(hl),a
                           1053 ;pff.c:498: return FR_OK;
   0690 2E 00         [ 7] 1054 	ld	l,#0x00
   0692                    1055 00117$:
   0692 DD F9         [10] 1056 	ld	sp, ix
   0694 DD E1         [14] 1057 	pop	ix
   0696 C9            [10] 1058 	ret
                           1059 ;pff.c:509: FRESULT dir_find (
                           1060 ;	---------------------------------
                           1061 ; Function dir_find
                           1062 ; ---------------------------------
   0697                    1063 _dir_find:
   0697 DD E5         [15] 1064 	push	ix
   0699 DD 21 00 00   [14] 1065 	ld	ix,#0
   069D DD 39         [15] 1066 	add	ix,sp
   069F 21 F9 FF      [10] 1067 	ld	hl,#-7
   06A2 39            [11] 1068 	add	hl,sp
   06A3 F9            [ 6] 1069 	ld	sp,hl
                           1070 ;pff.c:518: res = dir_rewind(dj);			/* Rewind directory object */
   06A4 DD 6E 04      [19] 1071 	ld	l,4 (ix)
   06A7 DD 66 05      [19] 1072 	ld	h,5 (ix)
   06AA E5            [11] 1073 	push	hl
   06AB CDrF8r03      [17] 1074 	call	_dir_rewind
   06AE F1            [10] 1075 	pop	af
                           1076 ;pff.c:519: if (res != FR_OK) return res;
   06AF 7D            [ 4] 1077 	ld	a,l
   06B0 B7            [ 4] 1078 	or	a, a
                           1079 ;pff.c:521: do {
   06B1 C2r74r07      [10] 1080 	jp	NZ,00113$
   06B4 DD 4E 04      [19] 1081 	ld	c,4 (ix)
   06B7 DD 46 05      [19] 1082 	ld	b,5 (ix)
   06BA DD 71 FE      [19] 1083 	ld	-2 (ix),c
   06BD DD 70 FF      [19] 1084 	ld	-1 (ix),b
   06C0                    1085 00110$:
                           1086 ;pff.c:522: res = disk_readp(dir, dj->sect, (dj->index % 16) * 32, 32)	/* Read an entry */
   06C0 69            [ 4] 1087 	ld	l, c
   06C1 60            [ 4] 1088 	ld	h, b
   06C2 56            [ 7] 1089 	ld	d,(hl)
   06C3 23            [ 6] 1090 	inc	hl
   06C4 66            [ 7] 1091 	ld	h,(hl)
   06C5 7A            [ 4] 1092 	ld	a,d
   06C6 E6 0F         [ 7] 1093 	and	a, #0x0F
   06C8 6F            [ 4] 1094 	ld	l,a
   06C9 26 00         [ 7] 1095 	ld	h,#0x00
   06CB 29            [11] 1096 	add	hl, hl
   06CC 29            [11] 1097 	add	hl, hl
   06CD 29            [11] 1098 	add	hl, hl
   06CE 29            [11] 1099 	add	hl, hl
   06CF 29            [11] 1100 	add	hl, hl
   06D0 EB            [ 4] 1101 	ex	de,hl
   06D1 DD 6E FE      [19] 1102 	ld	l,-2 (ix)
   06D4 DD 66 FF      [19] 1103 	ld	h,-1 (ix)
   06D7 C5            [11] 1104 	push	bc
   06D8 01 0C 00      [10] 1105 	ld	bc, #0x000C
   06DB 09            [11] 1106 	add	hl, bc
   06DC C1            [10] 1107 	pop	bc
   06DD 7E            [ 7] 1108 	ld	a,(hl)
   06DE DD 77 FA      [19] 1109 	ld	-6 (ix),a
   06E1 23            [ 6] 1110 	inc	hl
   06E2 7E            [ 7] 1111 	ld	a,(hl)
   06E3 DD 77 FB      [19] 1112 	ld	-5 (ix),a
   06E6 23            [ 6] 1113 	inc	hl
   06E7 7E            [ 7] 1114 	ld	a,(hl)
   06E8 DD 77 FC      [19] 1115 	ld	-4 (ix),a
   06EB 23            [ 6] 1116 	inc	hl
   06EC 7E            [ 7] 1117 	ld	a,(hl)
   06ED DD 77 FD      [19] 1118 	ld	-3 (ix),a
   06F0 C5            [11] 1119 	push	bc
   06F1 21 20 00      [10] 1120 	ld	hl,#0x0020
   06F4 E5            [11] 1121 	push	hl
   06F5 D5            [11] 1122 	push	de
   06F6 DD 6E FC      [19] 1123 	ld	l,-4 (ix)
   06F9 DD 66 FD      [19] 1124 	ld	h,-3 (ix)
   06FC E5            [11] 1125 	push	hl
   06FD DD 6E FA      [19] 1126 	ld	l,-6 (ix)
   0700 DD 66 FB      [19] 1127 	ld	h,-5 (ix)
   0703 E5            [11] 1128 	push	hl
   0704 DD 6E 06      [19] 1129 	ld	l,6 (ix)
   0707 DD 66 07      [19] 1130 	ld	h,7 (ix)
   070A E5            [11] 1131 	push	hl
   070B CDr00r00      [17] 1132 	call	_disk_readp
   070E FD 21 0A 00   [14] 1133 	ld	iy,#10
   0712 FD 39         [15] 1134 	add	iy,sp
   0714 FD F9         [10] 1135 	ld	sp,iy
   0716 7D            [ 4] 1136 	ld	a,l
   0717 C1            [10] 1137 	pop	bc
   0718 B7            [ 4] 1138 	or	a, a
   0719 28 04         [12] 1139 	jr	Z,00115$
                           1140 ;pff.c:523: ? FR_DISK_ERR : FR_OK;
   071B 3E 01         [ 7] 1141 	ld	a,#0x01
   071D 18 02         [12] 1142 	jr	00116$
   071F                    1143 00115$:
   071F 3E 00         [ 7] 1144 	ld	a,#0x00
   0721                    1145 00116$:
                           1146 ;pff.c:524: if (res != FR_OK) break;
   0721 DD 77 F9      [19] 1147 	ld	-7 (ix), a
   0724 B7            [ 4] 1148 	or	a, a
   0725 20 4A         [12] 1149 	jr	NZ,00112$
                           1150 ;pff.c:525: c = dir[DIR_Name];	/* First character */
   0727 DD 6E 06      [19] 1151 	ld	l,6 (ix)
   072A DD 66 07      [19] 1152 	ld	h,7 (ix)
   072D 7E            [ 7] 1153 	ld	a,(hl)
                           1154 ;pff.c:526: if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
   072E B7            [ 4] 1155 	or	a, a
   072F 20 06         [12] 1156 	jr	NZ,00106$
   0731 DD 36 F9 03   [19] 1157 	ld	-7 (ix),#0x03
   0735 18 3A         [12] 1158 	jr	00112$
   0737                    1159 00106$:
                           1160 ;pff.c:527: if (!(dir[DIR_Attr] & AM_VOL) && !mem_cmp(dir, dj->fn, 11)) /* Is it a valid entry? */
   0737 11 0B 00      [10] 1161 	ld	de, #0x000B
   073A 19            [11] 1162 	add	hl, de
   073B CB 5E         [12] 1163 	bit	3,(hl)
   073D 20 23         [12] 1164 	jr	NZ,00108$
   073F 69            [ 4] 1165 	ld	l, c
   0740 60            [ 4] 1166 	ld	h, b
   0741 23            [ 6] 1167 	inc	hl
   0742 23            [ 6] 1168 	inc	hl
   0743 5E            [ 7] 1169 	ld	e,(hl)
   0744 23            [ 6] 1170 	inc	hl
   0745 56            [ 7] 1171 	ld	d,(hl)
   0746 D5            [11] 1172 	push	de
   0747 FD E1         [14] 1173 	pop	iy
   0749 DD 6E 06      [19] 1174 	ld	l,6 (ix)
   074C DD 66 07      [19] 1175 	ld	h,7 (ix)
   074F C5            [11] 1176 	push	bc
   0750 11 0B 00      [10] 1177 	ld	de,#0x000B
   0753 D5            [11] 1178 	push	de
   0754 FD E5         [15] 1179 	push	iy
   0756 E5            [11] 1180 	push	hl
   0757 CDr25r00      [17] 1181 	call	_mem_cmp
   075A F1            [10] 1182 	pop	af
   075B F1            [10] 1183 	pop	af
   075C F1            [10] 1184 	pop	af
   075D C1            [10] 1185 	pop	bc
   075E 7C            [ 4] 1186 	ld	a,h
   075F B5            [ 4] 1187 	or	a,l
   0760 28 0F         [12] 1188 	jr	Z,00112$
                           1189 ;pff.c:528: break;
   0762                    1190 00108$:
                           1191 ;pff.c:529: res = dir_next(dj);					/* Next entry */
   0762 C5            [11] 1192 	push	bc
   0763 C5            [11] 1193 	push	bc
   0764 CDr0Ar05      [17] 1194 	call	_dir_next
   0767 F1            [10] 1195 	pop	af
   0768 C1            [10] 1196 	pop	bc
                           1197 ;pff.c:530: } while (res == FR_OK);
   0769 DD 75 F9      [19] 1198 	ld	-7 (ix), l
   076C 7D            [ 4] 1199 	ld	a, l
   076D B7            [ 4] 1200 	or	a, a
   076E CArC0r06      [10] 1201 	jp	Z,00110$
   0771                    1202 00112$:
                           1203 ;pff.c:532: return res;
   0771 DD 6E F9      [19] 1204 	ld	l,-7 (ix)
   0774                    1205 00113$:
   0774 DD F9         [10] 1206 	ld	sp, ix
   0776 DD E1         [14] 1207 	pop	ix
   0778 C9            [10] 1208 	ret
                           1209 ;pff.c:580: FRESULT create_name (
                           1210 ;	---------------------------------
                           1211 ; Function create_name
                           1212 ; ---------------------------------
   0779                    1213 _create_name:
   0779 DD E5         [15] 1214 	push	ix
   077B DD 21 00 00   [14] 1215 	ld	ix,#0
   077F DD 39         [15] 1216 	add	ix,sp
   0781 21 F9 FF      [10] 1217 	ld	hl,#-7
   0784 39            [11] 1218 	add	hl,sp
   0785 F9            [ 6] 1219 	ld	sp,hl
                           1220 ;pff.c:594: sfn = dj->fn;
   0786 DD 6E 04      [19] 1221 	ld	l,4 (ix)
   0789 DD 66 05      [19] 1222 	ld	h,5 (ix)
   078C 23            [ 6] 1223 	inc	hl
   078D 23            [ 6] 1224 	inc	hl
   078E 4E            [ 7] 1225 	ld	c,(hl)
   078F 23            [ 6] 1226 	inc	hl
   0790 46            [ 7] 1227 	ld	b,(hl)
                           1228 ;pff.c:595: mem_set(sfn, ' ', 11);
   0791 69            [ 4] 1229 	ld	l, c
   0792 60            [ 4] 1230 	ld	h, b
   0793 C5            [11] 1231 	push	bc
   0794 11 0B 00      [10] 1232 	ld	de,#0x000B
   0797 D5            [11] 1233 	push	de
   0798 11 20 00      [10] 1234 	ld	de,#0x0020
   079B D5            [11] 1235 	push	de
   079C E5            [11] 1236 	push	hl
   079D CDr00r00      [17] 1237 	call	_mem_set
   07A0 21 06 00      [10] 1238 	ld	hl,#6
   07A3 39            [11] 1239 	add	hl,sp
   07A4 F9            [ 6] 1240 	ld	sp,hl
   07A5 C1            [10] 1241 	pop	bc
                           1242 ;pff.c:596: si = i = 0; ni = 8;
   07A6 1E 00         [ 7] 1243 	ld	e,#0x00
   07A8 DD 36 FC 08   [19] 1244 	ld	-4 (ix),#0x08
                           1245 ;pff.c:597: p = *path;
   07AC DD 7E 06      [19] 1246 	ld	a,6 (ix)
   07AF DD 77 FD      [19] 1247 	ld	-3 (ix),a
   07B2 DD 7E 07      [19] 1248 	ld	a,7 (ix)
   07B5 DD 77 FE      [19] 1249 	ld	-2 (ix),a
   07B8 DD 6E FD      [19] 1250 	ld	l,-3 (ix)
   07BB DD 66 FE      [19] 1251 	ld	h,-2 (ix)
   07BE 7E            [ 7] 1252 	ld	a,(hl)
   07BF DD 77 F9      [19] 1253 	ld	-7 (ix),a
   07C2 23            [ 6] 1254 	inc	hl
   07C3 7E            [ 7] 1255 	ld	a,(hl)
   07C4 DD 77 FA      [19] 1256 	ld	-6 (ix),a
   07C7 DD 36 FB 00   [19] 1257 	ld	-5 (ix),#0x00
   07CB                    1258 00116$:
                           1259 ;pff.c:599: c = p[si++];
   07CB DD 66 FB      [19] 1260 	ld	h,-5 (ix)
   07CE DD 34 FB      [23] 1261 	inc	-5 (ix)
   07D1 DD 7E F9      [19] 1262 	ld	a,-7 (ix)
   07D4 84            [ 4] 1263 	add	a, h
   07D5 6F            [ 4] 1264 	ld	l,a
   07D6 DD 7E FA      [19] 1265 	ld	a,-6 (ix)
   07D9 CE 00         [ 7] 1266 	adc	a, #0x00
   07DB 67            [ 4] 1267 	ld	h,a
   07DC 56            [ 7] 1268 	ld	d,(hl)
                           1269 ;pff.c:600: if (c <= ' ' || c == '/') break;	/* Break on end of segment */
   07DD 3E 20         [ 7] 1270 	ld	a,#0x20
   07DF 92            [ 4] 1271 	sub	a, d
   07E0 3E 00         [ 7] 1272 	ld	a,#0x00
   07E2 17            [ 4] 1273 	rla
   07E3 DD 77 FF      [19] 1274 	ld	-1 (ix), a
   07E6 B7            [ 4] 1275 	or	a, a
   07E7 28 33         [12] 1276 	jr	Z,00115$
                           1277 ;pff.c:601: if (c == '.' || i >= ni) {
   07E9 7A            [ 4] 1278 	ld	a,d
   07EA FE 2F         [ 7] 1279 	cp	a,#0x2F
   07EC 28 2E         [12] 1280 	jr	Z,00115$
   07EE D6 2E         [ 7] 1281 	sub	a, #0x2E
   07F0 20 04         [12] 1282 	jr	NZ,00151$
   07F2 3E 01         [ 7] 1283 	ld	a,#0x01
   07F4 18 01         [12] 1284 	jr	00152$
   07F6                    1285 00151$:
   07F6 AF            [ 4] 1286 	xor	a,a
   07F7                    1287 00152$:
   07F7 67            [ 4] 1288 	ld	h,a
   07F8 B7            [ 4] 1289 	or	a, a
   07F9 20 06         [12] 1290 	jr	NZ,00107$
   07FB 7B            [ 4] 1291 	ld	a,e
   07FC DD 96 FC      [19] 1292 	sub	a, -4 (ix)
   07FF 38 12         [12] 1293 	jr	C,00111$
   0801                    1294 00107$:
                           1295 ;pff.c:602: if (ni != 8 || c != '.') break;
   0801 DD 7E FC      [19] 1296 	ld	a,-4 (ix)
   0804 D6 08         [ 7] 1297 	sub	a,#0x08
   0806 20 14         [12] 1298 	jr	NZ,00115$
   0808 B4            [ 4] 1299 	or	a,h
   0809 28 11         [12] 1300 	jr	Z,00115$
                           1301 ;pff.c:603: i = 8; ni = 11;
   080B 1E 08         [ 7] 1302 	ld	e,#0x08
   080D DD 36 FC 0B   [19] 1303 	ld	-4 (ix),#0x0B
                           1304 ;pff.c:604: continue;
   0811 18 B8         [12] 1305 	jr	00116$
                           1306 ;pff.c:618: if (_USE_LCC && IsLower(c)) c -= 0x20;	/* toupper */
   0813                    1307 00111$:
                           1308 ;pff.c:619: sfn[i++] = c;
   0813 63            [ 4] 1309 	ld	h,e
   0814 1C            [ 4] 1310 	inc	e
   0815 6C            [ 4] 1311 	ld	l,h
   0816 26 00         [ 7] 1312 	ld	h,#0x00
   0818 09            [11] 1313 	add	hl,bc
   0819 72            [ 7] 1314 	ld	(hl),d
   081A 18 AF         [12] 1315 	jr	00116$
   081C                    1316 00115$:
                           1317 ;pff.c:622: *path = &p[si];						/* Rerurn pointer to the next segment */
   081C DD 7E F9      [19] 1318 	ld	a,-7 (ix)
   081F DD 86 FB      [19] 1319 	add	a, -5 (ix)
   0822 5F            [ 4] 1320 	ld	e,a
   0823 DD 7E FA      [19] 1321 	ld	a,-6 (ix)
   0826 CE 00         [ 7] 1322 	adc	a, #0x00
   0828 57            [ 4] 1323 	ld	d,a
   0829 DD 6E FD      [19] 1324 	ld	l,-3 (ix)
   082C DD 66 FE      [19] 1325 	ld	h,-2 (ix)
   082F 73            [ 7] 1326 	ld	(hl),e
   0830 23            [ 6] 1327 	inc	hl
   0831 72            [ 7] 1328 	ld	(hl),d
                           1329 ;pff.c:624: sfn[11] = (c <= ' ') ? 1 : 0;		/* Set last segment flag if end of path */
   0832 21 0B 00      [10] 1330 	ld	hl,#0x000B
   0835 09            [11] 1331 	add	hl,bc
   0836 DD 7E FF      [19] 1332 	ld	a,-1 (ix)
   0839 B7            [ 4] 1333 	or	a, a
   083A 20 04         [12] 1334 	jr	NZ,00119$
   083C 3E 01         [ 7] 1335 	ld	a,#0x01
   083E 18 02         [12] 1336 	jr	00120$
   0840                    1337 00119$:
   0840 3E 00         [ 7] 1338 	ld	a,#0x00
   0842                    1339 00120$:
   0842 77            [ 7] 1340 	ld	(hl),a
                           1341 ;pff.c:626: return FR_OK;
   0843 2E 00         [ 7] 1342 	ld	l,#0x00
   0845 DD F9         [10] 1343 	ld	sp, ix
   0847 DD E1         [14] 1344 	pop	ix
   0849 C9            [10] 1345 	ret
                           1346 ;pff.c:679: FRESULT follow_path (	/* FR_OK(0): successful, !=0: error code */
                           1347 ;	---------------------------------
                           1348 ; Function follow_path
                           1349 ; ---------------------------------
   084A                    1350 _follow_path:
   084A DD E5         [15] 1351 	push	ix
   084C DD 21 00 00   [14] 1352 	ld	ix,#0
   0850 DD 39         [15] 1353 	add	ix,sp
   0852 21 F7 FF      [10] 1354 	ld	hl,#-9
   0855 39            [11] 1355 	add	hl,sp
   0856 F9            [ 6] 1356 	ld	sp,hl
                           1357 ;pff.c:688: while (*path == ' ') path++;		/* Strip leading spaces */
   0857 DD 6E 08      [19] 1358 	ld	l,8 (ix)
   085A DD 66 09      [19] 1359 	ld	h,9 (ix)
   085D                    1360 00101$:
   085D 46            [ 7] 1361 	ld	b,(hl)
   085E 5D            [ 4] 1362 	ld	e, l
   085F 54            [ 4] 1363 	ld	d, h
   0860 13            [ 6] 1364 	inc	de
   0861 78            [ 4] 1365 	ld	a,b
   0862 D6 20         [ 7] 1366 	sub	a, #0x20
   0864 20 0A         [12] 1367 	jr	NZ,00131$
   0866 6B            [ 4] 1368 	ld	l, e
   0867 62            [ 4] 1369 	ld	h, d
   0868 DD 73 08      [19] 1370 	ld	8 (ix),e
   086B DD 72 09      [19] 1371 	ld	9 (ix),d
   086E 18 ED         [12] 1372 	jr	00101$
   0870                    1373 00131$:
   0870 DD 75 08      [19] 1374 	ld	8 (ix),l
   0873 DD 74 09      [19] 1375 	ld	9 (ix),h
                           1376 ;pff.c:689: if (*path == '/') path++;			/* Strip heading separator if exist */
   0876 78            [ 4] 1377 	ld	a,b
   0877 D6 2F         [ 7] 1378 	sub	a, #0x2F
   0879 20 06         [12] 1379 	jr	NZ,00105$
   087B DD 73 08      [19] 1380 	ld	8 (ix),e
   087E DD 72 09      [19] 1381 	ld	9 (ix),d
   0881                    1382 00105$:
                           1383 ;pff.c:690: dj->sclust = 0;						/* Set start directory (always root dir) */
   0881 DD 4E 04      [19] 1384 	ld	c,4 (ix)
   0884 DD 46 05      [19] 1385 	ld	b,5 (ix)
   0887 21 04 00      [10] 1386 	ld	hl,#0x0004
   088A 09            [11] 1387 	add	hl,bc
   088B 5D            [ 4] 1388 	ld	e,l
   088C 54            [ 4] 1389 	ld	d,h
   088D AF            [ 4] 1390 	xor	a, a
   088E 77            [ 7] 1391 	ld	(hl), a
   088F 23            [ 6] 1392 	inc	hl
   0890 77            [ 7] 1393 	ld	(hl), a
   0891 23            [ 6] 1394 	inc	hl
   0892 AF            [ 4] 1395 	xor	a, a
   0893 77            [ 7] 1396 	ld	(hl), a
   0894 23            [ 6] 1397 	inc	hl
   0895 77            [ 7] 1398 	ld	(hl), a
                           1399 ;pff.c:692: if ((BYTE)*path < ' ') {			/* Null path means the root directory */
   0896 DD 6E 08      [19] 1400 	ld	l,8 (ix)
   0899 DD 66 09      [19] 1401 	ld	h,9 (ix)
   089C 7E            [ 7] 1402 	ld	a, (hl)
   089D D6 20         [ 7] 1403 	sub	a, #0x20
   089F 30 13         [12] 1404 	jr	NC,00130$
                           1405 ;pff.c:693: res = dir_rewind(dj);
   08A1 C5            [11] 1406 	push	bc
   08A2 CDrF8r03      [17] 1407 	call	_dir_rewind
   08A5 F1            [10] 1408 	pop	af
   08A6 DD 75 F7      [19] 1409 	ld	-9 (ix),l
                           1410 ;pff.c:694: dir[0] = 0;
   08A9 DD 6E 06      [19] 1411 	ld	l,6 (ix)
   08AC DD 66 07      [19] 1412 	ld	h,7 (ix)
   08AF 36 00         [10] 1413 	ld	(hl),#0x00
   08B1 C3r4Br09      [10] 1414 	jp	00117$
   08B4                    1415 00130$:
   08B4 DD 71 FA      [19] 1416 	ld	-6 (ix),c
   08B7 DD 70 FB      [19] 1417 	ld	-5 (ix),b
   08BA DD 7E 06      [19] 1418 	ld	a,6 (ix)
   08BD DD 77 F8      [19] 1419 	ld	-8 (ix),a
   08C0 DD 7E 07      [19] 1420 	ld	a,7 (ix)
   08C3 DD 77 F9      [19] 1421 	ld	-7 (ix),a
   08C6                    1422 00118$:
                           1423 ;pff.c:698: res = create_name(dj, &path);	/* Get a segment */
   08C6 21 11 00      [10] 1424 	ld	hl,#0x0011
   08C9 39            [11] 1425 	add	hl,sp
   08CA C5            [11] 1426 	push	bc
   08CB D5            [11] 1427 	push	de
   08CC E5            [11] 1428 	push	hl
   08CD C5            [11] 1429 	push	bc
   08CE CDr79r07      [17] 1430 	call	_create_name
   08D1 F1            [10] 1431 	pop	af
   08D2 F1            [10] 1432 	pop	af
   08D3 D1            [10] 1433 	pop	de
   08D4 C1            [10] 1434 	pop	bc
                           1435 ;pff.c:699: if (res != FR_OK) break;
   08D5 DD 75 F7      [19] 1436 	ld	-9 (ix), l
   08D8 7D            [ 4] 1437 	ld	a, l
   08D9 B7            [ 4] 1438 	or	a, a
   08DA 20 6F         [12] 1439 	jr	NZ,00117$
                           1440 ;pff.c:700: res = dir_find(dj, dir);		/* Find it */
   08DC C5            [11] 1441 	push	bc
   08DD D5            [11] 1442 	push	de
   08DE DD 6E 06      [19] 1443 	ld	l,6 (ix)
   08E1 DD 66 07      [19] 1444 	ld	h,7 (ix)
   08E4 E5            [11] 1445 	push	hl
   08E5 C5            [11] 1446 	push	bc
   08E6 CDr97r06      [17] 1447 	call	_dir_find
   08E9 F1            [10] 1448 	pop	af
   08EA F1            [10] 1449 	pop	af
   08EB D1            [10] 1450 	pop	de
   08EC C1            [10] 1451 	pop	bc
                           1452 ;pff.c:701: if (res != FR_OK) break;		/* Could not find the object */
   08ED DD 75 F7      [19] 1453 	ld	-9 (ix), l
   08F0 7D            [ 4] 1454 	ld	a, l
   08F1 B7            [ 4] 1455 	or	a, a
   08F2 20 57         [12] 1456 	jr	NZ,00117$
                           1457 ;pff.c:702: if (dj->fn[11]) break;			/* Last segment match. Function completed. */
   08F4 DD 6E FA      [19] 1458 	ld	l,-6 (ix)
   08F7 DD 66 FB      [19] 1459 	ld	h,-5 (ix)
   08FA 23            [ 6] 1460 	inc	hl
   08FB 23            [ 6] 1461 	inc	hl
   08FC 7E            [ 7] 1462 	ld	a, (hl)
   08FD 23            [ 6] 1463 	inc	hl
   08FE 66            [ 7] 1464 	ld	h,(hl)
   08FF 6F            [ 4] 1465 	ld	l,a
   0900 C5            [11] 1466 	push	bc
   0901 01 0B 00      [10] 1467 	ld	bc, #0x000B
   0904 09            [11] 1468 	add	hl, bc
   0905 C1            [10] 1469 	pop	bc
   0906 7E            [ 7] 1470 	ld	a,(hl)
   0907 B7            [ 4] 1471 	or	a, a
   0908 20 41         [12] 1472 	jr	NZ,00117$
                           1473 ;pff.c:703: if (!(dir[DIR_Attr] & AM_DIR)) { /* Cannot follow path because it is a file */
   090A DD 6E F8      [19] 1474 	ld	l,-8 (ix)
   090D DD 66 F9      [19] 1475 	ld	h,-7 (ix)
   0910 C5            [11] 1476 	push	bc
   0911 01 0B 00      [10] 1477 	ld	bc, #0x000B
   0914 09            [11] 1478 	add	hl, bc
   0915 C1            [10] 1479 	pop	bc
   0916 CB 66         [12] 1480 	bit	4,(hl)
   0918 20 06         [12] 1481 	jr	NZ,00113$
                           1482 ;pff.c:704: res = FR_NO_FILE; break;
   091A DD 36 F7 03   [19] 1483 	ld	-9 (ix),#0x03
   091E 18 2B         [12] 1484 	jr	00117$
   0920                    1485 00113$:
                           1486 ;pff.c:706: dj->sclust = get_clust(dir);	/* Follow next */
   0920 C5            [11] 1487 	push	bc
   0921 D5            [11] 1488 	push	de
   0922 DD 6E 06      [19] 1489 	ld	l,6 (ix)
   0925 DD 66 07      [19] 1490 	ld	h,7 (ix)
   0928 E5            [11] 1491 	push	hl
   0929 CDr63r03      [17] 1492 	call	_get_clust
   092C F1            [10] 1493 	pop	af
   092D DD 72 FF      [19] 1494 	ld	-1 (ix),d
   0930 DD 73 FE      [19] 1495 	ld	-2 (ix),e
   0933 DD 74 FD      [19] 1496 	ld	-3 (ix),h
   0936 DD 75 FC      [19] 1497 	ld	-4 (ix),l
   0939 D1            [10] 1498 	pop	de
   093A C1            [10] 1499 	pop	bc
   093B D5            [11] 1500 	push	de
   093C C5            [11] 1501 	push	bc
   093D 21 09 00      [10] 1502 	ld	hl, #0x0009
   0940 39            [11] 1503 	add	hl, sp
   0941 01 04 00      [10] 1504 	ld	bc, #0x0004
   0944 ED B0         [21] 1505 	ldir
   0946 C1            [10] 1506 	pop	bc
   0947 D1            [10] 1507 	pop	de
   0948 C3rC6r08      [10] 1508 	jp	00118$
   094B                    1509 00117$:
                           1510 ;pff.c:710: return res;
   094B DD 6E F7      [19] 1511 	ld	l,-9 (ix)
   094E DD F9         [10] 1512 	ld	sp, ix
   0950 DD E1         [14] 1513 	pop	ix
   0952 C9            [10] 1514 	ret
                           1515 ;pff.c:721: BYTE check_fs (	/* 0:The FAT boot record, 1:Valid boot record but not an FAT, 2:Not a boot record, 3:Error */
                           1516 ;	---------------------------------
                           1517 ; Function check_fs
                           1518 ; ---------------------------------
   0953                    1519 _check_fs:
   0953 DD E5         [15] 1520 	push	ix
   0955 DD 21 00 00   [14] 1521 	ld	ix,#0
   0959 DD 39         [15] 1522 	add	ix,sp
   095B F5            [11] 1523 	push	af
                           1524 ;pff.c:726: if (disk_readp(buf, sect, 510, 2))		/* Read the boot record */
   095C 21 02 00      [10] 1525 	ld	hl,#0x0002
   095F E5            [11] 1526 	push	hl
   0960 21 FE 01      [10] 1527 	ld	hl,#0x01FE
   0963 E5            [11] 1528 	push	hl
   0964 DD 6E 08      [19] 1529 	ld	l,8 (ix)
   0967 DD 66 09      [19] 1530 	ld	h,9 (ix)
   096A E5            [11] 1531 	push	hl
   096B DD 6E 06      [19] 1532 	ld	l,6 (ix)
   096E DD 66 07      [19] 1533 	ld	h,7 (ix)
   0971 E5            [11] 1534 	push	hl
   0972 DD 6E 04      [19] 1535 	ld	l,4 (ix)
   0975 DD 66 05      [19] 1536 	ld	h,5 (ix)
   0978 E5            [11] 1537 	push	hl
   0979 CDr00r00      [17] 1538 	call	_disk_readp
   097C FD 21 0A 00   [14] 1539 	ld	iy,#10
   0980 FD 39         [15] 1540 	add	iy,sp
   0982 FD F9         [10] 1541 	ld	sp,iy
   0984 7D            [ 4] 1542 	ld	a, l
   0985 B7            [ 4] 1543 	or	a, a
   0986 28 05         [12] 1544 	jr	Z,00102$
                           1545 ;pff.c:727: return 3;
   0988 2E 03         [ 7] 1546 	ld	l,#0x03
   098A C3r52r0A      [10] 1547 	jp	00113$
   098D                    1548 00102$:
                           1549 ;pff.c:728: if (LD_WORD(buf) != 0xAA55)				/* Check record signature */
   098D DD 6E 04      [19] 1550 	ld	l,4 (ix)
   0990 DD 66 05      [19] 1551 	ld	h,5 (ix)
   0993 23            [ 6] 1552 	inc	hl
   0994 56            [ 7] 1553 	ld	d, (hl)
   0995 1E 00         [ 7] 1554 	ld	e,#0x00
   0997 DD 7E 04      [19] 1555 	ld	a,4 (ix)
   099A DD 77 FE      [19] 1556 	ld	-2 (ix),a
   099D DD 7E 05      [19] 1557 	ld	a,5 (ix)
   09A0 DD 77 FF      [19] 1558 	ld	-1 (ix),a
   09A3 E1            [10] 1559 	pop	hl
   09A4 E5            [11] 1560 	push	hl
   09A5 66            [ 7] 1561 	ld	h,(hl)
   09A6 2E 00         [ 7] 1562 	ld	l,#0x00
   09A8 7B            [ 4] 1563 	ld	a,e
   09A9 B4            [ 4] 1564 	or	a, h
   09AA 5F            [ 4] 1565 	ld	e,a
   09AB 7A            [ 4] 1566 	ld	a,d
   09AC B5            [ 4] 1567 	or	a, l
   09AD 57            [ 4] 1568 	ld	d,a
   09AE 7B            [ 4] 1569 	ld	a,e
   09AF D6 55         [ 7] 1570 	sub	a, #0x55
   09B1 20 05         [12] 1571 	jr	NZ,00139$
   09B3 7A            [ 4] 1572 	ld	a,d
   09B4 D6 AA         [ 7] 1573 	sub	a, #0xAA
   09B6 28 05         [12] 1574 	jr	Z,00107$
   09B8                    1575 00139$:
                           1576 ;pff.c:729: return 2;
   09B8 2E 02         [ 7] 1577 	ld	l,#0x02
   09BA C3r52r0A      [10] 1578 	jp	00113$
                           1579 ;pff.c:731: if (!_FS_32ONLY && !disk_readp(buf, sect, BS_FilSysType, 2) && LD_WORD(buf) == 0x4146)	/* Check FAT12/16 */
   09BD                    1580 00107$:
   09BD 21 02 00      [10] 1581 	ld	hl,#0x0002
   09C0 E5            [11] 1582 	push	hl
   09C1 2E 36         [ 7] 1583 	ld	l, #0x36
   09C3 E5            [11] 1584 	push	hl
   09C4 DD 6E 08      [19] 1585 	ld	l,8 (ix)
   09C7 DD 66 09      [19] 1586 	ld	h,9 (ix)
   09CA E5            [11] 1587 	push	hl
   09CB DD 6E 06      [19] 1588 	ld	l,6 (ix)
   09CE DD 66 07      [19] 1589 	ld	h,7 (ix)
   09D1 E5            [11] 1590 	push	hl
   09D2 DD 6E FE      [19] 1591 	ld	l,-2 (ix)
   09D5 DD 66 FF      [19] 1592 	ld	h,-1 (ix)
   09D8 E5            [11] 1593 	push	hl
   09D9 CDr00r00      [17] 1594 	call	_disk_readp
   09DC FD 21 0A 00   [14] 1595 	ld	iy,#10
   09E0 FD 39         [15] 1596 	add	iy,sp
   09E2 FD F9         [10] 1597 	ld	sp,iy
   09E4 D1            [10] 1598 	pop	de
   09E5 D5            [11] 1599 	push	de
   09E6 13            [ 6] 1600 	inc	de
   09E7 7D            [ 4] 1601 	ld	a,l
   09E8 B7            [ 4] 1602 	or	a, a
   09E9 20 1C         [12] 1603 	jr	NZ,00111$
   09EB 1A            [ 7] 1604 	ld	a,(de)
   09EC 47            [ 4] 1605 	ld	b,a
   09ED 0E 00         [ 7] 1606 	ld	c,#0x00
   09EF E1            [10] 1607 	pop	hl
   09F0 E5            [11] 1608 	push	hl
   09F1 66            [ 7] 1609 	ld	h,(hl)
   09F2 2E 00         [ 7] 1610 	ld	l,#0x00
   09F4 79            [ 4] 1611 	ld	a,c
   09F5 B4            [ 4] 1612 	or	a, h
   09F6 4F            [ 4] 1613 	ld	c,a
   09F7 78            [ 4] 1614 	ld	a,b
   09F8 B5            [ 4] 1615 	or	a, l
   09F9 47            [ 4] 1616 	ld	b,a
   09FA 79            [ 4] 1617 	ld	a,c
   09FB D6 46         [ 7] 1618 	sub	a, #0x46
   09FD 20 08         [12] 1619 	jr	NZ,00111$
   09FF 78            [ 4] 1620 	ld	a,b
                           1621 ;pff.c:732: return 0;
   0A00 D6 41         [ 7] 1622 	sub	a,#0x41
   0A02 20 03         [12] 1623 	jr	NZ,00111$
   0A04 6F            [ 4] 1624 	ld	l,a
   0A05 18 4B         [12] 1625 	jr	00113$
                           1626 ;pff.c:733: if (_FS_FAT32 && !disk_readp(buf, sect, BS_FilSysType32, 2) && LD_WORD(buf) == 0x4146)	/* Check FAT32 */
   0A07                    1627 00111$:
   0A07 D5            [11] 1628 	push	de
   0A08 21 02 00      [10] 1629 	ld	hl,#0x0002
   0A0B E5            [11] 1630 	push	hl
   0A0C 2E 52         [ 7] 1631 	ld	l, #0x52
   0A0E E5            [11] 1632 	push	hl
   0A0F DD 6E 08      [19] 1633 	ld	l,8 (ix)
   0A12 DD 66 09      [19] 1634 	ld	h,9 (ix)
   0A15 E5            [11] 1635 	push	hl
   0A16 DD 6E 06      [19] 1636 	ld	l,6 (ix)
   0A19 DD 66 07      [19] 1637 	ld	h,7 (ix)
   0A1C E5            [11] 1638 	push	hl
   0A1D DD 6E FE      [19] 1639 	ld	l,-2 (ix)
   0A20 DD 66 FF      [19] 1640 	ld	h,-1 (ix)
   0A23 E5            [11] 1641 	push	hl
   0A24 CDr00r00      [17] 1642 	call	_disk_readp
   0A27 FD 21 0A 00   [14] 1643 	ld	iy,#10
   0A2B FD 39         [15] 1644 	add	iy,sp
   0A2D FD F9         [10] 1645 	ld	sp,iy
   0A2F 7D            [ 4] 1646 	ld	a,l
   0A30 D1            [10] 1647 	pop	de
   0A31 B7            [ 4] 1648 	or	a, a
   0A32 20 1C         [12] 1649 	jr	NZ,00110$
   0A34 1A            [ 7] 1650 	ld	a,(de)
   0A35 57            [ 4] 1651 	ld	d,a
   0A36 1E 00         [ 7] 1652 	ld	e,#0x00
   0A38 E1            [10] 1653 	pop	hl
   0A39 E5            [11] 1654 	push	hl
   0A3A 66            [ 7] 1655 	ld	h,(hl)
   0A3B 2E 00         [ 7] 1656 	ld	l,#0x00
   0A3D 7B            [ 4] 1657 	ld	a,e
   0A3E B4            [ 4] 1658 	or	a, h
   0A3F 5F            [ 4] 1659 	ld	e,a
   0A40 7A            [ 4] 1660 	ld	a,d
   0A41 B5            [ 4] 1661 	or	a, l
   0A42 57            [ 4] 1662 	ld	d,a
   0A43 7B            [ 4] 1663 	ld	a,e
   0A44 D6 46         [ 7] 1664 	sub	a, #0x46
   0A46 20 08         [12] 1665 	jr	NZ,00110$
   0A48 7A            [ 4] 1666 	ld	a,d
                           1667 ;pff.c:734: return 0;
   0A49 D6 41         [ 7] 1668 	sub	a,#0x41
   0A4B 20 03         [12] 1669 	jr	NZ,00110$
   0A4D 6F            [ 4] 1670 	ld	l,a
   0A4E 18 02         [12] 1671 	jr	00113$
   0A50                    1672 00110$:
                           1673 ;pff.c:735: return 1;
   0A50 2E 01         [ 7] 1674 	ld	l,#0x01
   0A52                    1675 00113$:
   0A52 DD F9         [10] 1676 	ld	sp, ix
   0A54 DD E1         [14] 1677 	pop	ix
   0A56 C9            [10] 1678 	ret
                           1679 ;pff.c:753: FRESULT pf_mount (
                           1680 ;	---------------------------------
                           1681 ; Function pf_mount
                           1682 ; ---------------------------------
   0A57                    1683 _pf_mount::
   0A57 DD E5         [15] 1684 	push	ix
   0A59 DD 21 00 00   [14] 1685 	ld	ix,#0
   0A5D DD 39         [15] 1686 	add	ix,sp
   0A5F 21 B2 FF      [10] 1687 	ld	hl,#-78
   0A62 39            [11] 1688 	add	hl,sp
   0A63 F9            [ 6] 1689 	ld	sp,hl
                           1690 ;pff.c:761: FatFs = 0;
   0A64 21 00 00      [10] 1691 	ld	hl,#0x0000
   0A67 22r00r00      [16] 1692 	ld	(_FatFs),hl
                           1693 ;pff.c:763: if (disk_initialize() & STA_NOINIT)	/* Check if the drive is ready or not */
   0A6A CDr00r00      [17] 1694 	call	_disk_initialize
   0A6D 7D            [ 4] 1695 	ld	a,l
   0A6E 0F            [ 4] 1696 	rrca
   0A6F 30 05         [12] 1697 	jr	NC,00102$
                           1698 ;pff.c:764: return FR_NOT_READY;
   0A71 2E 02         [ 7] 1699 	ld	l,#0x02
   0A73 C3r4Fr12      [10] 1700 	jp	00137$
   0A76                    1701 00102$:
                           1702 ;pff.c:767: bsect = 0;
   0A76 AF            [ 4] 1703 	xor	a, a
   0A77 DD 77 B7      [19] 1704 	ld	-73 (ix),a
   0A7A DD 77 B8      [19] 1705 	ld	-72 (ix),a
   0A7D DD 77 B9      [19] 1706 	ld	-71 (ix),a
   0A80 DD 77 BA      [19] 1707 	ld	-70 (ix),a
                           1708 ;pff.c:768: fmt = check_fs(buf, bsect);			/* Check sector 0 as an SFD format */
   0A83 21 09 00      [10] 1709 	ld	hl,#0x0009
   0A86 39            [11] 1710 	add	hl,sp
   0A87 DD 75 FE      [19] 1711 	ld	-2 (ix),l
   0A8A DD 74 FF      [19] 1712 	ld	-1 (ix),h
   0A8D EB            [ 4] 1713 	ex	de,hl
   0A8E 21 00 00      [10] 1714 	ld	hl,#0x0000
   0A91 E5            [11] 1715 	push	hl
   0A92 21 00 00      [10] 1716 	ld	hl,#0x0000
   0A95 E5            [11] 1717 	push	hl
   0A96 D5            [11] 1718 	push	de
   0A97 CDr53r09      [17] 1719 	call	_check_fs
   0A9A F1            [10] 1720 	pop	af
   0A9B F1            [10] 1721 	pop	af
   0A9C F1            [10] 1722 	pop	af
   0A9D DD 75 FD      [19] 1723 	ld	-3 (ix),l
                           1724 ;pff.c:774: if (buf[4]) {					/* Is the partition existing? */
   0AA0 DD 7E FE      [19] 1725 	ld	a,-2 (ix)
   0AA3 C6 04         [ 7] 1726 	add	a, #0x04
   0AA5 DD 77 FB      [19] 1727 	ld	-5 (ix),a
   0AA8 DD 7E FF      [19] 1728 	ld	a,-1 (ix)
   0AAB CE 00         [ 7] 1729 	adc	a, #0x00
   0AAD DD 77 FC      [19] 1730 	ld	-4 (ix),a
                           1731 ;pff.c:775: bsect = LD_DWORD(&buf[8]);	/* Partition offset in LBA */
   0AB0 DD 7E FE      [19] 1732 	ld	a,-2 (ix)
   0AB3 C6 0A         [ 7] 1733 	add	a, #0x0A
   0AB5 DD 77 F7      [19] 1734 	ld	-9 (ix),a
   0AB8 DD 7E FF      [19] 1735 	ld	a,-1 (ix)
   0ABB CE 00         [ 7] 1736 	adc	a, #0x00
   0ABD DD 77 F8      [19] 1737 	ld	-8 (ix),a
   0AC0 DD 7E FE      [19] 1738 	ld	a,-2 (ix)
   0AC3 C6 09         [ 7] 1739 	add	a, #0x09
   0AC5 DD 77 F9      [19] 1740 	ld	-7 (ix),a
   0AC8 DD 7E FF      [19] 1741 	ld	a,-1 (ix)
   0ACB CE 00         [ 7] 1742 	adc	a, #0x00
   0ACD DD 77 FA      [19] 1743 	ld	-6 (ix),a
                           1744 ;pff.c:769: if (fmt == 1) {						/* Not an FAT boot record, it may be FDISK format */
   0AD0 DD 7E FD      [19] 1745 	ld	a,-3 (ix)
   0AD3 3D            [ 4] 1746 	dec	a
   0AD4 C2r77r0C      [10] 1747 	jp	NZ,00109$
                           1748 ;pff.c:771: if (disk_readp(buf, bsect, MBR_Table, 16)) {	/* 1st partition entry */
   0AD7 DD 7E FE      [19] 1749 	ld	a,-2 (ix)
   0ADA DD 77 F5      [19] 1750 	ld	-11 (ix),a
   0ADD DD 7E FF      [19] 1751 	ld	a,-1 (ix)
   0AE0 DD 77 F6      [19] 1752 	ld	-10 (ix),a
   0AE3 21 10 00      [10] 1753 	ld	hl,#0x0010
   0AE6 E5            [11] 1754 	push	hl
   0AE7 21 BE 01      [10] 1755 	ld	hl,#0x01BE
   0AEA E5            [11] 1756 	push	hl
   0AEB 21 00 00      [10] 1757 	ld	hl,#0x0000
   0AEE E5            [11] 1758 	push	hl
   0AEF 21 00 00      [10] 1759 	ld	hl,#0x0000
   0AF2 E5            [11] 1760 	push	hl
   0AF3 DD 6E F5      [19] 1761 	ld	l,-11 (ix)
   0AF6 DD 66 F6      [19] 1762 	ld	h,-10 (ix)
   0AF9 E5            [11] 1763 	push	hl
   0AFA CDr00r00      [17] 1764 	call	_disk_readp
   0AFD FD 21 0A 00   [14] 1765 	ld	iy,#10
   0B01 FD 39         [15] 1766 	add	iy,sp
   0B03 FD F9         [10] 1767 	ld	sp,iy
   0B05 7D            [ 4] 1768 	ld	a,l
   0B06 B7            [ 4] 1769 	or	a, a
   0B07 28 07         [12] 1770 	jr	Z,00106$
                           1771 ;pff.c:772: fmt = 3;
   0B09 DD 36 FD 03   [19] 1772 	ld	-3 (ix),#0x03
   0B0D C3r77r0C      [10] 1773 	jp	00109$
   0B10                    1774 00106$:
                           1775 ;pff.c:774: if (buf[4]) {					/* Is the partition existing? */
   0B10 DD 6E FB      [19] 1776 	ld	l,-5 (ix)
   0B13 DD 66 FC      [19] 1777 	ld	h,-4 (ix)
   0B16 7E            [ 7] 1778 	ld	a,(hl)
   0B17 B7            [ 4] 1779 	or	a, a
   0B18 CAr77r0C      [10] 1780 	jp	Z,00109$
                           1781 ;pff.c:775: bsect = LD_DWORD(&buf[8]);	/* Partition offset in LBA */
   0B1B DD 7E FE      [19] 1782 	ld	a,-2 (ix)
   0B1E DD 77 F5      [19] 1783 	ld	-11 (ix),a
   0B21 DD 7E FF      [19] 1784 	ld	a,-1 (ix)
   0B24 DD 77 F6      [19] 1785 	ld	-10 (ix),a
   0B27 DD 7E FE      [19] 1786 	ld	a,-2 (ix)
   0B2A DD 77 F3      [19] 1787 	ld	-13 (ix),a
   0B2D DD 7E FF      [19] 1788 	ld	a,-1 (ix)
   0B30 DD 77 F4      [19] 1789 	ld	-12 (ix),a
   0B33 DD 6E F3      [19] 1790 	ld	l,-13 (ix)
   0B36 DD 66 F4      [19] 1791 	ld	h,-12 (ix)
   0B39 11 0B 00      [10] 1792 	ld	de, #0x000B
   0B3C 19            [11] 1793 	add	hl, de
   0B3D 7E            [ 7] 1794 	ld	a,(hl)
   0B3E DD 77 F3      [19] 1795 	ld	-13 (ix), a
   0B41 DD 77 DF      [19] 1796 	ld	-33 (ix),a
   0B44 DD 36 E0 00   [19] 1797 	ld	-32 (ix),#0x00
   0B48 DD 36 E1 00   [19] 1798 	ld	-31 (ix),#0x00
   0B4C DD 36 E2 00   [19] 1799 	ld	-30 (ix),#0x00
   0B50 F5            [11] 1800 	push	af
   0B51 F1            [10] 1801 	pop	af
   0B52 06 18         [ 7] 1802 	ld	b,#0x18
   0B54                    1803 00198$:
   0B54 DD CB DF 26   [23] 1804 	sla	-33 (ix)
   0B58 DD CB E0 16   [23] 1805 	rl	-32 (ix)
   0B5C DD CB E1 16   [23] 1806 	rl	-31 (ix)
   0B60 DD CB E2 16   [23] 1807 	rl	-30 (ix)
   0B64 10 EE         [13] 1808 	djnz	00198$
   0B66 DD 6E F7      [19] 1809 	ld	l,-9 (ix)
   0B69 DD 66 F8      [19] 1810 	ld	h,-8 (ix)
   0B6C 7E            [ 7] 1811 	ld	a,(hl)
   0B6D DD 77 F3      [19] 1812 	ld	-13 (ix), a
   0B70 DD 77 EF      [19] 1813 	ld	-17 (ix),a
   0B73 DD 36 F0 00   [19] 1814 	ld	-16 (ix),#0x00
   0B77 DD 36 F1 00   [19] 1815 	ld	-15 (ix),#0x00
   0B7B DD 36 F2 00   [19] 1816 	ld	-14 (ix),#0x00
   0B7F F5            [11] 1817 	push	af
   0B80 F1            [10] 1818 	pop	af
   0B81 06 10         [ 7] 1819 	ld	b,#0x10
   0B83                    1820 00200$:
   0B83 DD CB EF 26   [23] 1821 	sla	-17 (ix)
   0B87 DD CB F0 16   [23] 1822 	rl	-16 (ix)
   0B8B DD CB F1 16   [23] 1823 	rl	-15 (ix)
   0B8F DD CB F2 16   [23] 1824 	rl	-14 (ix)
   0B93 10 EE         [13] 1825 	djnz	00200$
   0B95 DD 7E EF      [19] 1826 	ld	a,-17 (ix)
   0B98 DD B6 DF      [19] 1827 	or	a, -33 (ix)
   0B9B DD 77 EF      [19] 1828 	ld	-17 (ix),a
   0B9E DD 7E F0      [19] 1829 	ld	a,-16 (ix)
   0BA1 DD B6 E0      [19] 1830 	or	a, -32 (ix)
   0BA4 DD 77 F0      [19] 1831 	ld	-16 (ix),a
   0BA7 DD 7E F1      [19] 1832 	ld	a,-15 (ix)
   0BAA DD B6 E1      [19] 1833 	or	a, -31 (ix)
   0BAD DD 77 F1      [19] 1834 	ld	-15 (ix),a
   0BB0 DD 7E F2      [19] 1835 	ld	a,-14 (ix)
   0BB3 DD B6 E2      [19] 1836 	or	a, -30 (ix)
   0BB6 DD 77 F2      [19] 1837 	ld	-14 (ix),a
   0BB9 DD 6E F9      [19] 1838 	ld	l,-7 (ix)
   0BBC DD 66 FA      [19] 1839 	ld	h,-6 (ix)
   0BBF 7E            [ 7] 1840 	ld	a,(hl)
   0BC0 DD 77 DF      [19] 1841 	ld	-33 (ix), a
   0BC3 DD 77 DF      [19] 1842 	ld	-33 (ix),a
   0BC6 DD 36 E0 00   [19] 1843 	ld	-32 (ix),#0x00
   0BCA DD 7E DF      [19] 1844 	ld	a,-33 (ix)
   0BCD DD 77 E0      [19] 1845 	ld	-32 (ix),a
   0BD0 DD 36 DF 00   [19] 1846 	ld	-33 (ix), #0x00
   0BD4 DD 36 DF 00   [19] 1847 	ld	-33 (ix), #0x00
   0BD8 DD 7E E0      [19] 1848 	ld	a,-32 (ix)
   0BDB DD 77 E0      [19] 1849 	ld	-32 (ix),a
   0BDE DD 36 E1 00   [19] 1850 	ld	-31 (ix),#0x00
   0BE2 DD 36 E2 00   [19] 1851 	ld	-30 (ix),#0x00
   0BE6 DD 7E EF      [19] 1852 	ld	a,-17 (ix)
   0BE9 DD B6 DF      [19] 1853 	or	a, -33 (ix)
   0BEC DD 77 EF      [19] 1854 	ld	-17 (ix),a
   0BEF DD 7E F0      [19] 1855 	ld	a,-16 (ix)
   0BF2 DD B6 E0      [19] 1856 	or	a, -32 (ix)
   0BF5 DD 77 F0      [19] 1857 	ld	-16 (ix),a
   0BF8 DD 7E F1      [19] 1858 	ld	a,-15 (ix)
   0BFB DD B6 E1      [19] 1859 	or	a, -31 (ix)
   0BFE DD 77 F1      [19] 1860 	ld	-15 (ix),a
   0C01 DD 7E F2      [19] 1861 	ld	a,-14 (ix)
   0C04 DD B6 E2      [19] 1862 	or	a, -30 (ix)
   0C07 DD 77 F2      [19] 1863 	ld	-14 (ix),a
   0C0A DD 6E F5      [19] 1864 	ld	l,-11 (ix)
   0C0D DD 66 F6      [19] 1865 	ld	h,-10 (ix)
   0C10 11 08 00      [10] 1866 	ld	de, #0x0008
   0C13 19            [11] 1867 	add	hl, de
   0C14 7E            [ 7] 1868 	ld	a,(hl)
   0C15 DD 77 DF      [19] 1869 	ld	-33 (ix), a
   0C18 DD 77 DF      [19] 1870 	ld	-33 (ix),a
   0C1B DD 36 E0 00   [19] 1871 	ld	-32 (ix),#0x00
   0C1F DD 36 E1 00   [19] 1872 	ld	-31 (ix),#0x00
   0C23 DD 36 E2 00   [19] 1873 	ld	-30 (ix),#0x00
   0C27 DD 7E EF      [19] 1874 	ld	a,-17 (ix)
   0C2A DD B6 DF      [19] 1875 	or	a, -33 (ix)
   0C2D DD 77 EF      [19] 1876 	ld	-17 (ix),a
   0C30 DD 7E F0      [19] 1877 	ld	a,-16 (ix)
   0C33 DD B6 E0      [19] 1878 	or	a, -32 (ix)
   0C36 DD 77 F0      [19] 1879 	ld	-16 (ix),a
   0C39 DD 7E F1      [19] 1880 	ld	a,-15 (ix)
   0C3C DD B6 E1      [19] 1881 	or	a, -31 (ix)
   0C3F DD 77 F1      [19] 1882 	ld	-15 (ix),a
   0C42 DD 7E F2      [19] 1883 	ld	a,-14 (ix)
   0C45 DD B6 E2      [19] 1884 	or	a, -30 (ix)
   0C48 DD 77 F2      [19] 1885 	ld	-14 (ix),a
   0C4B 21 05 00      [10] 1886 	ld	hl, #5
   0C4E 39            [11] 1887 	add	hl, sp
   0C4F EB            [ 4] 1888 	ex	de, hl
   0C50 21 3D 00      [10] 1889 	ld	hl, #61
   0C53 39            [11] 1890 	add	hl, sp
   0C54 01 04 00      [10] 1891 	ld	bc, #4
   0C57 ED B0         [21] 1892 	ldir
                           1893 ;pff.c:776: fmt = check_fs(buf, bsect);	/* Check the partition */
   0C59 DD 5E FE      [19] 1894 	ld	e,-2 (ix)
   0C5C DD 56 FF      [19] 1895 	ld	d,-1 (ix)
   0C5F DD 6E B9      [19] 1896 	ld	l,-71 (ix)
   0C62 DD 66 BA      [19] 1897 	ld	h,-70 (ix)
   0C65 E5            [11] 1898 	push	hl
   0C66 DD 6E B7      [19] 1899 	ld	l,-73 (ix)
   0C69 DD 66 B8      [19] 1900 	ld	h,-72 (ix)
   0C6C E5            [11] 1901 	push	hl
   0C6D D5            [11] 1902 	push	de
   0C6E CDr53r09      [17] 1903 	call	_check_fs
   0C71 F1            [10] 1904 	pop	af
   0C72 F1            [10] 1905 	pop	af
   0C73 F1            [10] 1906 	pop	af
   0C74 DD 75 FD      [19] 1907 	ld	-3 (ix),l
   0C77                    1908 00109$:
                           1909 ;pff.c:780: if (fmt == 3) return FR_DISK_ERR;
   0C77 DD 7E FD      [19] 1910 	ld	a,-3 (ix)
   0C7A D6 03         [ 7] 1911 	sub	a, #0x03
   0C7C 20 05         [12] 1912 	jr	NZ,00111$
   0C7E 2E 01         [ 7] 1913 	ld	l,#0x01
   0C80 C3r4Fr12      [10] 1914 	jp	00137$
   0C83                    1915 00111$:
                           1916 ;pff.c:781: if (fmt) return FR_NO_FILESYSTEM;	/* No valid FAT patition is found */
   0C83 DD 7E FD      [19] 1917 	ld	a,-3 (ix)
   0C86 B7            [ 4] 1918 	or	a, a
   0C87 28 05         [12] 1919 	jr	Z,00113$
   0C89 2E 06         [ 7] 1920 	ld	l,#0x06
   0C8B C3r4Fr12      [10] 1921 	jp	00137$
   0C8E                    1922 00113$:
                           1923 ;pff.c:784: if (disk_readp(buf, bsect, 13, sizeof (buf))) return FR_DISK_ERR;
   0C8E DD 5E FE      [19] 1924 	ld	e,-2 (ix)
   0C91 DD 56 FF      [19] 1925 	ld	d,-1 (ix)
   0C94 21 24 00      [10] 1926 	ld	hl,#0x0024
   0C97 E5            [11] 1927 	push	hl
   0C98 2E 0D         [ 7] 1928 	ld	l, #0x0D
   0C9A E5            [11] 1929 	push	hl
   0C9B DD 6E B9      [19] 1930 	ld	l,-71 (ix)
   0C9E DD 66 BA      [19] 1931 	ld	h,-70 (ix)
   0CA1 E5            [11] 1932 	push	hl
   0CA2 DD 6E B7      [19] 1933 	ld	l,-73 (ix)
   0CA5 DD 66 B8      [19] 1934 	ld	h,-72 (ix)
   0CA8 E5            [11] 1935 	push	hl
   0CA9 D5            [11] 1936 	push	de
   0CAA CDr00r00      [17] 1937 	call	_disk_readp
   0CAD FD 21 0A 00   [14] 1938 	ld	iy,#10
   0CB1 FD 39         [15] 1939 	add	iy,sp
   0CB3 FD F9         [10] 1940 	ld	sp,iy
   0CB5 7D            [ 4] 1941 	ld	a,l
   0CB6 B7            [ 4] 1942 	or	a, a
   0CB7 28 05         [12] 1943 	jr	Z,00115$
   0CB9 2E 01         [ 7] 1944 	ld	l,#0x01
   0CBB C3r4Fr12      [10] 1945 	jp	00137$
   0CBE                    1946 00115$:
                           1947 ;pff.c:786: fsize = LD_WORD(buf+BPB_FATSz16-13);				/* Number of sectors per FAT */
   0CBE DD 6E F7      [19] 1948 	ld	l,-9 (ix)
   0CC1 DD 66 F8      [19] 1949 	ld	h,-8 (ix)
   0CC4 56            [ 7] 1950 	ld	d, (hl)
   0CC5 1E 00         [ 7] 1951 	ld	e,#0x00
   0CC7 DD 6E F9      [19] 1952 	ld	l,-7 (ix)
   0CCA DD 66 FA      [19] 1953 	ld	h,-6 (ix)
   0CCD 6E            [ 7] 1954 	ld	l,(hl)
   0CCE 26 00         [ 7] 1955 	ld	h,#0x00
   0CD0 7B            [ 4] 1956 	ld	a,e
   0CD1 B5            [ 4] 1957 	or	a, l
   0CD2 4F            [ 4] 1958 	ld	c,a
   0CD3 7A            [ 4] 1959 	ld	a,d
   0CD4 B4            [ 4] 1960 	or	a, h
   0CD5 47            [ 4] 1961 	ld	b,a
   0CD6 11 00 00      [10] 1962 	ld	de,#0x0000
                           1963 ;pff.c:787: if (!fsize) fsize = LD_DWORD(buf+BPB_FATSz32-13);
   0CD9 7A            [ 4] 1964 	ld	a,d
   0CDA B3            [ 4] 1965 	or	a, e
   0CDB B0            [ 4] 1966 	or	a, b
   0CDC B1            [ 4] 1967 	or	a,c
   0CDD C2r9Ar0D      [10] 1968 	jp	NZ,00117$
   0CE0 DD 5E FE      [19] 1969 	ld	e,-2 (ix)
   0CE3 DD 56 FF      [19] 1970 	ld	d,-1 (ix)
   0CE6 DD 6E FE      [19] 1971 	ld	l,-2 (ix)
   0CE9 DD 66 FF      [19] 1972 	ld	h,-1 (ix)
   0CEC 01 1A 00      [10] 1973 	ld	bc, #0x001A
   0CEF 09            [11] 1974 	add	hl, bc
   0CF0 6E            [ 7] 1975 	ld	l,(hl)
   0CF1 26 00         [ 7] 1976 	ld	h,#0x00
   0CF3 01 00 00      [10] 1977 	ld	bc,#0x0000
   0CF6 F5            [11] 1978 	push	af
   0CF7 DD 75 EF      [19] 1979 	ld	-17 (ix),l
   0CFA DD 74 F0      [19] 1980 	ld	-16 (ix),h
   0CFD DD 71 F1      [19] 1981 	ld	-15 (ix),c
   0D00 DD 70 F2      [19] 1982 	ld	-14 (ix),b
   0D03 F1            [10] 1983 	pop	af
   0D04 3E 18         [ 7] 1984 	ld	a,#0x18
   0D06                    1985 00204$:
   0D06 DD CB EF 26   [23] 1986 	sla	-17 (ix)
   0D0A DD CB F0 16   [23] 1987 	rl	-16 (ix)
   0D0E DD CB F1 16   [23] 1988 	rl	-15 (ix)
   0D12 DD CB F2 16   [23] 1989 	rl	-14 (ix)
   0D16 3D            [ 4] 1990 	dec	a
   0D17 20 ED         [12] 1991 	jr	NZ,00204$
   0D19 DD 6E FE      [19] 1992 	ld	l,-2 (ix)
   0D1C DD 66 FF      [19] 1993 	ld	h,-1 (ix)
   0D1F 01 19 00      [10] 1994 	ld	bc, #0x0019
   0D22 09            [11] 1995 	add	hl, bc
   0D23 6E            [ 7] 1996 	ld	l,(hl)
   0D24 26 00         [ 7] 1997 	ld	h,#0x00
   0D26 01 00 00      [10] 1998 	ld	bc,#0x0000
   0D29 3E 10         [ 7] 1999 	ld	a,#0x10
   0D2B                    2000 00206$:
   0D2B 29            [11] 2001 	add	hl, hl
   0D2C CB 11         [ 8] 2002 	rl	c
   0D2E CB 10         [ 8] 2003 	rl	b
   0D30 3D            [ 4] 2004 	dec	a
   0D31 20 F8         [12] 2005 	jr	NZ,00206$
   0D33 DD 7E EF      [19] 2006 	ld	a,-17 (ix)
   0D36 B5            [ 4] 2007 	or	a, l
   0D37 DD 77 EF      [19] 2008 	ld	-17 (ix),a
   0D3A DD 7E F0      [19] 2009 	ld	a,-16 (ix)
   0D3D B4            [ 4] 2010 	or	a, h
   0D3E DD 77 F0      [19] 2011 	ld	-16 (ix),a
   0D41 DD 7E F1      [19] 2012 	ld	a,-15 (ix)
   0D44 B1            [ 4] 2013 	or	a, c
   0D45 DD 77 F1      [19] 2014 	ld	-15 (ix),a
   0D48 DD 7E F2      [19] 2015 	ld	a,-14 (ix)
   0D4B B0            [ 4] 2016 	or	a, b
   0D4C DD 77 F2      [19] 2017 	ld	-14 (ix),a
   0D4F DD 6E FE      [19] 2018 	ld	l,-2 (ix)
   0D52 DD 66 FF      [19] 2019 	ld	h,-1 (ix)
   0D55 01 18 00      [10] 2020 	ld	bc, #0x0018
   0D58 09            [11] 2021 	add	hl, bc
   0D59 66            [ 7] 2022 	ld	h, (hl)
   0D5A 2E 00         [ 7] 2023 	ld	l,#0x00
   0D5C 01 00 00      [10] 2024 	ld	bc,#0x0000
   0D5F DD 7E EF      [19] 2025 	ld	a,-17 (ix)
   0D62 B5            [ 4] 2026 	or	a, l
   0D63 DD 77 EF      [19] 2027 	ld	-17 (ix),a
   0D66 DD 7E F0      [19] 2028 	ld	a,-16 (ix)
   0D69 B4            [ 4] 2029 	or	a, h
   0D6A DD 77 F0      [19] 2030 	ld	-16 (ix),a
   0D6D DD 7E F1      [19] 2031 	ld	a,-15 (ix)
   0D70 B1            [ 4] 2032 	or	a, c
   0D71 DD 77 F1      [19] 2033 	ld	-15 (ix),a
   0D74 DD 7E F2      [19] 2034 	ld	a,-14 (ix)
   0D77 B0            [ 4] 2035 	or	a, b
   0D78 DD 77 F2      [19] 2036 	ld	-14 (ix),a
   0D7B EB            [ 4] 2037 	ex	de,hl
   0D7C 11 17 00      [10] 2038 	ld	de, #0x0017
   0D7F 19            [11] 2039 	add	hl, de
   0D80 6E            [ 7] 2040 	ld	l,(hl)
   0D81 26 00         [ 7] 2041 	ld	h,#0x00
   0D83 11 00 00      [10] 2042 	ld	de,#0x0000
   0D86 DD 7E EF      [19] 2043 	ld	a,-17 (ix)
   0D89 B5            [ 4] 2044 	or	a, l
   0D8A 4F            [ 4] 2045 	ld	c,a
   0D8B DD 7E F0      [19] 2046 	ld	a,-16 (ix)
   0D8E B4            [ 4] 2047 	or	a, h
   0D8F 47            [ 4] 2048 	ld	b,a
   0D90 DD 7E F1      [19] 2049 	ld	a,-15 (ix)
   0D93 B3            [ 4] 2050 	or	a, e
   0D94 5F            [ 4] 2051 	ld	e,a
   0D95 DD 7E F2      [19] 2052 	ld	a,-14 (ix)
   0D98 B2            [ 4] 2053 	or	a, d
   0D99 57            [ 4] 2054 	ld	d,a
   0D9A                    2055 00117$:
                           2056 ;pff.c:789: fsize *= buf[BPB_NumFATs-13];						/* Number of sectors in FAT area */
   0D9A DD 6E FE      [19] 2057 	ld	l,-2 (ix)
   0D9D DD 66 FF      [19] 2058 	ld	h,-1 (ix)
   0DA0 23            [ 6] 2059 	inc	hl
   0DA1 23            [ 6] 2060 	inc	hl
   0DA2 23            [ 6] 2061 	inc	hl
   0DA3 7E            [ 7] 2062 	ld	a,(hl)
   0DA4 DD 77 EF      [19] 2063 	ld	-17 (ix),a
   0DA7 DD 36 F0 00   [19] 2064 	ld	-16 (ix),#0x00
   0DAB DD 36 F1 00   [19] 2065 	ld	-15 (ix),#0x00
   0DAF DD 36 F2 00   [19] 2066 	ld	-14 (ix),#0x00
   0DB3 DD 6E F1      [19] 2067 	ld	l,-15 (ix)
   0DB6 DD 66 F2      [19] 2068 	ld	h,-14 (ix)
   0DB9 E5            [11] 2069 	push	hl
   0DBA DD 6E EF      [19] 2070 	ld	l,-17 (ix)
   0DBD DD 66 F0      [19] 2071 	ld	h,-16 (ix)
   0DC0 E5            [11] 2072 	push	hl
   0DC1 D5            [11] 2073 	push	de
   0DC2 C5            [11] 2074 	push	bc
   0DC3 CDr00r00      [17] 2075 	call	__mullong
   0DC6 F1            [10] 2076 	pop	af
   0DC7 F1            [10] 2077 	pop	af
   0DC8 F1            [10] 2078 	pop	af
   0DC9 F1            [10] 2079 	pop	af
   0DCA DD 75 B3      [19] 2080 	ld	-77 (ix),l
   0DCD DD 74 B4      [19] 2081 	ld	-76 (ix),h
   0DD0 DD 73 B5      [19] 2082 	ld	-75 (ix),e
   0DD3 DD 72 B6      [19] 2083 	ld	-74 (ix),d
                           2084 ;pff.c:790: fs->fatbase = bsect + LD_WORD(buf+BPB_RsvdSecCnt-13); /* FAT start sector (lba) */
   0DD6 DD 4E 04      [19] 2085 	ld	c,4 (ix)
   0DD9 DD 46 05      [19] 2086 	ld	b,5 (ix)
   0DDC 21 0A 00      [10] 2087 	ld	hl,#0x000A
   0DDF 09            [11] 2088 	add	hl,bc
   0DE0 DD 75 EF      [19] 2089 	ld	-17 (ix),l
   0DE3 DD 74 F0      [19] 2090 	ld	-16 (ix),h
   0DE6 DD 7E FE      [19] 2091 	ld	a,-2 (ix)
   0DE9 C6 01         [ 7] 2092 	add	a, #0x01
   0DEB DD 77 DF      [19] 2093 	ld	-33 (ix),a
   0DEE DD 7E FF      [19] 2094 	ld	a,-1 (ix)
   0DF1 CE 00         [ 7] 2095 	adc	a, #0x00
   0DF3 DD 77 E0      [19] 2096 	ld	-32 (ix),a
   0DF6 DD 7E FE      [19] 2097 	ld	a,-2 (ix)
   0DF9 C6 02         [ 7] 2098 	add	a, #0x02
   0DFB DD 77 F3      [19] 2099 	ld	-13 (ix),a
   0DFE DD 7E FF      [19] 2100 	ld	a,-1 (ix)
   0E01 CE 00         [ 7] 2101 	adc	a, #0x00
   0E03 DD 77 F4      [19] 2102 	ld	-12 (ix),a
   0E06 DD 6E F3      [19] 2103 	ld	l,-13 (ix)
   0E09 DD 66 F4      [19] 2104 	ld	h,-12 (ix)
   0E0C 6E            [ 7] 2105 	ld	l,(hl)
   0E0D DD 75 F6      [19] 2106 	ld	-10 (ix),l
   0E10 DD 36 F5 00   [19] 2107 	ld	-11 (ix),#0x00
   0E14 DD 6E DF      [19] 2108 	ld	l,-33 (ix)
   0E17 DD 66 E0      [19] 2109 	ld	h,-32 (ix)
   0E1A 6E            [ 7] 2110 	ld	l,(hl)
   0E1B 26 00         [ 7] 2111 	ld	h,#0x00
   0E1D 7D            [ 4] 2112 	ld	a,l
   0E1E DD B6 F5      [19] 2113 	or	a, -11 (ix)
   0E21 6F            [ 4] 2114 	ld	l,a
   0E22 7C            [ 4] 2115 	ld	a,h
   0E23 DD B6 F6      [19] 2116 	or	a, -10 (ix)
   0E26 67            [ 4] 2117 	ld	h,a
   0E27 11 00 00      [10] 2118 	ld	de,#0x0000
   0E2A DD 7E B7      [19] 2119 	ld	a,-73 (ix)
   0E2D 85            [ 4] 2120 	add	a, l
   0E2E DD 77 E3      [19] 2121 	ld	-29 (ix),a
   0E31 DD 7E B8      [19] 2122 	ld	a,-72 (ix)
   0E34 8C            [ 4] 2123 	adc	a, h
   0E35 DD 77 E4      [19] 2124 	ld	-28 (ix),a
   0E38 DD 7E B9      [19] 2125 	ld	a,-71 (ix)
   0E3B 8B            [ 4] 2126 	adc	a, e
   0E3C DD 77 E5      [19] 2127 	ld	-27 (ix),a
   0E3F DD 7E BA      [19] 2128 	ld	a,-70 (ix)
   0E42 8A            [ 4] 2129 	adc	a, d
   0E43 DD 77 E6      [19] 2130 	ld	-26 (ix),a
   0E46 C5            [11] 2131 	push	bc
   0E47 DD 5E EF      [19] 2132 	ld	e,-17 (ix)
   0E4A DD 56 F0      [19] 2133 	ld	d,-16 (ix)
   0E4D 21 33 00      [10] 2134 	ld	hl, #0x0033
   0E50 39            [11] 2135 	add	hl, sp
   0E51 01 04 00      [10] 2136 	ld	bc, #0x0004
   0E54 ED B0         [21] 2137 	ldir
   0E56 C1            [10] 2138 	pop	bc
                           2139 ;pff.c:791: fs->csize = buf[BPB_SecPerClus-13];					/* Number of sectors per cluster */
   0E57 21 02 00      [10] 2140 	ld	hl,#0x0002
   0E5A 09            [11] 2141 	add	hl,bc
   0E5B DD 75 E3      [19] 2142 	ld	-29 (ix),l
   0E5E DD 74 E4      [19] 2143 	ld	-28 (ix),h
   0E61 DD 6E FE      [19] 2144 	ld	l,-2 (ix)
   0E64 DD 66 FF      [19] 2145 	ld	h,-1 (ix)
   0E67 7E            [ 7] 2146 	ld	a,(hl)
   0E68 DD 6E E3      [19] 2147 	ld	l,-29 (ix)
   0E6B DD 66 E4      [19] 2148 	ld	h,-28 (ix)
   0E6E 77            [ 7] 2149 	ld	(hl),a
                           2150 ;pff.c:792: fs->n_rootdir = LD_WORD(buf+BPB_RootEntCnt-13);		/* Nmuber of root directory entries */
   0E6F 21 04 00      [10] 2151 	ld	hl,#0x0004
   0E72 09            [11] 2152 	add	hl,bc
   0E73 DD 75 F5      [19] 2153 	ld	-11 (ix),l
   0E76 DD 74 F6      [19] 2154 	ld	-10 (ix),h
   0E79 DD 6E FE      [19] 2155 	ld	l,-2 (ix)
   0E7C DD 66 FF      [19] 2156 	ld	h,-1 (ix)
   0E7F 11 05 00      [10] 2157 	ld	de, #0x0005
   0E82 19            [11] 2158 	add	hl, de
   0E83 56            [ 7] 2159 	ld	d, (hl)
   0E84 1E 00         [ 7] 2160 	ld	e,#0x00
   0E86 DD 6E FB      [19] 2161 	ld	l,-5 (ix)
   0E89 DD 66 FC      [19] 2162 	ld	h,-4 (ix)
   0E8C 6E            [ 7] 2163 	ld	l,(hl)
   0E8D 26 00         [ 7] 2164 	ld	h,#0x00
   0E8F 7B            [ 4] 2165 	ld	a,e
   0E90 B5            [ 4] 2166 	or	a, l
   0E91 5F            [ 4] 2167 	ld	e,a
   0E92 7A            [ 4] 2168 	ld	a,d
   0E93 B4            [ 4] 2169 	or	a, h
   0E94 57            [ 4] 2170 	ld	d,a
   0E95 DD 6E F5      [19] 2171 	ld	l,-11 (ix)
   0E98 DD 66 F6      [19] 2172 	ld	h,-10 (ix)
   0E9B 73            [ 7] 2173 	ld	(hl),e
   0E9C 23            [ 6] 2174 	inc	hl
   0E9D 72            [ 7] 2175 	ld	(hl),d
                           2176 ;pff.c:793: tsect = LD_WORD(buf+BPB_TotSec16-13);				/* Number of sectors on the file system */
   0E9E DD 5E FE      [19] 2177 	ld	e,-2 (ix)
   0EA1 DD 56 FF      [19] 2178 	ld	d,-1 (ix)
   0EA4 D5            [11] 2179 	push	de
   0EA5 FD E1         [14] 2180 	pop	iy
   0EA7 DD 6E FE      [19] 2181 	ld	l,-2 (ix)
   0EAA DD 66 FF      [19] 2182 	ld	h,-1 (ix)
   0EAD 11 07 00      [10] 2183 	ld	de, #0x0007
   0EB0 19            [11] 2184 	add	hl, de
   0EB1 6E            [ 7] 2185 	ld	l,(hl)
   0EB2 DD 75 FA      [19] 2186 	ld	-6 (ix),l
   0EB5 DD 36 F9 00   [19] 2187 	ld	-7 (ix),#0x00
   0EB9 FD 7E 06      [19] 2188 	ld	a, 6 (iy)
   0EBC 26 00         [ 7] 2189 	ld	h, #0x00
   0EBE DD B6 F9      [19] 2190 	or	a, -7 (ix)
   0EC1 6F            [ 4] 2191 	ld	l,a
   0EC2 7C            [ 4] 2192 	ld	a,h
   0EC3 DD B6 FA      [19] 2193 	or	a, -6 (ix)
   0EC6 67            [ 4] 2194 	ld	h,a
   0EC7 11 00 00      [10] 2195 	ld	de,#0x0000
   0ECA DD 75 E7      [19] 2196 	ld	-25 (ix),l
   0ECD DD 74 E8      [19] 2197 	ld	-24 (ix),h
   0ED0 DD 73 E9      [19] 2198 	ld	-23 (ix),e
   0ED3 DD 72 EA      [19] 2199 	ld	-22 (ix),d
                           2200 ;pff.c:794: if (!tsect) tsect = LD_DWORD(buf+BPB_TotSec32-13);
   0ED6 7A            [ 4] 2201 	ld	a,d
   0ED7 B3            [ 4] 2202 	or	a, e
   0ED8 B4            [ 4] 2203 	or	a, h
   0ED9 B5            [ 4] 2204 	or	a,l
   0EDA C2rA3r0F      [10] 2205 	jp	NZ,00119$
   0EDD DD 5E FE      [19] 2206 	ld	e,-2 (ix)
   0EE0 DD 56 FF      [19] 2207 	ld	d,-1 (ix)
   0EE3 D5            [11] 2208 	push	de
   0EE4 FD E1         [14] 2209 	pop	iy
   0EE6 DD 6E FE      [19] 2210 	ld	l,-2 (ix)
   0EE9 DD 66 FF      [19] 2211 	ld	h,-1 (ix)
   0EEC 11 16 00      [10] 2212 	ld	de, #0x0016
   0EEF 19            [11] 2213 	add	hl, de
   0EF0 6E            [ 7] 2214 	ld	l,(hl)
   0EF1 26 00         [ 7] 2215 	ld	h,#0x00
   0EF3 11 00 00      [10] 2216 	ld	de,#0x0000
   0EF6 F5            [11] 2217 	push	af
   0EF7 DD 75 EB      [19] 2218 	ld	-21 (ix),l
   0EFA DD 74 EC      [19] 2219 	ld	-20 (ix),h
   0EFD DD 73 ED      [19] 2220 	ld	-19 (ix),e
   0F00 DD 72 EE      [19] 2221 	ld	-18 (ix),d
   0F03 F1            [10] 2222 	pop	af
   0F04 3E 18         [ 7] 2223 	ld	a,#0x18
   0F06                    2224 00208$:
   0F06 DD CB EB 26   [23] 2225 	sla	-21 (ix)
   0F0A DD CB EC 16   [23] 2226 	rl	-20 (ix)
   0F0E DD CB ED 16   [23] 2227 	rl	-19 (ix)
   0F12 DD CB EE 16   [23] 2228 	rl	-18 (ix)
   0F16 3D            [ 4] 2229 	dec	a
   0F17 20 ED         [12] 2230 	jr	NZ,00208$
   0F19 DD 6E FE      [19] 2231 	ld	l,-2 (ix)
   0F1C DD 66 FF      [19] 2232 	ld	h,-1 (ix)
   0F1F 11 15 00      [10] 2233 	ld	de, #0x0015
   0F22 19            [11] 2234 	add	hl, de
   0F23 6E            [ 7] 2235 	ld	l,(hl)
   0F24 26 00         [ 7] 2236 	ld	h,#0x00
   0F26 11 00 00      [10] 2237 	ld	de,#0x0000
   0F29 3E 10         [ 7] 2238 	ld	a,#0x10
   0F2B                    2239 00210$:
   0F2B 29            [11] 2240 	add	hl, hl
   0F2C CB 13         [ 8] 2241 	rl	e
   0F2E CB 12         [ 8] 2242 	rl	d
   0F30 3D            [ 4] 2243 	dec	a
   0F31 20 F8         [12] 2244 	jr	NZ,00210$
   0F33 DD 7E EB      [19] 2245 	ld	a,-21 (ix)
   0F36 B5            [ 4] 2246 	or	a, l
   0F37 DD 77 EB      [19] 2247 	ld	-21 (ix),a
   0F3A DD 7E EC      [19] 2248 	ld	a,-20 (ix)
   0F3D B4            [ 4] 2249 	or	a, h
   0F3E DD 77 EC      [19] 2250 	ld	-20 (ix),a
   0F41 DD 7E ED      [19] 2251 	ld	a,-19 (ix)
   0F44 B3            [ 4] 2252 	or	a, e
   0F45 DD 77 ED      [19] 2253 	ld	-19 (ix),a
   0F48 DD 7E EE      [19] 2254 	ld	a,-18 (ix)
   0F4B B2            [ 4] 2255 	or	a, d
   0F4C DD 77 EE      [19] 2256 	ld	-18 (ix),a
   0F4F DD 6E FE      [19] 2257 	ld	l,-2 (ix)
   0F52 DD 66 FF      [19] 2258 	ld	h,-1 (ix)
   0F55 11 14 00      [10] 2259 	ld	de, #0x0014
   0F58 19            [11] 2260 	add	hl, de
   0F59 66            [ 7] 2261 	ld	h, (hl)
   0F5A 2E 00         [ 7] 2262 	ld	l,#0x00
   0F5C 11 00 00      [10] 2263 	ld	de,#0x0000
   0F5F DD 7E EB      [19] 2264 	ld	a,-21 (ix)
   0F62 B5            [ 4] 2265 	or	a, l
   0F63 DD 77 EB      [19] 2266 	ld	-21 (ix),a
   0F66 DD 7E EC      [19] 2267 	ld	a,-20 (ix)
   0F69 B4            [ 4] 2268 	or	a, h
   0F6A DD 77 EC      [19] 2269 	ld	-20 (ix),a
   0F6D DD 7E ED      [19] 2270 	ld	a,-19 (ix)
   0F70 B3            [ 4] 2271 	or	a, e
   0F71 DD 77 ED      [19] 2272 	ld	-19 (ix),a
   0F74 DD 7E EE      [19] 2273 	ld	a,-18 (ix)
   0F77 B2            [ 4] 2274 	or	a, d
   0F78 DD 77 EE      [19] 2275 	ld	-18 (ix),a
   0F7B FD 6E 13      [19] 2276 	ld	l,19 (iy)
   0F7E 26 00         [ 7] 2277 	ld	h,#0x00
   0F80 11 00 00      [10] 2278 	ld	de,#0x0000
   0F83 7D            [ 4] 2279 	ld	a,l
   0F84 DD B6 EB      [19] 2280 	or	a, -21 (ix)
   0F87 6F            [ 4] 2281 	ld	l,a
   0F88 7C            [ 4] 2282 	ld	a,h
   0F89 DD B6 EC      [19] 2283 	or	a, -20 (ix)
   0F8C 67            [ 4] 2284 	ld	h,a
   0F8D 7B            [ 4] 2285 	ld	a,e
   0F8E DD B6 ED      [19] 2286 	or	a, -19 (ix)
   0F91 5F            [ 4] 2287 	ld	e,a
   0F92 7A            [ 4] 2288 	ld	a,d
   0F93 DD B6 EE      [19] 2289 	or	a, -18 (ix)
   0F96 57            [ 4] 2290 	ld	d,a
   0F97 DD 75 E7      [19] 2291 	ld	-25 (ix),l
   0F9A DD 74 E8      [19] 2292 	ld	-24 (ix),h
   0F9D DD 73 E9      [19] 2293 	ld	-23 (ix),e
   0FA0 DD 72 EA      [19] 2294 	ld	-22 (ix),d
   0FA3                    2295 00119$:
                           2296 ;pff.c:796: - LD_WORD(buf+BPB_RsvdSecCnt-13) - fsize - fs->n_rootdir / 16
   0FA3 DD 6E F3      [19] 2297 	ld	l,-13 (ix)
   0FA6 DD 66 F4      [19] 2298 	ld	h,-12 (ix)
   0FA9 56            [ 7] 2299 	ld	d,(hl)
   0FAA 1E 00         [ 7] 2300 	ld	e,#0x00
   0FAC DD 6E DF      [19] 2301 	ld	l,-33 (ix)
   0FAF DD 66 E0      [19] 2302 	ld	h,-32 (ix)
   0FB2 66            [ 7] 2303 	ld	h,(hl)
   0FB3 2E 00         [ 7] 2304 	ld	l,#0x00
   0FB5 7B            [ 4] 2305 	ld	a,e
   0FB6 B4            [ 4] 2306 	or	a, h
   0FB7 5F            [ 4] 2307 	ld	e,a
   0FB8 7A            [ 4] 2308 	ld	a,d
   0FB9 B5            [ 4] 2309 	or	a, l
   0FBA 57            [ 4] 2310 	ld	d,a
   0FBB 21 00 00      [10] 2311 	ld	hl,#0x0000
   0FBE DD 7E E7      [19] 2312 	ld	a,-25 (ix)
   0FC1 93            [ 4] 2313 	sub	a, e
   0FC2 5F            [ 4] 2314 	ld	e,a
   0FC3 DD 7E E8      [19] 2315 	ld	a,-24 (ix)
   0FC6 9A            [ 4] 2316 	sbc	a, d
   0FC7 57            [ 4] 2317 	ld	d,a
   0FC8 DD 7E E9      [19] 2318 	ld	a,-23 (ix)
   0FCB 9D            [ 4] 2319 	sbc	a, l
   0FCC 6F            [ 4] 2320 	ld	l,a
   0FCD DD 7E EA      [19] 2321 	ld	a,-22 (ix)
   0FD0 9C            [ 4] 2322 	sbc	a, h
   0FD1 67            [ 4] 2323 	ld	h,a
   0FD2 7B            [ 4] 2324 	ld	a,e
   0FD3 DD 96 B3      [19] 2325 	sub	a, -77 (ix)
   0FD6 DD 77 EB      [19] 2326 	ld	-21 (ix),a
   0FD9 7A            [ 4] 2327 	ld	a,d
   0FDA DD 9E B4      [19] 2328 	sbc	a, -76 (ix)
   0FDD DD 77 EC      [19] 2329 	ld	-20 (ix),a
   0FE0 7D            [ 4] 2330 	ld	a,l
   0FE1 DD 9E B5      [19] 2331 	sbc	a, -75 (ix)
   0FE4 DD 77 ED      [19] 2332 	ld	-19 (ix),a
   0FE7 7C            [ 4] 2333 	ld	a,h
   0FE8 DD 9E B6      [19] 2334 	sbc	a, -74 (ix)
   0FEB DD 77 EE      [19] 2335 	ld	-18 (ix),a
   0FEE DD 6E F5      [19] 2336 	ld	l,-11 (ix)
   0FF1 DD 66 F6      [19] 2337 	ld	h,-10 (ix)
   0FF4 5E            [ 7] 2338 	ld	e,(hl)
   0FF5 23            [ 6] 2339 	inc	hl
   0FF6 56            [ 7] 2340 	ld	d,(hl)
   0FF7 CB 3A         [ 8] 2341 	srl	d
   0FF9 CB 1B         [ 8] 2342 	rr	e
   0FFB CB 3A         [ 8] 2343 	srl	d
   0FFD CB 1B         [ 8] 2344 	rr	e
   0FFF CB 3A         [ 8] 2345 	srl	d
   1001 CB 1B         [ 8] 2346 	rr	e
   1003 CB 3A         [ 8] 2347 	srl	d
   1005 CB 1B         [ 8] 2348 	rr	e
   1007 21 00 00      [10] 2349 	ld	hl,#0x0000
   100A DD 7E EB      [19] 2350 	ld	a,-21 (ix)
   100D 93            [ 4] 2351 	sub	a, e
   100E DD 77 EB      [19] 2352 	ld	-21 (ix),a
   1011 DD 7E EC      [19] 2353 	ld	a,-20 (ix)
   1014 9A            [ 4] 2354 	sbc	a, d
   1015 DD 77 EC      [19] 2355 	ld	-20 (ix),a
   1018 DD 7E ED      [19] 2356 	ld	a,-19 (ix)
   101B 9C            [ 4] 2357 	sbc	a, h
   101C DD 77 ED      [19] 2358 	ld	-19 (ix),a
   101F DD 7E EE      [19] 2359 	ld	a,-18 (ix)
   1022 9D            [ 4] 2360 	sbc	a, l
   1023 DD 77 EE      [19] 2361 	ld	-18 (ix),a
                           2362 ;pff.c:797: ) / fs->csize + 2;
   1026 DD 6E E3      [19] 2363 	ld	l,-29 (ix)
   1029 DD 66 E4      [19] 2364 	ld	h,-28 (ix)
   102C 5E            [ 7] 2365 	ld	e,(hl)
   102D 16 00         [ 7] 2366 	ld	d,#0x00
   102F 21 00 00      [10] 2367 	ld	hl,#0x0000
   1032 C5            [11] 2368 	push	bc
   1033 E5            [11] 2369 	push	hl
   1034 D5            [11] 2370 	push	de
   1035 DD 6E ED      [19] 2371 	ld	l,-19 (ix)
   1038 DD 66 EE      [19] 2372 	ld	h,-18 (ix)
   103B E5            [11] 2373 	push	hl
   103C DD 6E EB      [19] 2374 	ld	l,-21 (ix)
   103F DD 66 EC      [19] 2375 	ld	h,-20 (ix)
   1042 E5            [11] 2376 	push	hl
   1043 CDr00r00      [17] 2377 	call	__divulong
   1046 F1            [10] 2378 	pop	af
   1047 F1            [10] 2379 	pop	af
   1048 F1            [10] 2380 	pop	af
   1049 F1            [10] 2381 	pop	af
   104A C1            [10] 2382 	pop	bc
   104B 7D            [ 4] 2383 	ld	a,l
   104C C6 02         [ 7] 2384 	add	a, #0x02
   104E 6F            [ 4] 2385 	ld	l,a
   104F 7C            [ 4] 2386 	ld	a,h
   1050 CE 00         [ 7] 2387 	adc	a, #0x00
   1052 67            [ 4] 2388 	ld	h,a
   1053 7B            [ 4] 2389 	ld	a,e
   1054 CE 00         [ 7] 2390 	adc	a, #0x00
   1056 5F            [ 4] 2391 	ld	e,a
   1057 7A            [ 4] 2392 	ld	a,d
   1058 CE 00         [ 7] 2393 	adc	a, #0x00
   105A 57            [ 4] 2394 	ld	d,a
                           2395 ;pff.c:798: fs->n_fatent = (CLUST)mclst;
   105B FD 21 06 00   [14] 2396 	ld	iy,#0x0006
   105F FD 09         [15] 2397 	add	iy, bc
   1061 FD 75 00      [19] 2398 	ld	0 (iy),l
   1064 FD 74 01      [19] 2399 	ld	1 (iy),h
   1067 FD 73 02      [19] 2400 	ld	2 (iy),e
   106A FD 72 03      [19] 2401 	ld	3 (iy),d
                           2402 ;pff.c:800: fmt = 0;							/* Determine the FAT sub type */
   106D DD 36 B2 00   [19] 2403 	ld	-78 (ix),#0x00
                           2404 ;pff.c:803: if (_FS_FAT16 && mclst >= 0xFF8 && mclst < 0xFFF7)
   1071 7D            [ 4] 2405 	ld	a,l
   1072 D6 F7         [ 7] 2406 	sub	a, #0xF7
   1074 7C            [ 4] 2407 	ld	a,h
   1075 DE FF         [ 7] 2408 	sbc	a, #0xFF
   1077 7B            [ 4] 2409 	ld	a,e
   1078 DE 00         [ 7] 2410 	sbc	a, #0x00
   107A 7A            [ 4] 2411 	ld	a,d
   107B DE 00         [ 7] 2412 	sbc	a, #0x00
   107D 3E 00         [ 7] 2413 	ld	a,#0x00
   107F 17            [ 4] 2414 	rla
   1080 DD 77 EB      [19] 2415 	ld	-21 (ix),a
   1083 7D            [ 4] 2416 	ld	a,l
   1084 D6 F8         [ 7] 2417 	sub	a, #0xF8
   1086 7C            [ 4] 2418 	ld	a,h
   1087 DE 0F         [ 7] 2419 	sbc	a, #0x0F
   1089 7B            [ 4] 2420 	ld	a,e
   108A DE 00         [ 7] 2421 	sbc	a, #0x00
   108C 7A            [ 4] 2422 	ld	a,d
   108D DE 00         [ 7] 2423 	sbc	a, #0x00
   108F 38 0A         [12] 2424 	jr	C,00129$
   1091 DD 7E EB      [19] 2425 	ld	a,-21 (ix)
   1094 B7            [ 4] 2426 	or	a, a
   1095 28 04         [12] 2427 	jr	Z,00129$
                           2428 ;pff.c:804: fmt = FS_FAT16;
   1097 DD 36 B2 02   [19] 2429 	ld	-78 (ix),#0x02
                           2430 ;pff.c:805: if (_FS_FAT32 && mclst >= 0xFFF7)
   109B                    2431 00129$:
   109B DD 7E EB      [19] 2432 	ld	a,-21 (ix)
   109E B7            [ 4] 2433 	or	a, a
   109F 20 04         [12] 2434 	jr	NZ,00128$
                           2435 ;pff.c:806: fmt = FS_FAT32;
   10A1 DD 36 B2 03   [19] 2436 	ld	-78 (ix),#0x03
   10A5                    2437 00128$:
                           2438 ;pff.c:807: if (!fmt) return FR_NO_FILESYSTEM;
   10A5 DD 7E B2      [19] 2439 	ld	a,-78 (ix)
   10A8 B7            [ 4] 2440 	or	a, a
   10A9 20 05         [12] 2441 	jr	NZ,00131$
   10AB 2E 06         [ 7] 2442 	ld	l,#0x06
   10AD C3r4Fr12      [10] 2443 	jp	00137$
   10B0                    2444 00131$:
                           2445 ;pff.c:808: fs->fs_type = fmt;
   10B0 DD 7E B2      [19] 2446 	ld	a,-78 (ix)
   10B3 02            [ 7] 2447 	ld	(bc),a
                           2448 ;pff.c:811: fs->dirbase = LD_DWORD(buf+(BPB_RootClus-13));	/* Root directory start cluster */
   10B4 21 0E 00      [10] 2449 	ld	hl,#0x000E
   10B7 09            [11] 2450 	add	hl,bc
   10B8 DD 75 EB      [19] 2451 	ld	-21 (ix),l
   10BB DD 74 EC      [19] 2452 	ld	-20 (ix),h
                           2453 ;pff.c:810: if (_FS_32ONLY || (_FS_FAT32 && fmt == FS_FAT32))
   10BE DD 7E B2      [19] 2454 	ld	a,-78 (ix)
   10C1 D6 03         [ 7] 2455 	sub	a, #0x03
   10C3 C2r9Br11      [10] 2456 	jp	NZ,00133$
                           2457 ;pff.c:811: fs->dirbase = LD_DWORD(buf+(BPB_RootClus-13));	/* Root directory start cluster */
   10C6 DD 5E FE      [19] 2458 	ld	e,-2 (ix)
   10C9 DD 56 FF      [19] 2459 	ld	d,-1 (ix)
   10CC D5            [11] 2460 	push	de
   10CD FD E1         [14] 2461 	pop	iy
   10CF DD 6E FE      [19] 2462 	ld	l,-2 (ix)
   10D2 DD 66 FF      [19] 2463 	ld	h,-1 (ix)
   10D5 11 22 00      [10] 2464 	ld	de, #0x0022
   10D8 19            [11] 2465 	add	hl, de
   10D9 6E            [ 7] 2466 	ld	l,(hl)
   10DA 26 00         [ 7] 2467 	ld	h,#0x00
   10DC 11 00 00      [10] 2468 	ld	de,#0x0000
   10DF F5            [11] 2469 	push	af
   10E0 DD 75 E7      [19] 2470 	ld	-25 (ix),l
   10E3 DD 74 E8      [19] 2471 	ld	-24 (ix),h
   10E6 DD 73 E9      [19] 2472 	ld	-23 (ix),e
   10E9 DD 72 EA      [19] 2473 	ld	-22 (ix),d
   10EC F1            [10] 2474 	pop	af
   10ED 3E 18         [ 7] 2475 	ld	a,#0x18
   10EF                    2476 00214$:
   10EF DD CB E7 26   [23] 2477 	sla	-25 (ix)
   10F3 DD CB E8 16   [23] 2478 	rl	-24 (ix)
   10F7 DD CB E9 16   [23] 2479 	rl	-23 (ix)
   10FB DD CB EA 16   [23] 2480 	rl	-22 (ix)
   10FF 3D            [ 4] 2481 	dec	a
   1100 20 ED         [12] 2482 	jr	NZ,00214$
   1102 DD 6E FE      [19] 2483 	ld	l,-2 (ix)
   1105 DD 66 FF      [19] 2484 	ld	h,-1 (ix)
   1108 11 21 00      [10] 2485 	ld	de, #0x0021
   110B 19            [11] 2486 	add	hl, de
   110C 6E            [ 7] 2487 	ld	l,(hl)
   110D 26 00         [ 7] 2488 	ld	h,#0x00
   110F 11 00 00      [10] 2489 	ld	de,#0x0000
   1112 3E 10         [ 7] 2490 	ld	a,#0x10
   1114                    2491 00216$:
   1114 29            [11] 2492 	add	hl, hl
   1115 CB 13         [ 8] 2493 	rl	e
   1117 CB 12         [ 8] 2494 	rl	d
   1119 3D            [ 4] 2495 	dec	a
   111A 20 F8         [12] 2496 	jr	NZ,00216$
   111C DD 7E E7      [19] 2497 	ld	a,-25 (ix)
   111F B5            [ 4] 2498 	or	a, l
   1120 DD 77 E7      [19] 2499 	ld	-25 (ix),a
   1123 DD 7E E8      [19] 2500 	ld	a,-24 (ix)
   1126 B4            [ 4] 2501 	or	a, h
   1127 DD 77 E8      [19] 2502 	ld	-24 (ix),a
   112A DD 7E E9      [19] 2503 	ld	a,-23 (ix)
   112D B3            [ 4] 2504 	or	a, e
   112E DD 77 E9      [19] 2505 	ld	-23 (ix),a
   1131 DD 7E EA      [19] 2506 	ld	a,-22 (ix)
   1134 B2            [ 4] 2507 	or	a, d
   1135 DD 77 EA      [19] 2508 	ld	-22 (ix),a
   1138 DD 6E FE      [19] 2509 	ld	l,-2 (ix)
   113B DD 66 FF      [19] 2510 	ld	h,-1 (ix)
   113E 11 20 00      [10] 2511 	ld	de, #0x0020
   1141 19            [11] 2512 	add	hl, de
   1142 66            [ 7] 2513 	ld	h, (hl)
   1143 2E 00         [ 7] 2514 	ld	l,#0x00
   1145 11 00 00      [10] 2515 	ld	de,#0x0000
   1148 DD 7E E7      [19] 2516 	ld	a,-25 (ix)
   114B B5            [ 4] 2517 	or	a, l
   114C DD 77 E7      [19] 2518 	ld	-25 (ix),a
   114F DD 7E E8      [19] 2519 	ld	a,-24 (ix)
   1152 B4            [ 4] 2520 	or	a, h
   1153 DD 77 E8      [19] 2521 	ld	-24 (ix),a
   1156 DD 7E E9      [19] 2522 	ld	a,-23 (ix)
   1159 B2            [ 4] 2523 	or	a, d
   115A DD 77 E9      [19] 2524 	ld	-23 (ix),a
   115D DD 7E EA      [19] 2525 	ld	a,-22 (ix)
   1160 B3            [ 4] 2526 	or	a, e
   1161 DD 77 EA      [19] 2527 	ld	-22 (ix),a
   1164 FD 6E 1F      [19] 2528 	ld	l,31 (iy)
   1167 26 00         [ 7] 2529 	ld	h,#0x00
   1169 11 00 00      [10] 2530 	ld	de,#0x0000
   116C DD 7E E7      [19] 2531 	ld	a,-25 (ix)
   116F B5            [ 4] 2532 	or	a, l
   1170 DD 77 E7      [19] 2533 	ld	-25 (ix),a
   1173 DD 7E E8      [19] 2534 	ld	a,-24 (ix)
   1176 B4            [ 4] 2535 	or	a, h
   1177 DD 77 E8      [19] 2536 	ld	-24 (ix),a
   117A DD 7E E9      [19] 2537 	ld	a,-23 (ix)
   117D B2            [ 4] 2538 	or	a, d
   117E DD 77 E9      [19] 2539 	ld	-23 (ix),a
   1181 DD 7E EA      [19] 2540 	ld	a,-22 (ix)
   1184 B3            [ 4] 2541 	or	a, e
   1185 DD 77 EA      [19] 2542 	ld	-22 (ix),a
   1188 C5            [11] 2543 	push	bc
   1189 DD 5E EB      [19] 2544 	ld	e,-21 (ix)
   118C DD 56 EC      [19] 2545 	ld	d,-20 (ix)
   118F 21 37 00      [10] 2546 	ld	hl, #0x0037
   1192 39            [11] 2547 	add	hl, sp
   1193 01 04 00      [10] 2548 	ld	bc, #0x0004
   1196 ED B0         [21] 2549 	ldir
   1198 C1            [10] 2550 	pop	bc
   1199 18 3C         [12] 2551 	jr	00134$
   119B                    2552 00133$:
                           2553 ;pff.c:813: fs->dirbase = fs->fatbase + fsize;				/* Root directory start sector (lba) */
   119B DD 6E EF      [19] 2554 	ld	l,-17 (ix)
   119E DD 66 F0      [19] 2555 	ld	h,-16 (ix)
   11A1 56            [ 7] 2556 	ld	d,(hl)
   11A2 23            [ 6] 2557 	inc	hl
   11A3 5E            [ 7] 2558 	ld	e,(hl)
   11A4 23            [ 6] 2559 	inc	hl
   11A5 23            [ 6] 2560 	inc	hl
   11A6 7E            [ 7] 2561 	ld	a,(hl)
   11A7 2B            [ 6] 2562 	dec	hl
   11A8 66            [ 7] 2563 	ld	h,(hl)
   11A9 6F            [ 4] 2564 	ld	l,a
   11AA 7A            [ 4] 2565 	ld	a,d
   11AB DD 86 B3      [19] 2566 	add	a, -77 (ix)
   11AE DD 77 E7      [19] 2567 	ld	-25 (ix),a
   11B1 7B            [ 4] 2568 	ld	a,e
   11B2 DD 8E B4      [19] 2569 	adc	a, -76 (ix)
   11B5 DD 77 E8      [19] 2570 	ld	-24 (ix),a
   11B8 7C            [ 4] 2571 	ld	a,h
   11B9 DD 8E B5      [19] 2572 	adc	a, -75 (ix)
   11BC DD 77 E9      [19] 2573 	ld	-23 (ix),a
   11BF 7D            [ 4] 2574 	ld	a,l
   11C0 DD 8E B6      [19] 2575 	adc	a, -74 (ix)
   11C3 DD 77 EA      [19] 2576 	ld	-22 (ix),a
   11C6 C5            [11] 2577 	push	bc
   11C7 DD 5E EB      [19] 2578 	ld	e,-21 (ix)
   11CA DD 56 EC      [19] 2579 	ld	d,-20 (ix)
   11CD 21 37 00      [10] 2580 	ld	hl, #0x0037
   11D0 39            [11] 2581 	add	hl, sp
   11D1 01 04 00      [10] 2582 	ld	bc, #0x0004
   11D4 ED B0         [21] 2583 	ldir
   11D6 C1            [10] 2584 	pop	bc
   11D7                    2585 00134$:
                           2586 ;pff.c:814: fs->database = fs->fatbase + fsize + fs->n_rootdir / 16;	/* Data start sector (lba) */
   11D7 FD 21 12 00   [14] 2587 	ld	iy,#0x0012
   11DB FD 09         [15] 2588 	add	iy, bc
   11DD DD 6E EF      [19] 2589 	ld	l,-17 (ix)
   11E0 DD 66 F0      [19] 2590 	ld	h,-16 (ix)
   11E3 56            [ 7] 2591 	ld	d,(hl)
   11E4 23            [ 6] 2592 	inc	hl
   11E5 5E            [ 7] 2593 	ld	e,(hl)
   11E6 23            [ 6] 2594 	inc	hl
   11E7 23            [ 6] 2595 	inc	hl
   11E8 7E            [ 7] 2596 	ld	a,(hl)
   11E9 2B            [ 6] 2597 	dec	hl
   11EA 6E            [ 7] 2598 	ld	l,(hl)
   11EB 67            [ 4] 2599 	ld	h,a
   11EC 7A            [ 4] 2600 	ld	a,d
   11ED DD 86 B3      [19] 2601 	add	a, -77 (ix)
   11F0 DD 77 EB      [19] 2602 	ld	-21 (ix),a
   11F3 7B            [ 4] 2603 	ld	a,e
   11F4 DD 8E B4      [19] 2604 	adc	a, -76 (ix)
   11F7 DD 77 EC      [19] 2605 	ld	-20 (ix),a
   11FA 7D            [ 4] 2606 	ld	a,l
   11FB DD 8E B5      [19] 2607 	adc	a, -75 (ix)
   11FE DD 77 ED      [19] 2608 	ld	-19 (ix),a
   1201 7C            [ 4] 2609 	ld	a,h
   1202 DD 8E B6      [19] 2610 	adc	a, -74 (ix)
   1205 DD 77 EE      [19] 2611 	ld	-18 (ix),a
   1208 DD 6E F5      [19] 2612 	ld	l,-11 (ix)
   120B DD 66 F6      [19] 2613 	ld	h,-10 (ix)
   120E 5E            [ 7] 2614 	ld	e,(hl)
   120F 23            [ 6] 2615 	inc	hl
   1210 56            [ 7] 2616 	ld	d,(hl)
   1211 CB 3A         [ 8] 2617 	srl	d
   1213 CB 1B         [ 8] 2618 	rr	e
   1215 CB 3A         [ 8] 2619 	srl	d
   1217 CB 1B         [ 8] 2620 	rr	e
   1219 CB 3A         [ 8] 2621 	srl	d
   121B CB 1B         [ 8] 2622 	rr	e
   121D CB 3A         [ 8] 2623 	srl	d
   121F CB 1B         [ 8] 2624 	rr	e
   1221 21 00 00      [10] 2625 	ld	hl,#0x0000
   1224 DD 7E EB      [19] 2626 	ld	a,-21 (ix)
   1227 83            [ 4] 2627 	add	a, e
   1228 5F            [ 4] 2628 	ld	e,a
   1229 DD 7E EC      [19] 2629 	ld	a,-20 (ix)
   122C 8A            [ 4] 2630 	adc	a, d
   122D 57            [ 4] 2631 	ld	d,a
   122E DD 7E ED      [19] 2632 	ld	a,-19 (ix)
   1231 8D            [ 4] 2633 	adc	a, l
   1232 6F            [ 4] 2634 	ld	l,a
   1233 DD 7E EE      [19] 2635 	ld	a,-18 (ix)
   1236 8C            [ 4] 2636 	adc	a, h
   1237 67            [ 4] 2637 	ld	h,a
   1238 FD 73 00      [19] 2638 	ld	0 (iy),e
   123B FD 72 01      [19] 2639 	ld	1 (iy),d
   123E FD 75 02      [19] 2640 	ld	2 (iy),l
   1241 FD 74 03      [19] 2641 	ld	3 (iy),h
                           2642 ;pff.c:816: fs->flag = 0;
   1244 69            [ 4] 2643 	ld	l, c
   1245 60            [ 4] 2644 	ld	h, b
   1246 23            [ 6] 2645 	inc	hl
   1247 36 00         [10] 2646 	ld	(hl),#0x00
                           2647 ;pff.c:817: FatFs = fs;
   1249 ED 43r00r00   [20] 2648 	ld	(_FatFs),bc
                           2649 ;pff.c:819: return FR_OK;
   124D 2E 00         [ 7] 2650 	ld	l,#0x00
   124F                    2651 00137$:
   124F DD F9         [10] 2652 	ld	sp, ix
   1251 DD E1         [14] 2653 	pop	ix
   1253 C9            [10] 2654 	ret
                           2655 ;pff.c:829: FRESULT pf_open (
                           2656 ;	---------------------------------
                           2657 ; Function pf_open
                           2658 ; ---------------------------------
   1254                    2659 _pf_open::
   1254 DD E5         [15] 2660 	push	ix
   1256 DD 21 00 00   [14] 2661 	ld	ix,#0
   125A DD 39         [15] 2662 	add	ix,sp
   125C 21 B6 FF      [10] 2663 	ld	hl,#-74
   125F 39            [11] 2664 	add	hl,sp
   1260 F9            [ 6] 2665 	ld	sp,hl
                           2666 ;pff.c:836: FATFS *fs = FatFs;
   1261 ED 4Br00r00   [20] 2667 	ld	bc,(_FatFs)
                           2668 ;pff.c:839: if (!fs) return FR_NOT_ENABLED;		/* Check file system */
   1265 78            [ 4] 2669 	ld	a,b
   1266 B1            [ 4] 2670 	or	a,c
   1267 20 05         [12] 2671 	jr	NZ,00102$
   1269 2E 05         [ 7] 2672 	ld	l,#0x05
   126B C3r09r14      [10] 2673 	jp	00108$
   126E                    2674 00102$:
                           2675 ;pff.c:841: fs->flag = 0;
   126E 21 01 00      [10] 2676 	ld	hl,#0x0001
   1271 09            [11] 2677 	add	hl,bc
   1272 DD 75 FC      [19] 2678 	ld	-4 (ix),l
   1275 DD 74 FD      [19] 2679 	ld	-3 (ix),h
   1278 DD 6E FC      [19] 2680 	ld	l,-4 (ix)
   127B DD 66 FD      [19] 2681 	ld	h,-3 (ix)
   127E 36 00         [10] 2682 	ld	(hl),#0x00
                           2683 ;pff.c:842: dj.fn = sp;
   1280 21 00 00      [10] 2684 	ld	hl,#0x0000
   1283 39            [11] 2685 	add	hl,sp
   1284 EB            [ 4] 2686 	ex	de,hl
   1285 21 02 00      [10] 2687 	ld	hl,#0x0002
   1288 19            [11] 2688 	add	hl,de
   1289 DD 75 FE      [19] 2689 	ld	-2 (ix),l
   128C DD 74 FF      [19] 2690 	ld	-1 (ix),h
   128F 21 30 00      [10] 2691 	ld	hl,#0x0030
   1292 39            [11] 2692 	add	hl,sp
   1293 DD 75 FA      [19] 2693 	ld	-6 (ix),l
   1296 DD 74 FB      [19] 2694 	ld	-5 (ix),h
   1299 DD 6E FE      [19] 2695 	ld	l,-2 (ix)
   129C DD 66 FF      [19] 2696 	ld	h,-1 (ix)
   129F DD 7E FA      [19] 2697 	ld	a,-6 (ix)
   12A2 77            [ 7] 2698 	ld	(hl),a
   12A3 23            [ 6] 2699 	inc	hl
   12A4 DD 7E FB      [19] 2700 	ld	a,-5 (ix)
   12A7 77            [ 7] 2701 	ld	(hl),a
                           2702 ;pff.c:843: res = follow_path(&dj, dir, path);	/* Follow the file path */
   12A8 21 10 00      [10] 2703 	ld	hl,#0x0010
   12AB 39            [11] 2704 	add	hl,sp
   12AC DD 75 FA      [19] 2705 	ld	-6 (ix),l
   12AF DD 74 FB      [19] 2706 	ld	-5 (ix),h
   12B2 DD 6E FA      [19] 2707 	ld	l,-6 (ix)
   12B5 DD 66 FB      [19] 2708 	ld	h,-5 (ix)
   12B8 D5            [11] 2709 	push	de
   12B9 FD E1         [14] 2710 	pop	iy
   12BB C5            [11] 2711 	push	bc
   12BC DD 5E 04      [19] 2712 	ld	e,4 (ix)
   12BF DD 56 05      [19] 2713 	ld	d,5 (ix)
   12C2 D5            [11] 2714 	push	de
   12C3 E5            [11] 2715 	push	hl
   12C4 FD E5         [15] 2716 	push	iy
   12C6 CDr4Ar08      [17] 2717 	call	_follow_path
   12C9 F1            [10] 2718 	pop	af
   12CA F1            [10] 2719 	pop	af
   12CB F1            [10] 2720 	pop	af
   12CC 7D            [ 4] 2721 	ld	a,l
   12CD C1            [10] 2722 	pop	bc
   12CE 6F            [ 4] 2723 	ld	l,a
                           2724 ;pff.c:844: if (res != FR_OK) return res;		/* Follow failed */
   12CF B7            [ 4] 2725 	or	a, a
   12D0 C2r09r14      [10] 2726 	jp	NZ,00108$
                           2727 ;pff.c:845: if (!dir[0] || (dir[DIR_Attr] & AM_DIR))	/* It is a directory */
   12D3 DD 6E FA      [19] 2728 	ld	l,-6 (ix)
   12D6 DD 66 FB      [19] 2729 	ld	h,-5 (ix)
   12D9 7E            [ 7] 2730 	ld	a,(hl)
   12DA B7            [ 4] 2731 	or	a, a
   12DB 28 0E         [12] 2732 	jr	Z,00105$
   12DD DD 6E FA      [19] 2733 	ld	l,-6 (ix)
   12E0 DD 66 FB      [19] 2734 	ld	h,-5 (ix)
   12E3 11 0B 00      [10] 2735 	ld	de, #0x000B
   12E6 19            [11] 2736 	add	hl, de
   12E7 CB 66         [12] 2737 	bit	4,(hl)
   12E9 28 05         [12] 2738 	jr	Z,00106$
   12EB                    2739 00105$:
                           2740 ;pff.c:846: return FR_NO_FILE;
   12EB 2E 03         [ 7] 2741 	ld	l,#0x03
   12ED C3r09r14      [10] 2742 	jp	00108$
   12F0                    2743 00106$:
                           2744 ;pff.c:848: fs->org_clust = get_clust(dir);		/* File start cluster */
   12F0 21 1E 00      [10] 2745 	ld	hl,#0x001E
   12F3 09            [11] 2746 	add	hl,bc
   12F4 DD 5E FA      [19] 2747 	ld	e,-6 (ix)
   12F7 DD 56 FB      [19] 2748 	ld	d,-5 (ix)
   12FA E5            [11] 2749 	push	hl
   12FB C5            [11] 2750 	push	bc
   12FC D5            [11] 2751 	push	de
   12FD CDr63r03      [17] 2752 	call	_get_clust
   1300 F1            [10] 2753 	pop	af
   1301 DD 72 F9      [19] 2754 	ld	-7 (ix),d
   1304 DD 73 F8      [19] 2755 	ld	-8 (ix),e
   1307 DD 74 F7      [19] 2756 	ld	-9 (ix),h
   130A DD 75 F6      [19] 2757 	ld	-10 (ix),l
   130D C1            [10] 2758 	pop	bc
   130E E1            [10] 2759 	pop	hl
   130F C5            [11] 2760 	push	bc
   1310 EB            [ 4] 2761 	ex	de,hl
   1311 21 42 00      [10] 2762 	ld	hl, #0x0042
   1314 39            [11] 2763 	add	hl, sp
   1315 01 04 00      [10] 2764 	ld	bc, #0x0004
   1318 ED B0         [21] 2765 	ldir
   131A C1            [10] 2766 	pop	bc
                           2767 ;pff.c:849: fs->fsize = LD_DWORD(dir+DIR_FileSize);	/* File size */
   131B FD 21 1A 00   [14] 2768 	ld	iy,#0x001A
   131F FD 09         [15] 2769 	add	iy, bc
   1321 DD 7E FA      [19] 2770 	ld	a,-6 (ix)
   1324 DD 77 F6      [19] 2771 	ld	-10 (ix),a
   1327 DD 7E FB      [19] 2772 	ld	a,-5 (ix)
   132A DD 77 F7      [19] 2773 	ld	-9 (ix),a
   132D DD 6E FA      [19] 2774 	ld	l,-6 (ix)
   1330 DD 66 FB      [19] 2775 	ld	h,-5 (ix)
   1333 11 1F 00      [10] 2776 	ld	de, #0x001F
   1336 19            [11] 2777 	add	hl, de
   1337 6E            [ 7] 2778 	ld	l,(hl)
   1338 26 00         [ 7] 2779 	ld	h,#0x00
   133A 11 00 00      [10] 2780 	ld	de,#0x0000
   133D F5            [11] 2781 	push	af
   133E DD 75 F2      [19] 2782 	ld	-14 (ix),l
   1341 DD 74 F3      [19] 2783 	ld	-13 (ix),h
   1344 DD 72 F4      [19] 2784 	ld	-12 (ix),d
   1347 DD 73 F5      [19] 2785 	ld	-11 (ix),e
   134A F1            [10] 2786 	pop	af
   134B 3E 18         [ 7] 2787 	ld	a,#0x18
   134D                    2788 00123$:
   134D DD CB F2 26   [23] 2789 	sla	-14 (ix)
   1351 DD CB F3 16   [23] 2790 	rl	-13 (ix)
   1355 DD CB F4 16   [23] 2791 	rl	-12 (ix)
   1359 DD CB F5 16   [23] 2792 	rl	-11 (ix)
   135D 3D            [ 4] 2793 	dec	a
   135E 20 ED         [12] 2794 	jr	NZ,00123$
   1360 DD 6E FA      [19] 2795 	ld	l,-6 (ix)
   1363 DD 66 FB      [19] 2796 	ld	h,-5 (ix)
   1366 11 1E 00      [10] 2797 	ld	de, #0x001E
   1369 19            [11] 2798 	add	hl, de
   136A 6E            [ 7] 2799 	ld	l,(hl)
   136B 26 00         [ 7] 2800 	ld	h,#0x00
   136D 11 00 00      [10] 2801 	ld	de,#0x0000
   1370 3E 10         [ 7] 2802 	ld	a,#0x10
   1372                    2803 00125$:
   1372 29            [11] 2804 	add	hl, hl
   1373 CB 13         [ 8] 2805 	rl	e
   1375 CB 12         [ 8] 2806 	rl	d
   1377 3D            [ 4] 2807 	dec	a
   1378 20 F8         [12] 2808 	jr	NZ,00125$
   137A DD 7E F2      [19] 2809 	ld	a,-14 (ix)
   137D B5            [ 4] 2810 	or	a, l
   137E DD 77 F2      [19] 2811 	ld	-14 (ix),a
   1381 DD 7E F3      [19] 2812 	ld	a,-13 (ix)
   1384 B4            [ 4] 2813 	or	a, h
   1385 DD 77 F3      [19] 2814 	ld	-13 (ix),a
   1388 DD 7E F4      [19] 2815 	ld	a,-12 (ix)
   138B B3            [ 4] 2816 	or	a, e
   138C DD 77 F4      [19] 2817 	ld	-12 (ix),a
   138F DD 7E F5      [19] 2818 	ld	a,-11 (ix)
   1392 B2            [ 4] 2819 	or	a, d
   1393 DD 77 F5      [19] 2820 	ld	-11 (ix),a
   1396 DD 6E FA      [19] 2821 	ld	l,-6 (ix)
   1399 DD 66 FB      [19] 2822 	ld	h,-5 (ix)
   139C 11 1D 00      [10] 2823 	ld	de, #0x001D
   139F 19            [11] 2824 	add	hl, de
   13A0 66            [ 7] 2825 	ld	h, (hl)
   13A1 2E 00         [ 7] 2826 	ld	l,#0x00
   13A3 11 00 00      [10] 2827 	ld	de,#0x0000
   13A6 DD 7E F2      [19] 2828 	ld	a,-14 (ix)
   13A9 B5            [ 4] 2829 	or	a, l
   13AA DD 77 F2      [19] 2830 	ld	-14 (ix),a
   13AD DD 7E F3      [19] 2831 	ld	a,-13 (ix)
   13B0 B4            [ 4] 2832 	or	a, h
   13B1 DD 77 F3      [19] 2833 	ld	-13 (ix),a
   13B4 DD 7E F4      [19] 2834 	ld	a,-12 (ix)
   13B7 B3            [ 4] 2835 	or	a, e
   13B8 DD 77 F4      [19] 2836 	ld	-12 (ix),a
   13BB DD 7E F5      [19] 2837 	ld	a,-11 (ix)
   13BE B2            [ 4] 2838 	or	a, d
   13BF DD 77 F5      [19] 2839 	ld	-11 (ix),a
   13C2 DD 6E F6      [19] 2840 	ld	l,-10 (ix)
   13C5 DD 66 F7      [19] 2841 	ld	h,-9 (ix)
   13C8 11 1C 00      [10] 2842 	ld	de, #0x001C
   13CB 19            [11] 2843 	add	hl, de
   13CC 6E            [ 7] 2844 	ld	l,(hl)
   13CD 26 00         [ 7] 2845 	ld	h,#0x00
   13CF 11 00 00      [10] 2846 	ld	de,#0x0000
   13D2 7D            [ 4] 2847 	ld	a,l
   13D3 DD B6 F2      [19] 2848 	or	a, -14 (ix)
   13D6 6F            [ 4] 2849 	ld	l,a
   13D7 7C            [ 4] 2850 	ld	a,h
   13D8 DD B6 F3      [19] 2851 	or	a, -13 (ix)
   13DB 67            [ 4] 2852 	ld	h,a
   13DC 7B            [ 4] 2853 	ld	a,e
   13DD DD B6 F4      [19] 2854 	or	a, -12 (ix)
   13E0 5F            [ 4] 2855 	ld	e,a
   13E1 7A            [ 4] 2856 	ld	a,d
   13E2 DD B6 F5      [19] 2857 	or	a, -11 (ix)
   13E5 57            [ 4] 2858 	ld	d,a
   13E6 FD 75 00      [19] 2859 	ld	0 (iy),l
   13E9 FD 74 01      [19] 2860 	ld	1 (iy),h
   13EC FD 73 02      [19] 2861 	ld	2 (iy),e
   13EF FD 72 03      [19] 2862 	ld	3 (iy),d
                           2863 ;pff.c:850: fs->fptr = 0;						/* File pointer */
   13F2 21 16 00      [10] 2864 	ld	hl,#0x0016
   13F5 09            [11] 2865 	add	hl,bc
   13F6 AF            [ 4] 2866 	xor	a, a
   13F7 77            [ 7] 2867 	ld	(hl), a
   13F8 23            [ 6] 2868 	inc	hl
   13F9 77            [ 7] 2869 	ld	(hl), a
   13FA 23            [ 6] 2870 	inc	hl
   13FB AF            [ 4] 2871 	xor	a, a
   13FC 77            [ 7] 2872 	ld	(hl), a
   13FD 23            [ 6] 2873 	inc	hl
   13FE 77            [ 7] 2874 	ld	(hl), a
                           2875 ;pff.c:851: fs->flag = FA_OPENED;
   13FF DD 6E FC      [19] 2876 	ld	l,-4 (ix)
   1402 DD 66 FD      [19] 2877 	ld	h,-3 (ix)
   1405 36 01         [10] 2878 	ld	(hl),#0x01
                           2879 ;pff.c:853: return FR_OK;
   1407 2E 00         [ 7] 2880 	ld	l,#0x00
   1409                    2881 00108$:
   1409 DD F9         [10] 2882 	ld	sp, ix
   140B DD E1         [14] 2883 	pop	ix
   140D C9            [10] 2884 	ret
                           2885 ;pff.c:864: FRESULT pf_read (
                           2886 ;	---------------------------------
                           2887 ; Function pf_read
                           2888 ; ---------------------------------
   140E                    2889 _pf_read::
   140E DD E5         [15] 2890 	push	ix
   1410 DD 21 00 00   [14] 2891 	ld	ix,#0
   1414 DD 39         [15] 2892 	add	ix,sp
   1416 21 E6 FF      [10] 2893 	ld	hl,#-26
   1419 39            [11] 2894 	add	hl,sp
   141A F9            [ 6] 2895 	ld	sp,hl
                           2896 ;pff.c:874: BYTE cs, *rbuff = buff;
   141B DD 7E 04      [19] 2897 	ld	a,4 (ix)
   141E DD 77 E6      [19] 2898 	ld	-26 (ix),a
   1421 DD 7E 05      [19] 2899 	ld	a,5 (ix)
   1424 DD 77 E7      [19] 2900 	ld	-25 (ix),a
                           2901 ;pff.c:875: FATFS *fs = FatFs;
   1427 ED 4Br00r00   [20] 2902 	ld	bc,(_FatFs)
                           2903 ;pff.c:878: *br = 0;
   142B DD 7E 08      [19] 2904 	ld	a,8 (ix)
   142E DD 77 EC      [19] 2905 	ld	-20 (ix),a
   1431 DD 7E 09      [19] 2906 	ld	a,9 (ix)
   1434 DD 77 ED      [19] 2907 	ld	-19 (ix),a
   1437 DD 6E EC      [19] 2908 	ld	l,-20 (ix)
   143A DD 66 ED      [19] 2909 	ld	h,-19 (ix)
   143D AF            [ 4] 2910 	xor	a, a
   143E 77            [ 7] 2911 	ld	(hl), a
   143F 23            [ 6] 2912 	inc	hl
   1440 77            [ 7] 2913 	ld	(hl), a
                           2914 ;pff.c:879: if (!fs) return FR_NOT_ENABLED;		/* Check file system */
   1441 78            [ 4] 2915 	ld	a,b
   1442 B1            [ 4] 2916 	or	a,c
   1443 20 05         [12] 2917 	jr	NZ,00102$
   1445 2E 05         [ 7] 2918 	ld	l,#0x05
   1447 C3r39r17      [10] 2919 	jp	00125$
   144A                    2920 00102$:
                           2921 ;pff.c:880: if (!(fs->flag & FA_OPENED))		/* Check if opened */
   144A 21 01 00      [10] 2922 	ld	hl,#0x0001
   144D 09            [11] 2923 	add	hl,bc
   144E DD 75 F8      [19] 2924 	ld	-8 (ix),l
   1451 DD 74 F9      [19] 2925 	ld	-7 (ix),h
   1454 DD 6E F8      [19] 2926 	ld	l,-8 (ix)
   1457 DD 66 F9      [19] 2927 	ld	h,-7 (ix)
   145A 7E            [ 7] 2928 	ld	a,(hl)
   145B 0F            [ 4] 2929 	rrca
   145C 38 05         [12] 2930 	jr	C,00104$
                           2931 ;pff.c:881: return FR_NOT_OPENED;
   145E 2E 04         [ 7] 2932 	ld	l,#0x04
   1460 C3r39r17      [10] 2933 	jp	00125$
   1463                    2934 00104$:
                           2935 ;pff.c:883: remain = fs->fsize - fs->fptr;
   1463 C5            [11] 2936 	push	bc
   1464 FD E1         [14] 2937 	pop	iy
   1466 FD 7E 1A      [19] 2938 	ld	a,26 (iy)
   1469 DD 77 E8      [19] 2939 	ld	-24 (ix),a
   146C FD 7E 1B      [19] 2940 	ld	a,27 (iy)
   146F DD 77 E9      [19] 2941 	ld	-23 (ix),a
   1472 FD 7E 1C      [19] 2942 	ld	a,28 (iy)
   1475 DD 77 EA      [19] 2943 	ld	-22 (ix),a
   1478 FD 7E 1D      [19] 2944 	ld	a,29 (iy)
   147B DD 77 EB      [19] 2945 	ld	-21 (ix),a
   147E 21 16 00      [10] 2946 	ld	hl,#0x0016
   1481 09            [11] 2947 	add	hl,bc
   1482 DD 75 F2      [19] 2948 	ld	-14 (ix),l
   1485 DD 74 F3      [19] 2949 	ld	-13 (ix),h
   1488 DD 6E F2      [19] 2950 	ld	l,-14 (ix)
   148B DD 66 F3      [19] 2951 	ld	h,-13 (ix)
   148E 5E            [ 7] 2952 	ld	e,(hl)
   148F 23            [ 6] 2953 	inc	hl
   1490 56            [ 7] 2954 	ld	d,(hl)
   1491 23            [ 6] 2955 	inc	hl
   1492 23            [ 6] 2956 	inc	hl
   1493 7E            [ 7] 2957 	ld	a,(hl)
   1494 2B            [ 6] 2958 	dec	hl
   1495 6E            [ 7] 2959 	ld	l,(hl)
   1496 67            [ 4] 2960 	ld	h,a
   1497 DD 7E E8      [19] 2961 	ld	a,-24 (ix)
   149A 93            [ 4] 2962 	sub	a, e
   149B 5F            [ 4] 2963 	ld	e,a
   149C DD 7E E9      [19] 2964 	ld	a,-23 (ix)
   149F 9A            [ 4] 2965 	sbc	a, d
   14A0 57            [ 4] 2966 	ld	d,a
   14A1 DD 7E EA      [19] 2967 	ld	a,-22 (ix)
   14A4 9D            [ 4] 2968 	sbc	a, l
   14A5 6F            [ 4] 2969 	ld	l,a
   14A6 DD 7E EB      [19] 2970 	ld	a,-21 (ix)
   14A9 9C            [ 4] 2971 	sbc	a, h
   14AA 67            [ 4] 2972 	ld	h,a
                           2973 ;pff.c:884: if (btr > remain) btr = (UINT)remain;			/* Truncate btr by remaining bytes */
   14AB DD 7E 06      [19] 2974 	ld	a,6 (ix)
   14AE DD 77 E8      [19] 2975 	ld	-24 (ix),a
   14B1 DD 7E 07      [19] 2976 	ld	a,7 (ix)
   14B4 DD 77 E9      [19] 2977 	ld	-23 (ix),a
   14B7 DD 36 EA 00   [19] 2978 	ld	-22 (ix),#0x00
   14BB DD 36 EB 00   [19] 2979 	ld	-21 (ix),#0x00
   14BF 7B            [ 4] 2980 	ld	a,e
   14C0 DD 96 E8      [19] 2981 	sub	a, -24 (ix)
   14C3 7A            [ 4] 2982 	ld	a,d
   14C4 DD 9E E9      [19] 2983 	sbc	a, -23 (ix)
   14C7 7D            [ 4] 2984 	ld	a,l
   14C8 DD 9E EA      [19] 2985 	sbc	a, -22 (ix)
   14CB 7C            [ 4] 2986 	ld	a,h
   14CC DD 9E EB      [19] 2987 	sbc	a, -21 (ix)
   14CF 30 06         [12] 2988 	jr	NC,00141$
   14D1 DD 73 06      [19] 2989 	ld	6 (ix),e
   14D4 DD 72 07      [19] 2990 	ld	7 (ix),d
                           2991 ;pff.c:886: while (btr)	{									/* Repeat until all data transferred */
   14D7                    2992 00141$:
   14D7 21 22 00      [10] 2993 	ld	hl,#0x0022
   14DA 09            [11] 2994 	add	hl,bc
   14DB DD 75 E8      [19] 2995 	ld	-24 (ix),l
   14DE DD 74 E9      [19] 2996 	ld	-23 (ix),h
   14E1 DD 71 F6      [19] 2997 	ld	-10 (ix),c
   14E4 DD 70 F7      [19] 2998 	ld	-9 (ix),b
   14E7 DD 71 F4      [19] 2999 	ld	-12 (ix),c
   14EA DD 70 F5      [19] 3000 	ld	-11 (ix),b
   14ED 21 26 00      [10] 3001 	ld	hl,#0x0026
   14F0 09            [11] 3002 	add	hl,bc
   14F1 DD 75 FA      [19] 3003 	ld	-6 (ix),l
   14F4 DD 74 FB      [19] 3004 	ld	-5 (ix),h
   14F7                    3005 00122$:
   14F7 DD 7E 07      [19] 3006 	ld	a,7 (ix)
   14FA DD B6 06      [19] 3007 	or	a,6 (ix)
   14FD CAr37r17      [10] 3008 	jp	Z,00124$
                           3009 ;pff.c:887: if ((fs->fptr % 512) == 0) {				/* On the sector boundary? */
   1500 DD 6E F2      [19] 3010 	ld	l,-14 (ix)
   1503 DD 66 F3      [19] 3011 	ld	h,-13 (ix)
   1506 4E            [ 7] 3012 	ld	c,(hl)
   1507 23            [ 6] 3013 	inc	hl
   1508 46            [ 7] 3014 	ld	b,(hl)
   1509 23            [ 6] 3015 	inc	hl
   150A 5E            [ 7] 3016 	ld	e,(hl)
   150B 23            [ 6] 3017 	inc	hl
   150C 56            [ 7] 3018 	ld	d,(hl)
   150D 79            [ 4] 3019 	ld	a,c
   150E B7            [ 4] 3020 	or	a, a
   150F C2r42r16      [10] 3021 	jp	NZ,00117$
   1512 CB 40         [ 8] 3022 	bit	0, b
   1514 C2r42r16      [10] 3023 	jp	NZ,00117$
                           3024 ;pff.c:888: cs = (BYTE)(fs->fptr / 512 & (fs->csize - 1));	/* Sector offset in the cluster */
   1517 F5            [11] 3025 	push	af
   1518 DD 71 EE      [19] 3026 	ld	-18 (ix),c
   151B DD 70 EF      [19] 3027 	ld	-17 (ix),b
   151E DD 73 F0      [19] 3028 	ld	-16 (ix),e
   1521 DD 72 F1      [19] 3029 	ld	-15 (ix),d
   1524 F1            [10] 3030 	pop	af
   1525 3E 09         [ 7] 3031 	ld	a,#0x09
   1527                    3032 00185$:
   1527 DD CB F1 3E   [23] 3033 	srl	-15 (ix)
   152B DD CB F0 1E   [23] 3034 	rr	-16 (ix)
   152F DD CB EF 1E   [23] 3035 	rr	-17 (ix)
   1533 DD CB EE 1E   [23] 3036 	rr	-18 (ix)
   1537 3D            [ 4] 3037 	dec	a
   1538 20 ED         [12] 3038 	jr	NZ,00185$
   153A DD 6E F4      [19] 3039 	ld	l,-12 (ix)
   153D DD 66 F5      [19] 3040 	ld	h,-11 (ix)
   1540 23            [ 6] 3041 	inc	hl
   1541 23            [ 6] 3042 	inc	hl
   1542 66            [ 7] 3043 	ld	h,(hl)
   1543 25            [ 4] 3044 	dec	h
   1544 DD 74 FC      [19] 3045 	ld	-4 (ix),h
   1547 DD 36 FD 00   [19] 3046 	ld	-3 (ix),#0x00
   154B DD 36 FE 00   [19] 3047 	ld	-2 (ix),#0x00
   154F DD 36 FF 00   [19] 3048 	ld	-1 (ix),#0x00
   1553 DD 7E FC      [19] 3049 	ld	a,-4 (ix)
   1556 DD A6 EE      [19] 3050 	and	a, -18 (ix)
   1559 DD 77 FC      [19] 3051 	ld	-4 (ix),a
   155C DD 7E FD      [19] 3052 	ld	a,-3 (ix)
   155F DD A6 EF      [19] 3053 	and	a, -17 (ix)
   1562 DD 77 FD      [19] 3054 	ld	-3 (ix),a
   1565 DD 7E FE      [19] 3055 	ld	a,-2 (ix)
   1568 DD A6 F0      [19] 3056 	and	a, -16 (ix)
   156B DD 77 FE      [19] 3057 	ld	-2 (ix),a
   156E DD 7E FF      [19] 3058 	ld	a,-1 (ix)
   1571 DD A6 F1      [19] 3059 	and	a, -15 (ix)
   1574 DD 77 FF      [19] 3060 	ld	-1 (ix),a
   1577 DD 7E FC      [19] 3061 	ld	a,-4 (ix)
   157A DD 77 FC      [19] 3062 	ld	-4 (ix),a
                           3063 ;pff.c:889: if (!cs) {								/* On the cluster boundary? */
   157D B7            [ 4] 3064 	or	a, a
   157E 20 66         [12] 3065 	jr	NZ,00113$
                           3066 ;pff.c:890: if (fs->fptr == 0)					/* On the top of the file? */
   1580 7A            [ 4] 3067 	ld	a,d
   1581 B3            [ 4] 3068 	or	a, e
   1582 B0            [ 4] 3069 	or	a, b
   1583 B1            [ 4] 3070 	or	a,c
   1584 20 13         [12] 3071 	jr	NZ,00108$
                           3072 ;pff.c:891: clst = fs->org_clust;
   1586 DD 6E F6      [19] 3073 	ld	l,-10 (ix)
   1589 DD 66 F7      [19] 3074 	ld	h,-9 (ix)
   158C 11 1E 00      [10] 3075 	ld	de, #0x001E
   158F 19            [11] 3076 	add	hl, de
   1590 4E            [ 7] 3077 	ld	c,(hl)
   1591 23            [ 6] 3078 	inc	hl
   1592 46            [ 7] 3079 	ld	b,(hl)
   1593 23            [ 6] 3080 	inc	hl
   1594 5E            [ 7] 3081 	ld	e,(hl)
   1595 23            [ 6] 3082 	inc	hl
   1596 56            [ 7] 3083 	ld	d,(hl)
   1597 18 25         [12] 3084 	jr	00109$
   1599                    3085 00108$:
                           3086 ;pff.c:893: clst = get_fat(fs->curr_clust);
   1599 DD 5E E8      [19] 3087 	ld	e,-24 (ix)
   159C DD 56 E9      [19] 3088 	ld	d,-23 (ix)
   159F 21 08 00      [10] 3089 	ld	hl, #0x0008
   15A2 39            [11] 3090 	add	hl, sp
   15A3 EB            [ 4] 3091 	ex	de, hl
   15A4 01 04 00      [10] 3092 	ld	bc, #0x0004
   15A7 ED B0         [21] 3093 	ldir
   15A9 DD 6E F0      [19] 3094 	ld	l,-16 (ix)
   15AC DD 66 F1      [19] 3095 	ld	h,-15 (ix)
   15AF E5            [11] 3096 	push	hl
   15B0 DD 6E EE      [19] 3097 	ld	l,-18 (ix)
   15B3 DD 66 EF      [19] 3098 	ld	h,-17 (ix)
   15B6 E5            [11] 3099 	push	hl
   15B7 CDr8Ar00      [17] 3100 	call	_get_fat
   15BA F1            [10] 3101 	pop	af
   15BB F1            [10] 3102 	pop	af
   15BC 4D            [ 4] 3103 	ld	c,l
   15BD 44            [ 4] 3104 	ld	b,h
   15BE                    3105 00109$:
                           3106 ;pff.c:894: if (clst <= 1) ABORT(FR_DISK_ERR);
   15BE 3E 01         [ 7] 3107 	ld	a,#0x01
   15C0 B9            [ 4] 3108 	cp	a, c
   15C1 3E 00         [ 7] 3109 	ld	a,#0x00
   15C3 98            [ 4] 3110 	sbc	a, b
   15C4 3E 00         [ 7] 3111 	ld	a,#0x00
   15C6 9B            [ 4] 3112 	sbc	a, e
   15C7 3E 00         [ 7] 3113 	ld	a,#0x00
   15C9 9A            [ 4] 3114 	sbc	a, d
   15CA 38 0D         [12] 3115 	jr	C,00111$
   15CC DD 6E F8      [19] 3116 	ld	l,-8 (ix)
   15CF DD 66 F9      [19] 3117 	ld	h,-7 (ix)
   15D2 36 00         [10] 3118 	ld	(hl),#0x00
   15D4 2E 01         [ 7] 3119 	ld	l,#0x01
   15D6 C3r39r17      [10] 3120 	jp	00125$
   15D9                    3121 00111$:
                           3122 ;pff.c:895: fs->curr_clust = clst;				/* Update current cluster */
   15D9 DD 6E E8      [19] 3123 	ld	l,-24 (ix)
   15DC DD 66 E9      [19] 3124 	ld	h,-23 (ix)
   15DF 71            [ 7] 3125 	ld	(hl),c
   15E0 23            [ 6] 3126 	inc	hl
   15E1 70            [ 7] 3127 	ld	(hl),b
   15E2 23            [ 6] 3128 	inc	hl
   15E3 73            [ 7] 3129 	ld	(hl),e
   15E4 23            [ 6] 3130 	inc	hl
   15E5 72            [ 7] 3131 	ld	(hl),d
   15E6                    3132 00113$:
                           3133 ;pff.c:897: sect = clust2sect(fs->curr_clust);		/* Get current sector */
   15E6 DD 6E E8      [19] 3134 	ld	l,-24 (ix)
   15E9 DD 66 E9      [19] 3135 	ld	h,-23 (ix)
   15EC 5E            [ 7] 3136 	ld	e,(hl)
   15ED 23            [ 6] 3137 	inc	hl
   15EE 56            [ 7] 3138 	ld	d,(hl)
   15EF 23            [ 6] 3139 	inc	hl
   15F0 4E            [ 7] 3140 	ld	c,(hl)
   15F1 23            [ 6] 3141 	inc	hl
   15F2 46            [ 7] 3142 	ld	b,(hl)
   15F3 C5            [11] 3143 	push	bc
   15F4 D5            [11] 3144 	push	de
   15F5 CDrAAr02      [17] 3145 	call	_clust2sect
   15F8 F1            [10] 3146 	pop	af
   15F9 F1            [10] 3147 	pop	af
   15FA DD 75 EE      [19] 3148 	ld	-18 (ix),l
   15FD DD 74 EF      [19] 3149 	ld	-17 (ix),h
   1600 DD 73 F0      [19] 3150 	ld	-16 (ix),e
   1603 DD 72 F1      [19] 3151 	ld	-15 (ix),d
                           3152 ;pff.c:898: if (!sect) ABORT(FR_DISK_ERR);
   1606 7A            [ 4] 3153 	ld	a,d
   1607 B3            [ 4] 3154 	or	a, e
   1608 B4            [ 4] 3155 	or	a, h
   1609 B5            [ 4] 3156 	or	a,l
   160A 20 0D         [12] 3157 	jr	NZ,00115$
   160C DD 6E F8      [19] 3158 	ld	l,-8 (ix)
   160F DD 66 F9      [19] 3159 	ld	h,-7 (ix)
   1612 36 00         [10] 3160 	ld	(hl),#0x00
   1614 2E 01         [ 7] 3161 	ld	l,#0x01
   1616 C3r39r17      [10] 3162 	jp	00125$
   1619                    3163 00115$:
                           3164 ;pff.c:899: fs->dsect = sect + cs;
   1619 DD 5E FC      [19] 3165 	ld	e,-4 (ix)
   161C 16 00         [ 7] 3166 	ld	d,#0x00
   161E 21 00 00      [10] 3167 	ld	hl,#0x0000
   1621 DD 7E EE      [19] 3168 	ld	a,-18 (ix)
   1624 83            [ 4] 3169 	add	a, e
   1625 5F            [ 4] 3170 	ld	e,a
   1626 DD 7E EF      [19] 3171 	ld	a,-17 (ix)
   1629 8A            [ 4] 3172 	adc	a, d
   162A 57            [ 4] 3173 	ld	d,a
   162B DD 7E F0      [19] 3174 	ld	a,-16 (ix)
   162E 8D            [ 4] 3175 	adc	a, l
   162F 47            [ 4] 3176 	ld	b,a
   1630 DD 7E F1      [19] 3177 	ld	a,-15 (ix)
   1633 8C            [ 4] 3178 	adc	a, h
   1634 4F            [ 4] 3179 	ld	c,a
   1635 DD 6E FA      [19] 3180 	ld	l,-6 (ix)
   1638 DD 66 FB      [19] 3181 	ld	h,-5 (ix)
   163B 73            [ 7] 3182 	ld	(hl),e
   163C 23            [ 6] 3183 	inc	hl
   163D 72            [ 7] 3184 	ld	(hl),d
   163E 23            [ 6] 3185 	inc	hl
   163F 70            [ 7] 3186 	ld	(hl),b
   1640 23            [ 6] 3187 	inc	hl
   1641 71            [ 7] 3188 	ld	(hl),c
   1642                    3189 00117$:
                           3190 ;pff.c:883: remain = fs->fsize - fs->fptr;
   1642 DD 6E F2      [19] 3191 	ld	l,-14 (ix)
   1645 DD 66 F3      [19] 3192 	ld	h,-13 (ix)
   1648 4E            [ 7] 3193 	ld	c,(hl)
   1649 23            [ 6] 3194 	inc	hl
   164A 46            [ 7] 3195 	ld	b,(hl)
   164B 23            [ 6] 3196 	inc	hl
   164C 56            [ 7] 3197 	ld	d,(hl)
   164D 23            [ 6] 3198 	inc	hl
   164E 66            [ 7] 3199 	ld	h,(hl)
                           3200 ;pff.c:901: rcnt = 512 - (UINT)fs->fptr % 512;			/* Get partial sector data from sector buffer */
   164F 78            [ 4] 3201 	ld	a,b
   1650 E6 01         [ 7] 3202 	and	a, #0x01
   1652 47            [ 4] 3203 	ld	b,a
   1653 AF            [ 4] 3204 	xor	a, a
   1654 91            [ 4] 3205 	sub	a, c
   1655 5F            [ 4] 3206 	ld	e,a
   1656 3E 02         [ 7] 3207 	ld	a,#0x02
   1658 98            [ 4] 3208 	sbc	a, b
   1659 57            [ 4] 3209 	ld	d,a
                           3210 ;pff.c:902: if (rcnt > btr) rcnt = btr;
   165A DD 7E 06      [19] 3211 	ld	a,6 (ix)
   165D 93            [ 4] 3212 	sub	a, e
   165E DD 7E 07      [19] 3213 	ld	a,7 (ix)
   1661 9A            [ 4] 3214 	sbc	a, d
   1662 30 06         [12] 3215 	jr	NC,00119$
   1664 DD 5E 06      [19] 3216 	ld	e,6 (ix)
   1667 DD 56 07      [19] 3217 	ld	d,7 (ix)
   166A                    3218 00119$:
                           3219 ;pff.c:903: dr = disk_readp(!buff ? 0 : rbuff, fs->dsect, (UINT)fs->fptr % 512, rcnt);
   166A D5            [11] 3220 	push	de
   166B C5            [11] 3221 	push	bc
   166C DD 5E FA      [19] 3222 	ld	e,-6 (ix)
   166F DD 56 FB      [19] 3223 	ld	d,-5 (ix)
   1672 21 1A 00      [10] 3224 	ld	hl, #0x001A
   1675 39            [11] 3225 	add	hl, sp
   1676 EB            [ 4] 3226 	ex	de, hl
   1677 01 04 00      [10] 3227 	ld	bc, #0x0004
   167A ED B0         [21] 3228 	ldir
   167C C1            [10] 3229 	pop	bc
   167D D1            [10] 3230 	pop	de
   167E DD 7E 05      [19] 3231 	ld	a,5 (ix)
   1681 DD B6 04      [19] 3232 	or	a,4 (ix)
   1684 20 06         [12] 3233 	jr	NZ,00127$
   1686 FD 21 00 00   [14] 3234 	ld	iy,#0x0000
   168A 18 04         [12] 3235 	jr	00128$
   168C                    3236 00127$:
   168C FD E1         [14] 3237 	pop	iy
   168E FD E5         [15] 3238 	push	iy
   1690                    3239 00128$:
   1690 D5            [11] 3240 	push	de
   1691 D5            [11] 3241 	push	de
   1692 C5            [11] 3242 	push	bc
   1693 DD 6E FE      [19] 3243 	ld	l,-2 (ix)
   1696 DD 66 FF      [19] 3244 	ld	h,-1 (ix)
   1699 E5            [11] 3245 	push	hl
   169A DD 6E FC      [19] 3246 	ld	l,-4 (ix)
   169D DD 66 FD      [19] 3247 	ld	h,-3 (ix)
   16A0 E5            [11] 3248 	push	hl
   16A1 FD E5         [15] 3249 	push	iy
   16A3 CDr00r00      [17] 3250 	call	_disk_readp
   16A6 FD 21 0A 00   [14] 3251 	ld	iy,#10
   16AA FD 39         [15] 3252 	add	iy,sp
   16AC FD F9         [10] 3253 	ld	sp,iy
   16AE 7D            [ 4] 3254 	ld	a,l
   16AF D1            [10] 3255 	pop	de
                           3256 ;pff.c:904: if (dr) ABORT(FR_DISK_ERR);
   16B0 B7            [ 4] 3257 	or	a, a
   16B1 28 0C         [12] 3258 	jr	Z,00121$
   16B3 DD 6E F8      [19] 3259 	ld	l,-8 (ix)
   16B6 DD 66 F9      [19] 3260 	ld	h,-7 (ix)
   16B9 36 00         [10] 3261 	ld	(hl),#0x00
   16BB 2E 01         [ 7] 3262 	ld	l,#0x01
   16BD 18 7A         [12] 3263 	jr	00125$
   16BF                    3264 00121$:
                           3265 ;pff.c:905: fs->fptr += rcnt; rbuff += rcnt;			/* Update pointers and counters */
   16BF D5            [11] 3266 	push	de
   16C0 DD 5E F2      [19] 3267 	ld	e,-14 (ix)
   16C3 DD 56 F3      [19] 3268 	ld	d,-13 (ix)
   16C6 21 18 00      [10] 3269 	ld	hl, #0x0018
   16C9 39            [11] 3270 	add	hl, sp
   16CA EB            [ 4] 3271 	ex	de, hl
   16CB 01 04 00      [10] 3272 	ld	bc, #0x0004
   16CE ED B0         [21] 3273 	ldir
   16D0 D1            [10] 3274 	pop	de
   16D1 63            [ 4] 3275 	ld	h,e
   16D2 6A            [ 4] 3276 	ld	l,d
   16D3 01 00 00      [10] 3277 	ld	bc,#0x0000
   16D6 DD 7E FC      [19] 3278 	ld	a,-4 (ix)
   16D9 84            [ 4] 3279 	add	a, h
   16DA DD 77 FC      [19] 3280 	ld	-4 (ix),a
   16DD DD 7E FD      [19] 3281 	ld	a,-3 (ix)
   16E0 8D            [ 4] 3282 	adc	a, l
   16E1 DD 77 FD      [19] 3283 	ld	-3 (ix),a
   16E4 DD 7E FE      [19] 3284 	ld	a,-2 (ix)
   16E7 88            [ 4] 3285 	adc	a, b
   16E8 DD 77 FE      [19] 3286 	ld	-2 (ix),a
   16EB DD 7E FF      [19] 3287 	ld	a,-1 (ix)
   16EE 89            [ 4] 3288 	adc	a, c
   16EF DD 77 FF      [19] 3289 	ld	-1 (ix),a
   16F2 D5            [11] 3290 	push	de
   16F3 DD 5E F2      [19] 3291 	ld	e,-14 (ix)
   16F6 DD 56 F3      [19] 3292 	ld	d,-13 (ix)
   16F9 21 18 00      [10] 3293 	ld	hl, #0x0018
   16FC 39            [11] 3294 	add	hl, sp
   16FD 01 04 00      [10] 3295 	ld	bc, #0x0004
   1700 ED B0         [21] 3296 	ldir
   1702 D1            [10] 3297 	pop	de
   1703 DD 7E E6      [19] 3298 	ld	a,-26 (ix)
   1706 83            [ 4] 3299 	add	a, e
   1707 DD 77 E6      [19] 3300 	ld	-26 (ix),a
   170A DD 7E E7      [19] 3301 	ld	a,-25 (ix)
   170D 8A            [ 4] 3302 	adc	a, d
   170E DD 77 E7      [19] 3303 	ld	-25 (ix),a
                           3304 ;pff.c:906: btr -= rcnt; *br += rcnt;
   1711 DD 7E 06      [19] 3305 	ld	a,6 (ix)
   1714 93            [ 4] 3306 	sub	a, e
   1715 DD 77 06      [19] 3307 	ld	6 (ix),a
   1718 DD 7E 07      [19] 3308 	ld	a,7 (ix)
   171B 9A            [ 4] 3309 	sbc	a, d
   171C DD 77 07      [19] 3310 	ld	7 (ix),a
   171F DD 6E EC      [19] 3311 	ld	l,-20 (ix)
   1722 DD 66 ED      [19] 3312 	ld	h,-19 (ix)
   1725 7E            [ 7] 3313 	ld	a, (hl)
   1726 23            [ 6] 3314 	inc	hl
   1727 66            [ 7] 3315 	ld	h,(hl)
   1728 6F            [ 4] 3316 	ld	l,a
   1729 19            [11] 3317 	add	hl,de
   172A EB            [ 4] 3318 	ex	de,hl
   172B DD 6E EC      [19] 3319 	ld	l,-20 (ix)
   172E DD 66 ED      [19] 3320 	ld	h,-19 (ix)
   1731 73            [ 7] 3321 	ld	(hl),e
   1732 23            [ 6] 3322 	inc	hl
   1733 72            [ 7] 3323 	ld	(hl),d
   1734 C3rF7r14      [10] 3324 	jp	00122$
   1737                    3325 00124$:
                           3326 ;pff.c:909: return FR_OK;
   1737 2E 00         [ 7] 3327 	ld	l,#0x00
   1739                    3328 00125$:
   1739 DD F9         [10] 3329 	ld	sp, ix
   173B DD E1         [14] 3330 	pop	ix
   173D C9            [10] 3331 	ret
                           3332 ;pff.c:989: FRESULT pf_lseek (
                           3333 ;	---------------------------------
                           3334 ; Function pf_lseek
                           3335 ; ---------------------------------
   173E                    3336 _pf_lseek::
   173E DD E5         [15] 3337 	push	ix
   1740 DD 21 00 00   [14] 3338 	ld	ix,#0
   1744 DD 39         [15] 3339 	add	ix,sp
   1746 21 E2 FF      [10] 3340 	ld	hl,#-30
   1749 39            [11] 3341 	add	hl,sp
   174A F9            [ 6] 3342 	ld	sp,hl
                           3343 ;pff.c:995: FATFS *fs = FatFs;
   174B ED 4Br00r00   [20] 3344 	ld	bc,(_FatFs)
                           3345 ;pff.c:998: if (!fs) return FR_NOT_ENABLED;		/* Check file system */
   174F 78            [ 4] 3346 	ld	a,b
   1750 B1            [ 4] 3347 	or	a,c
   1751 20 05         [12] 3348 	jr	NZ,00102$
   1753 2E 05         [ 7] 3349 	ld	l,#0x05
   1755 C3rB2r1B      [10] 3350 	jp	00121$
   1758                    3351 00102$:
                           3352 ;pff.c:999: if (!(fs->flag & FA_OPENED))		/* Check if opened */
   1758 21 01 00      [10] 3353 	ld	hl,#0x0001
   175B 09            [11] 3354 	add	hl,bc
   175C DD 75 F8      [19] 3355 	ld	-8 (ix),l
   175F DD 74 F9      [19] 3356 	ld	-7 (ix),h
   1762 DD 6E F8      [19] 3357 	ld	l,-8 (ix)
   1765 DD 66 F9      [19] 3358 	ld	h,-7 (ix)
   1768 7E            [ 7] 3359 	ld	a,(hl)
   1769 0F            [ 4] 3360 	rrca
   176A 38 05         [12] 3361 	jr	C,00104$
                           3362 ;pff.c:1000: return FR_NOT_OPENED;
   176C 2E 04         [ 7] 3363 	ld	l,#0x04
   176E C3rB2r1B      [10] 3364 	jp	00121$
   1771                    3365 00104$:
                           3366 ;pff.c:1002: if (ofs > fs->fsize) ofs = fs->fsize;	/* Clip offset with the file size */
   1771 C5            [11] 3367 	push	bc
   1772 FD E1         [14] 3368 	pop	iy
   1774 FD 7E 1A      [19] 3369 	ld	a,26 (iy)
   1777 DD 77 F2      [19] 3370 	ld	-14 (ix),a
   177A FD 7E 1B      [19] 3371 	ld	a,27 (iy)
   177D DD 77 F3      [19] 3372 	ld	-13 (ix),a
   1780 FD 7E 1C      [19] 3373 	ld	a,28 (iy)
   1783 DD 77 F4      [19] 3374 	ld	-12 (ix),a
   1786 FD 7E 1D      [19] 3375 	ld	a,29 (iy)
   1789 DD 77 F5      [19] 3376 	ld	-11 (ix),a
   178C DD 7E F2      [19] 3377 	ld	a,-14 (ix)
   178F DD 96 04      [19] 3378 	sub	a, 4 (ix)
   1792 DD 7E F3      [19] 3379 	ld	a,-13 (ix)
   1795 DD 9E 05      [19] 3380 	sbc	a, 5 (ix)
   1798 DD 7E F4      [19] 3381 	ld	a,-12 (ix)
   179B DD 9E 06      [19] 3382 	sbc	a, 6 (ix)
   179E DD 7E F5      [19] 3383 	ld	a,-11 (ix)
   17A1 DD 9E 07      [19] 3384 	sbc	a, 7 (ix)
   17A4 30 18         [12] 3385 	jr	NC,00106$
   17A6 DD 7E F2      [19] 3386 	ld	a,-14 (ix)
   17A9 DD 77 04      [19] 3387 	ld	4 (ix),a
   17AC DD 7E F3      [19] 3388 	ld	a,-13 (ix)
   17AF DD 77 05      [19] 3389 	ld	5 (ix),a
   17B2 DD 7E F4      [19] 3390 	ld	a,-12 (ix)
   17B5 DD 77 06      [19] 3391 	ld	6 (ix),a
   17B8 DD 7E F5      [19] 3392 	ld	a,-11 (ix)
   17BB DD 77 07      [19] 3393 	ld	7 (ix),a
   17BE                    3394 00106$:
                           3395 ;pff.c:1003: ifptr = fs->fptr;
   17BE 21 16 00      [10] 3396 	ld	hl,#0x0016
   17C1 09            [11] 3397 	add	hl,bc
   17C2 DD 75 F2      [19] 3398 	ld	-14 (ix),l
   17C5 DD 74 F3      [19] 3399 	ld	-13 (ix),h
   17C8 C5            [11] 3400 	push	bc
   17C9 DD 5E F2      [19] 3401 	ld	e,-14 (ix)
   17CC DD 56 F3      [19] 3402 	ld	d,-13 (ix)
   17CF 21 0A 00      [10] 3403 	ld	hl, #0x000A
   17D2 39            [11] 3404 	add	hl, sp
   17D3 EB            [ 4] 3405 	ex	de, hl
   17D4 01 04 00      [10] 3406 	ld	bc, #0x0004
   17D7 ED B0         [21] 3407 	ldir
   17D9 C1            [10] 3408 	pop	bc
                           3409 ;pff.c:1004: fs->fptr = 0;
   17DA DD 6E F2      [19] 3410 	ld	l,-14 (ix)
   17DD DD 66 F3      [19] 3411 	ld	h,-13 (ix)
   17E0 AF            [ 4] 3412 	xor	a, a
   17E1 77            [ 7] 3413 	ld	(hl), a
   17E2 23            [ 6] 3414 	inc	hl
   17E3 77            [ 7] 3415 	ld	(hl), a
   17E4 23            [ 6] 3416 	inc	hl
   17E5 AF            [ 4] 3417 	xor	a, a
   17E6 77            [ 7] 3418 	ld	(hl), a
   17E7 23            [ 6] 3419 	inc	hl
   17E8 77            [ 7] 3420 	ld	(hl), a
                           3421 ;pff.c:1005: if (ofs > 0) {
   17E9 DD 7E 07      [19] 3422 	ld	a,7 (ix)
   17EC DD B6 06      [19] 3423 	or	a, 6 (ix)
   17EF DD B6 05      [19] 3424 	or	a, 5 (ix)
   17F2 DD B6 04      [19] 3425 	or	a,4 (ix)
   17F5 CArB0r1B      [10] 3426 	jp	Z,00120$
                           3427 ;pff.c:1006: bcs = (DWORD)fs->csize * 512;	/* Cluster size (byte) */
   17F8 21 02 00      [10] 3428 	ld	hl,#0x0002
   17FB 09            [11] 3429 	add	hl,bc
   17FC DD 75 FA      [19] 3430 	ld	-6 (ix),l
   17FF DD 74 FB      [19] 3431 	ld	-5 (ix),h
   1802 DD 6E FA      [19] 3432 	ld	l,-6 (ix)
   1805 DD 66 FB      [19] 3433 	ld	h,-5 (ix)
   1808 6E            [ 7] 3434 	ld	l,(hl)
   1809 26 00         [ 7] 3435 	ld	h,#0x00
   180B 11 00 00      [10] 3436 	ld	de,#0x0000
   180E F5            [11] 3437 	push	af
   180F DD 75 E2      [19] 3438 	ld	-30 (ix),l
   1812 DD 74 E3      [19] 3439 	ld	-29 (ix),h
   1815 DD 73 E4      [19] 3440 	ld	-28 (ix),e
   1818 DD 72 E5      [19] 3441 	ld	-27 (ix),d
   181B F1            [10] 3442 	pop	af
   181C 3E 09         [ 7] 3443 	ld	a,#0x09
   181E                    3444 00165$:
   181E DD CB E2 26   [23] 3445 	sla	-30 (ix)
   1822 DD CB E3 16   [23] 3446 	rl	-29 (ix)
   1826 DD CB E4 16   [23] 3447 	rl	-28 (ix)
   182A DD CB E5 16   [23] 3448 	rl	-27 (ix)
   182E 3D            [ 4] 3449 	dec	a
   182F 20 ED         [12] 3450 	jr	NZ,00165$
                           3451 ;pff.c:1011: clst = fs->curr_clust;
   1831 21 22 00      [10] 3452 	ld	hl,#0x0022
   1834 09            [11] 3453 	add	hl,bc
   1835 DD 75 F6      [19] 3454 	ld	-10 (ix),l
   1838 DD 74 F7      [19] 3455 	ld	-9 (ix),h
                           3456 ;pff.c:1007: if (ifptr > 0 &&
   183B DD 7E ED      [19] 3457 	ld	a,-19 (ix)
   183E DD B6 EC      [19] 3458 	or	a, -20 (ix)
   1841 DD B6 EB      [19] 3459 	or	a, -21 (ix)
   1844 DD B6 EA      [19] 3460 	or	a,-22 (ix)
   1847 CAr9Cr19      [10] 3461 	jp	Z,00108$
                           3462 ;pff.c:1008: (ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
   184A DD 7E 04      [19] 3463 	ld	a,4 (ix)
   184D C6 FF         [ 7] 3464 	add	a,#0xFF
   184F DD 77 EE      [19] 3465 	ld	-18 (ix),a
   1852 DD 7E 05      [19] 3466 	ld	a,5 (ix)
   1855 CE FF         [ 7] 3467 	adc	a,#0xFF
   1857 DD 77 EF      [19] 3468 	ld	-17 (ix),a
   185A DD 7E 06      [19] 3469 	ld	a,6 (ix)
   185D CE FF         [ 7] 3470 	adc	a,#0xFF
   185F DD 77 F0      [19] 3471 	ld	-16 (ix),a
   1862 DD 7E 07      [19] 3472 	ld	a,7 (ix)
   1865 CE FF         [ 7] 3473 	adc	a,#0xFF
   1867 DD 77 F1      [19] 3474 	ld	-15 (ix),a
   186A C5            [11] 3475 	push	bc
   186B DD 6E E4      [19] 3476 	ld	l,-28 (ix)
   186E DD 66 E5      [19] 3477 	ld	h,-27 (ix)
   1871 E5            [11] 3478 	push	hl
   1872 DD 6E E2      [19] 3479 	ld	l,-30 (ix)
   1875 DD 66 E3      [19] 3480 	ld	h,-29 (ix)
   1878 E5            [11] 3481 	push	hl
   1879 DD 6E F0      [19] 3482 	ld	l,-16 (ix)
   187C DD 66 F1      [19] 3483 	ld	h,-15 (ix)
   187F E5            [11] 3484 	push	hl
   1880 DD 6E EE      [19] 3485 	ld	l,-18 (ix)
   1883 DD 66 EF      [19] 3486 	ld	h,-17 (ix)
   1886 E5            [11] 3487 	push	hl
   1887 CDr00r00      [17] 3488 	call	__divulong
   188A F1            [10] 3489 	pop	af
   188B F1            [10] 3490 	pop	af
   188C F1            [10] 3491 	pop	af
   188D F1            [10] 3492 	pop	af
   188E DD 72 F1      [19] 3493 	ld	-15 (ix),d
   1891 DD 73 F0      [19] 3494 	ld	-16 (ix),e
   1894 DD 74 EF      [19] 3495 	ld	-17 (ix),h
   1897 DD 75 EE      [19] 3496 	ld	-18 (ix),l
   189A C1            [10] 3497 	pop	bc
   189B DD 7E EA      [19] 3498 	ld	a,-22 (ix)
   189E C6 FF         [ 7] 3499 	add	a,#0xFF
   18A0 DD 77 FC      [19] 3500 	ld	-4 (ix),a
   18A3 DD 7E EB      [19] 3501 	ld	a,-21 (ix)
   18A6 CE FF         [ 7] 3502 	adc	a,#0xFF
   18A8 DD 77 FD      [19] 3503 	ld	-3 (ix),a
   18AB DD 7E EC      [19] 3504 	ld	a,-20 (ix)
   18AE CE FF         [ 7] 3505 	adc	a,#0xFF
   18B0 DD 77 FE      [19] 3506 	ld	-2 (ix),a
   18B3 DD 7E ED      [19] 3507 	ld	a,-19 (ix)
   18B6 CE FF         [ 7] 3508 	adc	a,#0xFF
   18B8 DD 77 FF      [19] 3509 	ld	-1 (ix),a
   18BB C5            [11] 3510 	push	bc
   18BC DD 6E E4      [19] 3511 	ld	l,-28 (ix)
   18BF DD 66 E5      [19] 3512 	ld	h,-27 (ix)
   18C2 E5            [11] 3513 	push	hl
   18C3 DD 6E E2      [19] 3514 	ld	l,-30 (ix)
   18C6 DD 66 E3      [19] 3515 	ld	h,-29 (ix)
   18C9 E5            [11] 3516 	push	hl
   18CA DD 6E FE      [19] 3517 	ld	l,-2 (ix)
   18CD DD 66 FF      [19] 3518 	ld	h,-1 (ix)
   18D0 E5            [11] 3519 	push	hl
   18D1 DD 6E FC      [19] 3520 	ld	l,-4 (ix)
   18D4 DD 66 FD      [19] 3521 	ld	h,-3 (ix)
   18D7 E5            [11] 3522 	push	hl
   18D8 CDr00r00      [17] 3523 	call	__divulong
   18DB F1            [10] 3524 	pop	af
   18DC F1            [10] 3525 	pop	af
   18DD F1            [10] 3526 	pop	af
   18DE F1            [10] 3527 	pop	af
   18DF C1            [10] 3528 	pop	bc
   18E0 DD 7E EE      [19] 3529 	ld	a,-18 (ix)
   18E3 95            [ 4] 3530 	sub	a, l
   18E4 DD 7E EF      [19] 3531 	ld	a,-17 (ix)
   18E7 9C            [ 4] 3532 	sbc	a, h
   18E8 DD 7E F0      [19] 3533 	ld	a,-16 (ix)
   18EB 9B            [ 4] 3534 	sbc	a, e
   18EC DD 7E F1      [19] 3535 	ld	a,-15 (ix)
   18EF 9A            [ 4] 3536 	sbc	a, d
   18F0 DAr9Cr19      [10] 3537 	jp	C,00108$
                           3538 ;pff.c:1009: fs->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
   18F3 DD 7E E2      [19] 3539 	ld	a,-30 (ix)
   18F6 C6 FF         [ 7] 3540 	add	a,#0xFF
   18F8 DD 77 EE      [19] 3541 	ld	-18 (ix),a
   18FB DD 7E E3      [19] 3542 	ld	a,-29 (ix)
   18FE CE FF         [ 7] 3543 	adc	a,#0xFF
   1900 DD 77 EF      [19] 3544 	ld	-17 (ix),a
   1903 DD 7E E4      [19] 3545 	ld	a,-28 (ix)
   1906 CE FF         [ 7] 3546 	adc	a,#0xFF
   1908 DD 77 F0      [19] 3547 	ld	-16 (ix),a
   190B DD 7E E5      [19] 3548 	ld	a,-27 (ix)
   190E CE FF         [ 7] 3549 	adc	a,#0xFF
   1910 DD 77 F1      [19] 3550 	ld	-15 (ix),a
   1913 DD 7E EE      [19] 3551 	ld	a,-18 (ix)
   1916 2F            [ 4] 3552 	cpl
   1917 DD 77 EE      [19] 3553 	ld	-18 (ix),a
   191A DD 7E EF      [19] 3554 	ld	a,-17 (ix)
   191D 2F            [ 4] 3555 	cpl
   191E DD 77 EF      [19] 3556 	ld	-17 (ix),a
   1921 DD 7E F0      [19] 3557 	ld	a,-16 (ix)
   1924 2F            [ 4] 3558 	cpl
   1925 DD 77 F0      [19] 3559 	ld	-16 (ix),a
   1928 DD 7E F1      [19] 3560 	ld	a,-15 (ix)
   192B 2F            [ 4] 3561 	cpl
   192C DD 77 F1      [19] 3562 	ld	-15 (ix),a
   192F DD 7E FC      [19] 3563 	ld	a,-4 (ix)
   1932 DD A6 EE      [19] 3564 	and	a, -18 (ix)
   1935 DD 77 FC      [19] 3565 	ld	-4 (ix),a
   1938 DD 7E FD      [19] 3566 	ld	a,-3 (ix)
   193B DD A6 EF      [19] 3567 	and	a, -17 (ix)
   193E DD 77 FD      [19] 3568 	ld	-3 (ix),a
   1941 DD 7E FE      [19] 3569 	ld	a,-2 (ix)
   1944 DD A6 F0      [19] 3570 	and	a, -16 (ix)
   1947 DD 77 FE      [19] 3571 	ld	-2 (ix),a
   194A DD 7E FF      [19] 3572 	ld	a,-1 (ix)
   194D DD A6 F1      [19] 3573 	and	a, -15 (ix)
   1950 DD 77 FF      [19] 3574 	ld	-1 (ix),a
   1953 C5            [11] 3575 	push	bc
   1954 DD 5E F2      [19] 3576 	ld	e,-14 (ix)
   1957 DD 56 F3      [19] 3577 	ld	d,-13 (ix)
   195A 21 1C 00      [10] 3578 	ld	hl, #0x001C
   195D 39            [11] 3579 	add	hl, sp
   195E 01 04 00      [10] 3580 	ld	bc, #0x0004
   1961 ED B0         [21] 3581 	ldir
   1963 C1            [10] 3582 	pop	bc
                           3583 ;pff.c:1010: ofs -= fs->fptr;
   1964 DD 7E 04      [19] 3584 	ld	a,4 (ix)
   1967 DD 96 FC      [19] 3585 	sub	a, -4 (ix)
   196A DD 77 04      [19] 3586 	ld	4 (ix),a
   196D DD 7E 05      [19] 3587 	ld	a,5 (ix)
   1970 DD 9E FD      [19] 3588 	sbc	a, -3 (ix)
   1973 DD 77 05      [19] 3589 	ld	5 (ix),a
   1976 DD 7E 06      [19] 3590 	ld	a,6 (ix)
   1979 DD 9E FE      [19] 3591 	sbc	a, -2 (ix)
   197C DD 77 06      [19] 3592 	ld	6 (ix),a
   197F DD 7E 07      [19] 3593 	ld	a,7 (ix)
   1982 DD 9E FF      [19] 3594 	sbc	a, -1 (ix)
   1985 DD 77 07      [19] 3595 	ld	7 (ix),a
                           3596 ;pff.c:1011: clst = fs->curr_clust;
   1988 C5            [11] 3597 	push	bc
   1989 DD 5E F6      [19] 3598 	ld	e,-10 (ix)
   198C DD 56 F7      [19] 3599 	ld	d,-9 (ix)
   198F 21 06 00      [10] 3600 	ld	hl, #0x0006
   1992 39            [11] 3601 	add	hl, sp
   1993 EB            [ 4] 3602 	ex	de, hl
   1994 01 04 00      [10] 3603 	ld	bc, #0x0004
   1997 ED B0         [21] 3604 	ldir
   1999 C1            [10] 3605 	pop	bc
   199A 18 2C         [12] 3606 	jr	00131$
   199C                    3607 00108$:
                           3608 ;pff.c:1013: clst = fs->org_clust;			/* start from the first cluster */
   199C C5            [11] 3609 	push	bc
   199D FD E1         [14] 3610 	pop	iy
   199F FD 7E 1E      [19] 3611 	ld	a,30 (iy)
   19A2 DD 77 E6      [19] 3612 	ld	-26 (ix),a
   19A5 FD 7E 1F      [19] 3613 	ld	a,31 (iy)
   19A8 DD 77 E7      [19] 3614 	ld	-25 (ix),a
   19AB FD 7E 20      [19] 3615 	ld	a,32 (iy)
   19AE DD 77 E8      [19] 3616 	ld	-24 (ix),a
   19B1 FD 7E 21      [19] 3617 	ld	a,33 (iy)
   19B4 DD 77 E9      [19] 3618 	ld	-23 (ix),a
                           3619 ;pff.c:1014: fs->curr_clust = clst;
   19B7 C5            [11] 3620 	push	bc
   19B8 DD 5E F6      [19] 3621 	ld	e,-10 (ix)
   19BB DD 56 F7      [19] 3622 	ld	d,-9 (ix)
   19BE 21 06 00      [10] 3623 	ld	hl, #0x0006
   19C1 39            [11] 3624 	add	hl, sp
   19C2 01 04 00      [10] 3625 	ld	bc, #0x0004
   19C5 ED B0         [21] 3626 	ldir
   19C7 C1            [10] 3627 	pop	bc
                           3628 ;pff.c:1016: while (ofs > bcs) {				/* Cluster following loop */
   19C8                    3629 00131$:
   19C8 DD 71 FC      [19] 3630 	ld	-4 (ix),c
   19CB DD 70 FD      [19] 3631 	ld	-3 (ix),b
   19CE                    3632 00114$:
   19CE DD 7E E2      [19] 3633 	ld	a,-30 (ix)
   19D1 DD 96 04      [19] 3634 	sub	a, 4 (ix)
   19D4 DD 7E E3      [19] 3635 	ld	a,-29 (ix)
   19D7 DD 9E 05      [19] 3636 	sbc	a, 5 (ix)
   19DA DD 7E E4      [19] 3637 	ld	a,-28 (ix)
   19DD DD 9E 06      [19] 3638 	sbc	a, 6 (ix)
   19E0 DD 7E E5      [19] 3639 	ld	a,-27 (ix)
   19E3 DD 9E 07      [19] 3640 	sbc	a, 7 (ix)
   19E6 D2rC6r1A      [10] 3641 	jp	NC,00116$
                           3642 ;pff.c:1017: clst = get_fat(clst);		/* Follow cluster chain */
   19E9 C5            [11] 3643 	push	bc
   19EA DD 6E E8      [19] 3644 	ld	l,-24 (ix)
   19ED DD 66 E9      [19] 3645 	ld	h,-23 (ix)
   19F0 E5            [11] 3646 	push	hl
   19F1 DD 6E E6      [19] 3647 	ld	l,-26 (ix)
   19F4 DD 66 E7      [19] 3648 	ld	h,-25 (ix)
   19F7 E5            [11] 3649 	push	hl
   19F8 CDr8Ar00      [17] 3650 	call	_get_fat
   19FB F1            [10] 3651 	pop	af
   19FC F1            [10] 3652 	pop	af
   19FD C1            [10] 3653 	pop	bc
   19FE DD 75 E6      [19] 3654 	ld	-26 (ix),l
   1A01 DD 74 E7      [19] 3655 	ld	-25 (ix),h
   1A04 DD 73 E8      [19] 3656 	ld	-24 (ix),e
   1A07 DD 72 E9      [19] 3657 	ld	-23 (ix),d
                           3658 ;pff.c:1018: if (clst <= 1 || clst >= fs->n_fatent) ABORT(FR_DISK_ERR);
   1A0A 3E 01         [ 7] 3659 	ld	a,#0x01
   1A0C DD BE E6      [19] 3660 	cp	a, -26 (ix)
   1A0F 3E 00         [ 7] 3661 	ld	a,#0x00
   1A11 DD 9E E7      [19] 3662 	sbc	a, -25 (ix)
   1A14 3E 00         [ 7] 3663 	ld	a,#0x00
   1A16 DD 9E E8      [19] 3664 	sbc	a, -24 (ix)
   1A19 3E 00         [ 7] 3665 	ld	a,#0x00
   1A1B DD 9E E9      [19] 3666 	sbc	a, -23 (ix)
   1A1E 30 25         [12] 3667 	jr	NC,00111$
   1A20 DD 6E FC      [19] 3668 	ld	l,-4 (ix)
   1A23 DD 66 FD      [19] 3669 	ld	h,-3 (ix)
   1A26 11 06 00      [10] 3670 	ld	de, #0x0006
   1A29 19            [11] 3671 	add	hl, de
   1A2A 56            [ 7] 3672 	ld	d,(hl)
   1A2B 23            [ 6] 3673 	inc	hl
   1A2C 5E            [ 7] 3674 	ld	e,(hl)
   1A2D 23            [ 6] 3675 	inc	hl
   1A2E 23            [ 6] 3676 	inc	hl
   1A2F 7E            [ 7] 3677 	ld	a,(hl)
   1A30 2B            [ 6] 3678 	dec	hl
   1A31 66            [ 7] 3679 	ld	h,(hl)
   1A32 6F            [ 4] 3680 	ld	l,a
   1A33 DD 7E E6      [19] 3681 	ld	a,-26 (ix)
   1A36 92            [ 4] 3682 	sub	a, d
   1A37 DD 7E E7      [19] 3683 	ld	a,-25 (ix)
   1A3A 9B            [ 4] 3684 	sbc	a, e
   1A3B DD 7E E8      [19] 3685 	ld	a,-24 (ix)
   1A3E 9C            [ 4] 3686 	sbc	a, h
   1A3F DD 7E E9      [19] 3687 	ld	a,-23 (ix)
   1A42 9D            [ 4] 3688 	sbc	a, l
   1A43 38 0D         [12] 3689 	jr	C,00112$
   1A45                    3690 00111$:
   1A45 DD 6E F8      [19] 3691 	ld	l,-8 (ix)
   1A48 DD 66 F9      [19] 3692 	ld	h,-7 (ix)
   1A4B 36 00         [10] 3693 	ld	(hl),#0x00
   1A4D 2E 01         [ 7] 3694 	ld	l,#0x01
   1A4F C3rB2r1B      [10] 3695 	jp	00121$
   1A52                    3696 00112$:
                           3697 ;pff.c:1019: fs->curr_clust = clst;
   1A52 C5            [11] 3698 	push	bc
   1A53 DD 5E F6      [19] 3699 	ld	e,-10 (ix)
   1A56 DD 56 F7      [19] 3700 	ld	d,-9 (ix)
   1A59 21 06 00      [10] 3701 	ld	hl, #0x0006
   1A5C 39            [11] 3702 	add	hl, sp
   1A5D 01 04 00      [10] 3703 	ld	bc, #0x0004
   1A60 ED B0         [21] 3704 	ldir
   1A62 C1            [10] 3705 	pop	bc
                           3706 ;pff.c:1020: fs->fptr += bcs;
   1A63 DD 6E F2      [19] 3707 	ld	l,-14 (ix)
   1A66 DD 66 F3      [19] 3708 	ld	h,-13 (ix)
   1A69 56            [ 7] 3709 	ld	d,(hl)
   1A6A 23            [ 6] 3710 	inc	hl
   1A6B 5E            [ 7] 3711 	ld	e,(hl)
   1A6C 23            [ 6] 3712 	inc	hl
   1A6D 23            [ 6] 3713 	inc	hl
   1A6E 7E            [ 7] 3714 	ld	a,(hl)
   1A6F 2B            [ 6] 3715 	dec	hl
   1A70 66            [ 7] 3716 	ld	h,(hl)
   1A71 6F            [ 4] 3717 	ld	l,a
   1A72 7A            [ 4] 3718 	ld	a,d
   1A73 DD 86 E2      [19] 3719 	add	a, -30 (ix)
   1A76 DD 77 EE      [19] 3720 	ld	-18 (ix),a
   1A79 7B            [ 4] 3721 	ld	a,e
   1A7A DD 8E E3      [19] 3722 	adc	a, -29 (ix)
   1A7D DD 77 EF      [19] 3723 	ld	-17 (ix),a
   1A80 7C            [ 4] 3724 	ld	a,h
   1A81 DD 8E E4      [19] 3725 	adc	a, -28 (ix)
   1A84 DD 77 F0      [19] 3726 	ld	-16 (ix),a
   1A87 7D            [ 4] 3727 	ld	a,l
   1A88 DD 8E E5      [19] 3728 	adc	a, -27 (ix)
   1A8B DD 77 F1      [19] 3729 	ld	-15 (ix),a
   1A8E C5            [11] 3730 	push	bc
   1A8F DD 5E F2      [19] 3731 	ld	e,-14 (ix)
   1A92 DD 56 F3      [19] 3732 	ld	d,-13 (ix)
   1A95 21 0E 00      [10] 3733 	ld	hl, #0x000E
   1A98 39            [11] 3734 	add	hl, sp
   1A99 01 04 00      [10] 3735 	ld	bc, #0x0004
   1A9C ED B0         [21] 3736 	ldir
   1A9E C1            [10] 3737 	pop	bc
                           3738 ;pff.c:1021: ofs -= bcs;
   1A9F DD 7E 04      [19] 3739 	ld	a,4 (ix)
   1AA2 DD 96 E2      [19] 3740 	sub	a, -30 (ix)
   1AA5 DD 77 04      [19] 3741 	ld	4 (ix),a
   1AA8 DD 7E 05      [19] 3742 	ld	a,5 (ix)
   1AAB DD 9E E3      [19] 3743 	sbc	a, -29 (ix)
   1AAE DD 77 05      [19] 3744 	ld	5 (ix),a
   1AB1 DD 7E 06      [19] 3745 	ld	a,6 (ix)
   1AB4 DD 9E E4      [19] 3746 	sbc	a, -28 (ix)
   1AB7 DD 77 06      [19] 3747 	ld	6 (ix),a
   1ABA DD 7E 07      [19] 3748 	ld	a,7 (ix)
   1ABD DD 9E E5      [19] 3749 	sbc	a, -27 (ix)
   1AC0 DD 77 07      [19] 3750 	ld	7 (ix),a
   1AC3 C3rCEr19      [10] 3751 	jp	00114$
   1AC6                    3752 00116$:
                           3753 ;pff.c:1023: fs->fptr += ofs;
   1AC6 C5            [11] 3754 	push	bc
   1AC7 DD 5E F2      [19] 3755 	ld	e,-14 (ix)
   1ACA DD 56 F3      [19] 3756 	ld	d,-13 (ix)
   1ACD 21 1C 00      [10] 3757 	ld	hl, #0x001C
   1AD0 39            [11] 3758 	add	hl, sp
   1AD1 EB            [ 4] 3759 	ex	de, hl
   1AD2 01 04 00      [10] 3760 	ld	bc, #0x0004
   1AD5 ED B0         [21] 3761 	ldir
   1AD7 C1            [10] 3762 	pop	bc
   1AD8 DD 7E FC      [19] 3763 	ld	a,-4 (ix)
   1ADB DD 86 04      [19] 3764 	add	a, 4 (ix)
   1ADE DD 77 FC      [19] 3765 	ld	-4 (ix),a
   1AE1 DD 7E FD      [19] 3766 	ld	a,-3 (ix)
   1AE4 DD 8E 05      [19] 3767 	adc	a, 5 (ix)
   1AE7 DD 77 FD      [19] 3768 	ld	-3 (ix),a
   1AEA DD 7E FE      [19] 3769 	ld	a,-2 (ix)
   1AED DD 8E 06      [19] 3770 	adc	a, 6 (ix)
   1AF0 DD 77 FE      [19] 3771 	ld	-2 (ix),a
   1AF3 DD 7E FF      [19] 3772 	ld	a,-1 (ix)
   1AF6 DD 8E 07      [19] 3773 	adc	a, 7 (ix)
   1AF9 DD 77 FF      [19] 3774 	ld	-1 (ix),a
   1AFC C5            [11] 3775 	push	bc
   1AFD DD 5E F2      [19] 3776 	ld	e,-14 (ix)
   1B00 DD 56 F3      [19] 3777 	ld	d,-13 (ix)
   1B03 21 1C 00      [10] 3778 	ld	hl, #0x001C
   1B06 39            [11] 3779 	add	hl, sp
   1B07 01 04 00      [10] 3780 	ld	bc, #0x0004
   1B0A ED B0         [21] 3781 	ldir
   1B0C DD 6E E8      [19] 3782 	ld	l,-24 (ix)
   1B0F DD 66 E9      [19] 3783 	ld	h,-23 (ix)
   1B12 E5            [11] 3784 	push	hl
   1B13 DD 6E E6      [19] 3785 	ld	l,-26 (ix)
   1B16 DD 66 E7      [19] 3786 	ld	h,-25 (ix)
   1B19 E5            [11] 3787 	push	hl
   1B1A CDrAAr02      [17] 3788 	call	_clust2sect
   1B1D F1            [10] 3789 	pop	af
   1B1E F1            [10] 3790 	pop	af
   1B1F C1            [10] 3791 	pop	bc
   1B20 DD 75 FC      [19] 3792 	ld	-4 (ix),l
   1B23 DD 74 FD      [19] 3793 	ld	-3 (ix),h
   1B26 DD 73 FE      [19] 3794 	ld	-2 (ix),e
   1B29 DD 72 FF      [19] 3795 	ld	-1 (ix),d
                           3796 ;pff.c:1025: if (!sect) ABORT(FR_DISK_ERR);
   1B2C 7A            [ 4] 3797 	ld	a,d
   1B2D B3            [ 4] 3798 	or	a, e
   1B2E B4            [ 4] 3799 	or	a, h
   1B2F B5            [ 4] 3800 	or	a,l
   1B30 20 0C         [12] 3801 	jr	NZ,00118$
   1B32 DD 6E F8      [19] 3802 	ld	l,-8 (ix)
   1B35 DD 66 F9      [19] 3803 	ld	h,-7 (ix)
   1B38 36 00         [10] 3804 	ld	(hl),#0x00
   1B3A 2E 01         [ 7] 3805 	ld	l,#0x01
   1B3C 18 74         [12] 3806 	jr	00121$
   1B3E                    3807 00118$:
                           3808 ;pff.c:1026: fs->dsect = sect + (fs->fptr / 512 & (fs->csize - 1));
   1B3E 21 26 00      [10] 3809 	ld	hl,#0x0026
   1B41 09            [11] 3810 	add	hl,bc
   1B42 DD 75 EE      [19] 3811 	ld	-18 (ix),l
   1B45 DD 74 EF      [19] 3812 	ld	-17 (ix),h
   1B48 DD 6E F2      [19] 3813 	ld	l,-14 (ix)
   1B4B DD 66 F3      [19] 3814 	ld	h,-13 (ix)
   1B4E 5E            [ 7] 3815 	ld	e,(hl)
   1B4F 23            [ 6] 3816 	inc	hl
   1B50 56            [ 7] 3817 	ld	d,(hl)
   1B51 23            [ 6] 3818 	inc	hl
   1B52 4E            [ 7] 3819 	ld	c,(hl)
   1B53 23            [ 6] 3820 	inc	hl
   1B54 46            [ 7] 3821 	ld	b,(hl)
   1B55 3E 09         [ 7] 3822 	ld	a,#0x09
   1B57                    3823 00167$:
   1B57 CB 38         [ 8] 3824 	srl	b
   1B59 CB 19         [ 8] 3825 	rr	c
   1B5B CB 1A         [ 8] 3826 	rr	d
   1B5D CB 1B         [ 8] 3827 	rr	e
   1B5F 3D            [ 4] 3828 	dec	a
   1B60 20 F5         [12] 3829 	jr	NZ,00167$
   1B62 DD 6E FA      [19] 3830 	ld	l,-6 (ix)
   1B65 DD 66 FB      [19] 3831 	ld	h,-5 (ix)
   1B68 6E            [ 7] 3832 	ld	l,(hl)
   1B69 26 00         [ 7] 3833 	ld	h,#0x00
   1B6B 2B            [ 6] 3834 	dec	hl
   1B6C DD 75 F2      [19] 3835 	ld	-14 (ix),l
   1B6F DD 74 F3      [19] 3836 	ld	-13 (ix),h
   1B72 7C            [ 4] 3837 	ld	a,h
   1B73 17            [ 4] 3838 	rla
   1B74 9F            [ 4] 3839 	sbc	a, a
   1B75 DD 77 F4      [19] 3840 	ld	-12 (ix),a
   1B78 DD 77 F5      [19] 3841 	ld	-11 (ix),a
   1B7B 7B            [ 4] 3842 	ld	a,e
   1B7C DD A6 F2      [19] 3843 	and	a, -14 (ix)
   1B7F 6F            [ 4] 3844 	ld	l,a
   1B80 7A            [ 4] 3845 	ld	a,d
   1B81 DD A6 F3      [19] 3846 	and	a, -13 (ix)
   1B84 67            [ 4] 3847 	ld	h,a
   1B85 79            [ 4] 3848 	ld	a,c
   1B86 DD A6 F4      [19] 3849 	and	a, -12 (ix)
   1B89 5F            [ 4] 3850 	ld	e,a
   1B8A 78            [ 4] 3851 	ld	a,b
   1B8B DD A6 F5      [19] 3852 	and	a, -11 (ix)
   1B8E 57            [ 4] 3853 	ld	d,a
   1B8F DD 7E FC      [19] 3854 	ld	a,-4 (ix)
   1B92 85            [ 4] 3855 	add	a, l
   1B93 4F            [ 4] 3856 	ld	c,a
   1B94 DD 7E FD      [19] 3857 	ld	a,-3 (ix)
   1B97 8C            [ 4] 3858 	adc	a, h
   1B98 47            [ 4] 3859 	ld	b,a
   1B99 DD 7E FE      [19] 3860 	ld	a,-2 (ix)
   1B9C 8B            [ 4] 3861 	adc	a, e
   1B9D 5F            [ 4] 3862 	ld	e,a
   1B9E DD 7E FF      [19] 3863 	ld	a,-1 (ix)
   1BA1 8A            [ 4] 3864 	adc	a, d
   1BA2 57            [ 4] 3865 	ld	d,a
   1BA3 DD 6E EE      [19] 3866 	ld	l,-18 (ix)
   1BA6 DD 66 EF      [19] 3867 	ld	h,-17 (ix)
   1BA9 71            [ 7] 3868 	ld	(hl),c
   1BAA 23            [ 6] 3869 	inc	hl
   1BAB 70            [ 7] 3870 	ld	(hl),b
   1BAC 23            [ 6] 3871 	inc	hl
   1BAD 73            [ 7] 3872 	ld	(hl),e
   1BAE 23            [ 6] 3873 	inc	hl
   1BAF 72            [ 7] 3874 	ld	(hl),d
   1BB0                    3875 00120$:
                           3876 ;pff.c:1029: return FR_OK;
   1BB0 2E 00         [ 7] 3877 	ld	l,#0x00
   1BB2                    3878 00121$:
   1BB2 DD F9         [10] 3879 	ld	sp, ix
   1BB4 DD E1         [14] 3880 	pop	ix
   1BB6 C9            [10] 3881 	ret
                           3882 	.area _CODE
                           3883 	.area _INITIALIZER
                           3884 	.area _CABS (ABS)

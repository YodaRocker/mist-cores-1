                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.4.0 #8981 (Jul 12 2014) (Linux)
                              4 ; This file was generated Mon Jan 18 22:50:16 2016
                              5 ;--------------------------------------------------------
                              6 	.module pff
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _disk_readp
                             13 	.globl _disk_initialize
                             14 	.globl _pf_mount
                             15 	.globl _pf_open
                             16 	.globl _pf_read
                             17 	.globl _pf_lseek
                             18 ;--------------------------------------------------------
                             19 ; special function registers
                             20 ;--------------------------------------------------------
                             21 ;--------------------------------------------------------
                             22 ; ram data
                             23 ;--------------------------------------------------------
                             24 	.area _DATA
   0000                      25 _FatFs:
   0000                      26 	.ds 2
                             27 ;--------------------------------------------------------
                             28 ; ram data
                             29 ;--------------------------------------------------------
                             30 	.area _INITIALIZED
                             31 ;--------------------------------------------------------
                             32 ; absolute external ram data
                             33 ;--------------------------------------------------------
                             34 	.area _DABS (ABS)
                             35 ;--------------------------------------------------------
                             36 ; global & static initialisations
                             37 ;--------------------------------------------------------
                             38 	.area _HOME
                             39 	.area _GSINIT
                             40 	.area _GSFINAL
                             41 	.area _GSINIT
                             42 ;--------------------------------------------------------
                             43 ; Home
                             44 ;--------------------------------------------------------
                             45 	.area _HOME
                             46 	.area _HOME
                             47 ;--------------------------------------------------------
                             48 ; code
                             49 ;--------------------------------------------------------
                             50 	.area _CODE
                             51 ;pff.c:328: void mem_set (void* dst, int val, int cnt) {
                             52 ;	---------------------------------
                             53 ; Function mem_set
                             54 ; ---------------------------------
   0000                      55 _mem_set:
   0000 DD E5         [15]   56 	push	ix
   0002 DD 21 00 00   [14]   57 	ld	ix,#0
   0006 DD 39         [15]   58 	add	ix,sp
                             59 ;pff.c:329: char *d = (char*)dst;
   0008 DD 6E 04      [19]   60 	ld	l,4 (ix)
   000B DD 66 05      [19]   61 	ld	h,5 (ix)
                             62 ;pff.c:330: while (cnt--) *d++ = (char)val;
   000E DD 4E 08      [19]   63 	ld	c,8 (ix)
   0011 DD 46 09      [19]   64 	ld	b,9 (ix)
   0014                      65 00101$:
   0014 51            [ 4]   66 	ld	d,c
   0015 58            [ 4]   67 	ld	e,b
   0016 0B            [ 6]   68 	dec	bc
   0017 7B            [ 4]   69 	ld	a,e
   0018 B2            [ 4]   70 	or	a,d
   0019 28 07         [12]   71 	jr	Z,00104$
   001B DD 7E 06      [19]   72 	ld	a,6 (ix)
   001E 77            [ 7]   73 	ld	(hl),a
   001F 23            [ 6]   74 	inc	hl
   0020 18 F2         [12]   75 	jr	00101$
   0022                      76 00104$:
   0022 DD E1         [14]   77 	pop	ix
   0024 C9            [10]   78 	ret
                             79 ;pff.c:335: int mem_cmp (const void* dst, const void* src, int cnt) {
                             80 ;	---------------------------------
                             81 ; Function mem_cmp
                             82 ; ---------------------------------
   0025                      83 _mem_cmp:
   0025 DD E5         [15]   84 	push	ix
   0027 DD 21 00 00   [14]   85 	ld	ix,#0
   002B DD 39         [15]   86 	add	ix,sp
   002D F5            [11]   87 	push	af
   002E F5            [11]   88 	push	af
                             89 ;pff.c:336: const char *d = (const char *)dst, *s = (const char *)src;
   002F DD 7E 04      [19]   90 	ld	a,4 (ix)
   0032 DD 77 FC      [19]   91 	ld	-4 (ix),a
   0035 DD 7E 05      [19]   92 	ld	a,5 (ix)
   0038 DD 77 FD      [19]   93 	ld	-3 (ix),a
   003B DD 7E 06      [19]   94 	ld	a,6 (ix)
   003E DD 77 FE      [19]   95 	ld	-2 (ix),a
   0041 DD 7E 07      [19]   96 	ld	a,7 (ix)
   0044 DD 77 FF      [19]   97 	ld	-1 (ix),a
                             98 ;pff.c:337: int r = 0;
   0047 21 00 00      [10]   99 	ld	hl,#0x0000
                            100 ;pff.c:338: while (cnt-- && (r = *d++ - *s++) == 0) ;
   004A DD 4E 08      [19]  101 	ld	c,8 (ix)
   004D DD 46 09      [19]  102 	ld	b,9 (ix)
   0050                     103 00102$:
   0050 59            [ 4]  104 	ld	e, c
   0051 50            [ 4]  105 	ld	d, b
   0052 0B            [ 6]  106 	dec	bc
   0053 7A            [ 4]  107 	ld	a,d
   0054 B3            [ 4]  108 	or	a,e
   0055 28 2E         [12]  109 	jr	Z,00104$
   0057 E1            [10]  110 	pop	hl
   0058 E5            [11]  111 	push	hl
   0059 7E            [ 7]  112 	ld	a,(hl)
   005A DD 34 FC      [23]  113 	inc	-4 (ix)
   005D 20 03         [12]  114 	jr	NZ,00116$
   005F DD 34 FD      [23]  115 	inc	-3 (ix)
   0062                     116 00116$:
   0062 5F            [ 4]  117 	ld	e,a
   0063 17            [ 4]  118 	rla
   0064 9F            [ 4]  119 	sbc	a, a
   0065 57            [ 4]  120 	ld	d,a
   0066 DD 6E FE      [19]  121 	ld	l,-2 (ix)
   0069 DD 66 FF      [19]  122 	ld	h,-1 (ix)
   006C 7E            [ 7]  123 	ld	a,(hl)
   006D DD 34 FE      [23]  124 	inc	-2 (ix)
   0070 20 03         [12]  125 	jr	NZ,00117$
   0072 DD 34 FF      [23]  126 	inc	-1 (ix)
   0075                     127 00117$:
   0075 67            [ 4]  128 	ld	h,a
   0076 17            [ 4]  129 	rla
   0077 9F            [ 4]  130 	sbc	a, a
   0078 6F            [ 4]  131 	ld	l,a
   0079 7B            [ 4]  132 	ld	a,e
   007A 94            [ 4]  133 	sub	a, h
   007B 5F            [ 4]  134 	ld	e,a
   007C 7A            [ 4]  135 	ld	a,d
   007D 9D            [ 4]  136 	sbc	a, l
   007E 57            [ 4]  137 	ld	d,a
   007F 6B            [ 4]  138 	ld	l, e
   0080 7A            [ 4]  139 	ld	a,d
   0081 67            [ 4]  140 	ld	h,a
   0082 B3            [ 4]  141 	or	a,e
   0083 28 CB         [12]  142 	jr	Z,00102$
   0085                     143 00104$:
                            144 ;pff.c:339: return r;
   0085 DD F9         [10]  145 	ld	sp, ix
   0087 DD E1         [14]  146 	pop	ix
   0089 C9            [10]  147 	ret
                            148 ;pff.c:349: CLUST get_fat (	/* 1:IO error, Else:Cluster status */
                            149 ;	---------------------------------
                            150 ; Function get_fat
                            151 ; ---------------------------------
   008A                     152 _get_fat:
   008A DD E5         [15]  153 	push	ix
   008C DD 21 00 00   [14]  154 	ld	ix,#0
   0090 DD 39         [15]  155 	add	ix,sp
   0092 21 F8 FF      [10]  156 	ld	hl,#-8
   0095 39            [11]  157 	add	hl,sp
   0096 F9            [ 6]  158 	ld	sp,hl
                            159 ;pff.c:354: FATFS *fs = FatFs;
   0097 ED 5Br00r00   [20]  160 	ld	de,(_FatFs)
                            161 ;pff.c:356: if (clst < 2 || clst >= fs->n_fatent)	/* Range check */
   009B DD 7E 04      [19]  162 	ld	a,4 (ix)
   009E D6 02         [ 7]  163 	sub	a, #0x02
   00A0 DD 7E 05      [19]  164 	ld	a,5 (ix)
   00A3 DE 00         [ 7]  165 	sbc	a, #0x00
   00A5 DD 7E 06      [19]  166 	ld	a,6 (ix)
   00A8 DE 00         [ 7]  167 	sbc	a, #0x00
   00AA DD 7E 07      [19]  168 	ld	a,7 (ix)
   00AD DE 00         [ 7]  169 	sbc	a, #0x00
   00AF 38 21         [12]  170 	jr	C,00101$
   00B1 D5            [11]  171 	push	de
   00B2 FD E1         [14]  172 	pop	iy
   00B4 FD 6E 06      [19]  173 	ld	l,6 (iy)
   00B7 FD 66 07      [19]  174 	ld	h,7 (iy)
   00BA FD 4E 08      [19]  175 	ld	c,8 (iy)
   00BD FD 46 09      [19]  176 	ld	b,9 (iy)
   00C0 DD 7E 04      [19]  177 	ld	a,4 (ix)
   00C3 95            [ 4]  178 	sub	a, l
   00C4 DD 7E 05      [19]  179 	ld	a,5 (ix)
   00C7 9C            [ 4]  180 	sbc	a, h
   00C8 DD 7E 06      [19]  181 	ld	a,6 (ix)
   00CB 99            [ 4]  182 	sbc	a, c
   00CC DD 7E 07      [19]  183 	ld	a,7 (ix)
   00CF 98            [ 4]  184 	sbc	a, b
   00D0 38 09         [12]  185 	jr	C,00102$
   00D2                     186 00101$:
                            187 ;pff.c:357: return 1;
   00D2 21 01 00      [10]  188 	ld	hl,#0x0001
   00D5 11 00 00      [10]  189 	ld	de,#0x0000
   00D8 C3rA5r02      [10]  190 	jp	00111$
   00DB                     191 00102$:
                            192 ;pff.c:359: switch (fs->fs_type) {
   00DB 1A            [ 7]  193 	ld	a,(de)
   00DC 47            [ 4]  194 	ld	b,a
                            195 ;pff.c:378: if (disk_readp(buf, fs->fatbase + clst / 256, ((UINT)clst % 256) * 2, 2)) break;
   00DD DD 6E 04      [19]  196 	ld	l,4 (ix)
   00E0 7B            [ 4]  197 	ld	a,e
   00E1 C6 0A         [ 7]  198 	add	a, #0x0A
   00E3 5F            [ 4]  199 	ld	e,a
   00E4 7A            [ 4]  200 	ld	a,d
   00E5 CE 00         [ 7]  201 	adc	a, #0x00
   00E7 57            [ 4]  202 	ld	d,a
                            203 ;pff.c:359: switch (fs->fs_type) {
   00E8 78            [ 4]  204 	ld	a,b
   00E9 D6 02         [ 7]  205 	sub	a, #0x02
   00EB 28 09         [12]  206 	jr	Z,00104$
   00ED 78            [ 4]  207 	ld	a,b
   00EE D6 03         [ 7]  208 	sub	a, #0x03
   00F0 CAr83r01      [10]  209 	jp	Z,00107$
   00F3 C3r9Fr02      [10]  210 	jp	00110$
                            211 ;pff.c:377: case FS_FAT16 :
   00F6                     212 00104$:
                            213 ;pff.c:378: if (disk_readp(buf, fs->fatbase + clst / 256, ((UINT)clst % 256) * 2, 2)) break;
   00F6 26 00         [ 7]  214 	ld	h,#0x00
   00F8 29            [11]  215 	add	hl, hl
   00F9 4D            [ 4]  216 	ld	c, l
   00FA 44            [ 4]  217 	ld	b, h
   00FB C5            [11]  218 	push	bc
   00FC 21 06 00      [10]  219 	ld	hl, #0x0006
   00FF 39            [11]  220 	add	hl, sp
   0100 EB            [ 4]  221 	ex	de, hl
   0101 01 04 00      [10]  222 	ld	bc, #0x0004
   0104 ED B0         [21]  223 	ldir
   0106 C1            [10]  224 	pop	bc
   0107 F5            [11]  225 	push	af
   0108 DD 6E 04      [19]  226 	ld	l,4 (ix)
   010B DD 66 05      [19]  227 	ld	h,5 (ix)
   010E DD 5E 06      [19]  228 	ld	e,6 (ix)
   0111 DD 56 07      [19]  229 	ld	d,7 (ix)
   0114 F1            [10]  230 	pop	af
   0115 3E 08         [ 7]  231 	ld	a,#0x08
   0117                     232 00135$:
   0117 CB 3A         [ 8]  233 	srl	d
   0119 CB 1B         [ 8]  234 	rr	e
   011B CB 1C         [ 8]  235 	rr	h
   011D CB 1D         [ 8]  236 	rr	l
   011F 3D            [ 4]  237 	dec	a
   0120 20 F5         [12]  238 	jr	NZ,00135$
   0122 DD 7E FC      [19]  239 	ld	a,-4 (ix)
   0125 85            [ 4]  240 	add	a, l
   0126 DD 77 FC      [19]  241 	ld	-4 (ix),a
   0129 DD 7E FD      [19]  242 	ld	a,-3 (ix)
   012C 8C            [ 4]  243 	adc	a, h
   012D DD 77 FD      [19]  244 	ld	-3 (ix),a
   0130 DD 7E FE      [19]  245 	ld	a,-2 (ix)
   0133 8B            [ 4]  246 	adc	a, e
   0134 DD 77 FE      [19]  247 	ld	-2 (ix),a
   0137 DD 7E FF      [19]  248 	ld	a,-1 (ix)
   013A 8A            [ 4]  249 	adc	a, d
   013B DD 77 FF      [19]  250 	ld	-1 (ix),a
   013E 21 00 00      [10]  251 	ld	hl,#0x0000
   0141 39            [11]  252 	add	hl,sp
   0142 EB            [ 4]  253 	ex	de,hl
   0143 D5            [11]  254 	push	de
   0144 FD E1         [14]  255 	pop	iy
   0146 D5            [11]  256 	push	de
   0147 21 02 00      [10]  257 	ld	hl,#0x0002
   014A E5            [11]  258 	push	hl
   014B C5            [11]  259 	push	bc
   014C DD 6E FE      [19]  260 	ld	l,-2 (ix)
   014F DD 66 FF      [19]  261 	ld	h,-1 (ix)
   0152 E5            [11]  262 	push	hl
   0153 DD 6E FC      [19]  263 	ld	l,-4 (ix)
   0156 DD 66 FD      [19]  264 	ld	h,-3 (ix)
   0159 E5            [11]  265 	push	hl
   015A FD E5         [15]  266 	push	iy
   015C CDr00r00      [17]  267 	call	_disk_readp
   015F FD 21 0A 00   [14]  268 	ld	iy,#10
   0163 FD 39         [15]  269 	add	iy,sp
   0165 FD F9         [10]  270 	ld	sp,iy
   0167 7D            [ 4]  271 	ld	a,l
   0168 D1            [10]  272 	pop	de
   0169 B7            [ 4]  273 	or	a, a
   016A C2r9Fr02      [10]  274 	jp	NZ,00110$
                            275 ;pff.c:379: return LD_WORD(buf);
   016D 6B            [ 4]  276 	ld	l, e
   016E 62            [ 4]  277 	ld	h, d
   016F 23            [ 6]  278 	inc	hl
   0170 46            [ 7]  279 	ld	b, (hl)
   0171 0E 00         [ 7]  280 	ld	c,#0x00
   0173 1A            [ 7]  281 	ld	a,(de)
   0174 6F            [ 4]  282 	ld	l,a
   0175 26 00         [ 7]  283 	ld	h,#0x00
   0177 7D            [ 4]  284 	ld	a,l
   0178 B1            [ 4]  285 	or	a, c
   0179 6F            [ 4]  286 	ld	l,a
   017A 7C            [ 4]  287 	ld	a,h
   017B B0            [ 4]  288 	or	a, b
   017C 67            [ 4]  289 	ld	h,a
   017D 11 00 00      [10]  290 	ld	de,#0x0000
   0180 C3rA5r02      [10]  291 	jp	00111$
                            292 ;pff.c:382: case FS_FAT32 :
   0183                     293 00107$:
                            294 ;pff.c:383: if (disk_readp(buf, fs->fatbase + clst / 128, ((UINT)clst % 128) * 4, 4)) break;
   0183 CB BD         [ 8]  295 	res	7, l
   0185 26 00         [ 7]  296 	ld	h,#0x00
   0187 29            [11]  297 	add	hl, hl
   0188 29            [11]  298 	add	hl, hl
   0189 4D            [ 4]  299 	ld	c, l
   018A 44            [ 4]  300 	ld	b, h
   018B C5            [11]  301 	push	bc
   018C 21 06 00      [10]  302 	ld	hl, #0x0006
   018F 39            [11]  303 	add	hl, sp
   0190 EB            [ 4]  304 	ex	de, hl
   0191 01 04 00      [10]  305 	ld	bc, #0x0004
   0194 ED B0         [21]  306 	ldir
   0196 C1            [10]  307 	pop	bc
   0197 F5            [11]  308 	push	af
   0198 DD 6E 04      [19]  309 	ld	l,4 (ix)
   019B DD 66 05      [19]  310 	ld	h,5 (ix)
   019E DD 5E 06      [19]  311 	ld	e,6 (ix)
   01A1 DD 56 07      [19]  312 	ld	d,7 (ix)
   01A4 F1            [10]  313 	pop	af
   01A5 3E 07         [ 7]  314 	ld	a,#0x07
   01A7                     315 00137$:
   01A7 CB 3A         [ 8]  316 	srl	d
   01A9 CB 1B         [ 8]  317 	rr	e
   01AB CB 1C         [ 8]  318 	rr	h
   01AD CB 1D         [ 8]  319 	rr	l
   01AF 3D            [ 4]  320 	dec	a
   01B0 20 F5         [12]  321 	jr	NZ,00137$
   01B2 DD 7E FC      [19]  322 	ld	a,-4 (ix)
   01B5 85            [ 4]  323 	add	a, l
   01B6 DD 77 FC      [19]  324 	ld	-4 (ix),a
   01B9 DD 7E FD      [19]  325 	ld	a,-3 (ix)
   01BC 8C            [ 4]  326 	adc	a, h
   01BD DD 77 FD      [19]  327 	ld	-3 (ix),a
   01C0 DD 7E FE      [19]  328 	ld	a,-2 (ix)
   01C3 8B            [ 4]  329 	adc	a, e
   01C4 DD 77 FE      [19]  330 	ld	-2 (ix),a
   01C7 DD 7E FF      [19]  331 	ld	a,-1 (ix)
   01CA 8A            [ 4]  332 	adc	a, d
   01CB DD 77 FF      [19]  333 	ld	-1 (ix),a
   01CE 21 00 00      [10]  334 	ld	hl,#0x0000
   01D1 39            [11]  335 	add	hl,sp
   01D2 EB            [ 4]  336 	ex	de,hl
   01D3 D5            [11]  337 	push	de
   01D4 FD E1         [14]  338 	pop	iy
   01D6 D5            [11]  339 	push	de
   01D7 21 04 00      [10]  340 	ld	hl,#0x0004
   01DA E5            [11]  341 	push	hl
   01DB C5            [11]  342 	push	bc
   01DC DD 6E FE      [19]  343 	ld	l,-2 (ix)
   01DF DD 66 FF      [19]  344 	ld	h,-1 (ix)
   01E2 E5            [11]  345 	push	hl
   01E3 DD 6E FC      [19]  346 	ld	l,-4 (ix)
   01E6 DD 66 FD      [19]  347 	ld	h,-3 (ix)
   01E9 E5            [11]  348 	push	hl
   01EA FD E5         [15]  349 	push	iy
   01EC CDr00r00      [17]  350 	call	_disk_readp
   01EF FD 21 0A 00   [14]  351 	ld	iy,#10
   01F3 FD 39         [15]  352 	add	iy,sp
   01F5 FD F9         [10]  353 	ld	sp,iy
   01F7 7D            [ 4]  354 	ld	a,l
   01F8 D1            [10]  355 	pop	de
   01F9 B7            [ 4]  356 	or	a, a
   01FA C2r9Fr02      [10]  357 	jp	NZ,00110$
                            358 ;pff.c:384: return LD_DWORD(buf) & 0x0FFFFFFF;
   01FD 6B            [ 4]  359 	ld	l, e
   01FE 62            [ 4]  360 	ld	h, d
   01FF 23            [ 6]  361 	inc	hl
   0200 23            [ 6]  362 	inc	hl
   0201 23            [ 6]  363 	inc	hl
   0202 6E            [ 7]  364 	ld	l,(hl)
   0203 26 00         [ 7]  365 	ld	h,#0x00
   0205 01 00 00      [10]  366 	ld	bc,#0x0000
   0208 F5            [11]  367 	push	af
   0209 DD 75 FC      [19]  368 	ld	-4 (ix),l
   020C DD 74 FD      [19]  369 	ld	-3 (ix),h
   020F DD 71 FE      [19]  370 	ld	-2 (ix),c
   0212 DD 70 FF      [19]  371 	ld	-1 (ix),b
   0215 F1            [10]  372 	pop	af
   0216 3E 18         [ 7]  373 	ld	a,#0x18
   0218                     374 00139$:
   0218 DD CB FC 26   [23]  375 	sla	-4 (ix)
   021C DD CB FD 16   [23]  376 	rl	-3 (ix)
   0220 DD CB FE 16   [23]  377 	rl	-2 (ix)
   0224 DD CB FF 16   [23]  378 	rl	-1 (ix)
   0228 3D            [ 4]  379 	dec	a
   0229 20 ED         [12]  380 	jr	NZ,00139$
   022B 6B            [ 4]  381 	ld	l, e
   022C 62            [ 4]  382 	ld	h, d
   022D 23            [ 6]  383 	inc	hl
   022E 23            [ 6]  384 	inc	hl
   022F 6E            [ 7]  385 	ld	l,(hl)
   0230 26 00         [ 7]  386 	ld	h,#0x00
   0232 01 00 00      [10]  387 	ld	bc,#0x0000
   0235 3E 10         [ 7]  388 	ld	a,#0x10
   0237                     389 00141$:
   0237 29            [11]  390 	add	hl, hl
   0238 CB 11         [ 8]  391 	rl	c
   023A CB 10         [ 8]  392 	rl	b
   023C 3D            [ 4]  393 	dec	a
   023D 20 F8         [12]  394 	jr	NZ,00141$
   023F DD 7E FC      [19]  395 	ld	a,-4 (ix)
   0242 B5            [ 4]  396 	or	a, l
   0243 DD 77 FC      [19]  397 	ld	-4 (ix),a
   0246 DD 7E FD      [19]  398 	ld	a,-3 (ix)
   0249 B4            [ 4]  399 	or	a, h
   024A DD 77 FD      [19]  400 	ld	-3 (ix),a
   024D DD 7E FE      [19]  401 	ld	a,-2 (ix)
   0250 B1            [ 4]  402 	or	a, c
   0251 DD 77 FE      [19]  403 	ld	-2 (ix),a
   0254 DD 7E FF      [19]  404 	ld	a,-1 (ix)
   0257 B0            [ 4]  405 	or	a, b
   0258 DD 77 FF      [19]  406 	ld	-1 (ix),a
   025B 6B            [ 4]  407 	ld	l, e
   025C 62            [ 4]  408 	ld	h, d
   025D 23            [ 6]  409 	inc	hl
   025E 66            [ 7]  410 	ld	h, (hl)
   025F 2E 00         [ 7]  411 	ld	l,#0x00
   0261 01 00 00      [10]  412 	ld	bc,#0x0000
   0264 DD 7E FC      [19]  413 	ld	a,-4 (ix)
   0267 B5            [ 4]  414 	or	a, l
   0268 DD 77 FC      [19]  415 	ld	-4 (ix),a
   026B DD 7E FD      [19]  416 	ld	a,-3 (ix)
   026E B4            [ 4]  417 	or	a, h
   026F DD 77 FD      [19]  418 	ld	-3 (ix),a
   0272 DD 7E FE      [19]  419 	ld	a,-2 (ix)
   0275 B1            [ 4]  420 	or	a, c
   0276 DD 77 FE      [19]  421 	ld	-2 (ix),a
   0279 DD 7E FF      [19]  422 	ld	a,-1 (ix)
   027C B0            [ 4]  423 	or	a, b
   027D DD 77 FF      [19]  424 	ld	-1 (ix),a
   0280 1A            [ 7]  425 	ld	a,(de)
   0281 6F            [ 4]  426 	ld	l,a
   0282 26 00         [ 7]  427 	ld	h,#0x00
   0284 11 00 00      [10]  428 	ld	de,#0x0000
   0287 7D            [ 4]  429 	ld	a,l
   0288 DD B6 FC      [19]  430 	or	a, -4 (ix)
   028B 6F            [ 4]  431 	ld	l,a
   028C 7C            [ 4]  432 	ld	a,h
   028D DD B6 FD      [19]  433 	or	a, -3 (ix)
   0290 67            [ 4]  434 	ld	h,a
   0291 7B            [ 4]  435 	ld	a,e
   0292 DD B6 FE      [19]  436 	or	a, -2 (ix)
   0295 5F            [ 4]  437 	ld	e,a
   0296 7A            [ 4]  438 	ld	a,d
   0297 DD B6 FF      [19]  439 	or	a, -1 (ix)
   029A E6 0F         [ 7]  440 	and	a, #0x0F
   029C 57            [ 4]  441 	ld	d,a
   029D 18 06         [12]  442 	jr	00111$
                            443 ;pff.c:386: }
   029F                     444 00110$:
                            445 ;pff.c:388: return 1;	/* An error occured at the disk I/O layer */
   029F 21 01 00      [10]  446 	ld	hl,#0x0001
   02A2 11 00 00      [10]  447 	ld	de,#0x0000
   02A5                     448 00111$:
   02A5 DD F9         [10]  449 	ld	sp, ix
   02A7 DD E1         [14]  450 	pop	ix
   02A9 C9            [10]  451 	ret
                            452 ;pff.c:399: DWORD clust2sect (	/* !=0: Sector number, 0: Failed - invalid cluster# */
                            453 ;	---------------------------------
                            454 ; Function clust2sect
                            455 ; ---------------------------------
   02AA                     456 _clust2sect:
   02AA DD E5         [15]  457 	push	ix
   02AC DD 21 00 00   [14]  458 	ld	ix,#0
   02B0 DD 39         [15]  459 	add	ix,sp
   02B2 F5            [11]  460 	push	af
   02B3 F5            [11]  461 	push	af
                            462 ;pff.c:403: FATFS *fs = FatFs;
   02B4 ED 4Br00r00   [20]  463 	ld	bc,(_FatFs)
                            464 ;pff.c:406: clst -= 2;
   02B8 DD 7E 04      [19]  465 	ld	a,4 (ix)
   02BB C6 FE         [ 7]  466 	add	a,#0xFE
   02BD DD 77 04      [19]  467 	ld	4 (ix),a
   02C0 DD 7E 05      [19]  468 	ld	a,5 (ix)
   02C3 CE FF         [ 7]  469 	adc	a,#0xFF
   02C5 DD 77 05      [19]  470 	ld	5 (ix),a
   02C8 DD 7E 06      [19]  471 	ld	a,6 (ix)
   02CB CE FF         [ 7]  472 	adc	a,#0xFF
   02CD DD 77 06      [19]  473 	ld	6 (ix),a
   02D0 DD 7E 07      [19]  474 	ld	a,7 (ix)
   02D3 CE FF         [ 7]  475 	adc	a,#0xFF
   02D5 DD 77 07      [19]  476 	ld	7 (ix),a
                            477 ;pff.c:407: if (clst >= (fs->n_fatent - 2)) return 0;		/* Invalid cluster# */
   02D8 C5            [11]  478 	push	bc
   02D9 FD E1         [14]  479 	pop	iy
   02DB FD 6E 06      [19]  480 	ld	l,6 (iy)
   02DE FD 66 07      [19]  481 	ld	h,7 (iy)
   02E1 FD 5E 08      [19]  482 	ld	e,8 (iy)
   02E4 FD 56 09      [19]  483 	ld	d,9 (iy)
   02E7 7D            [ 4]  484 	ld	a,l
   02E8 C6 FE         [ 7]  485 	add	a,#0xFE
   02EA 6F            [ 4]  486 	ld	l,a
   02EB 7C            [ 4]  487 	ld	a,h
   02EC CE FF         [ 7]  488 	adc	a,#0xFF
   02EE 67            [ 4]  489 	ld	h,a
   02EF 7B            [ 4]  490 	ld	a,e
   02F0 CE FF         [ 7]  491 	adc	a,#0xFF
   02F2 5F            [ 4]  492 	ld	e,a
   02F3 7A            [ 4]  493 	ld	a,d
   02F4 CE FF         [ 7]  494 	adc	a,#0xFF
   02F6 57            [ 4]  495 	ld	d,a
   02F7 DD 7E 04      [19]  496 	ld	a,4 (ix)
   02FA 95            [ 4]  497 	sub	a, l
   02FB DD 7E 05      [19]  498 	ld	a,5 (ix)
   02FE 9C            [ 4]  499 	sbc	a, h
   02FF DD 7E 06      [19]  500 	ld	a,6 (ix)
   0302 9B            [ 4]  501 	sbc	a, e
   0303 DD 7E 07      [19]  502 	ld	a,7 (ix)
   0306 9A            [ 4]  503 	sbc	a, d
   0307 38 07         [12]  504 	jr	C,00102$
   0309 21 00 00      [10]  505 	ld	hl,#0x0000
   030C 5D            [ 4]  506 	ld	e,l
   030D 54            [ 4]  507 	ld	d,h
   030E 18 4E         [12]  508 	jr	00103$
   0310                     509 00102$:
                            510 ;pff.c:408: return (DWORD)clst * fs->csize + fs->database;
   0310 69            [ 4]  511 	ld	l, c
   0311 60            [ 4]  512 	ld	h, b
   0312 23            [ 6]  513 	inc	hl
   0313 23            [ 6]  514 	inc	hl
   0314 5E            [ 7]  515 	ld	e,(hl)
   0315 16 00         [ 7]  516 	ld	d,#0x00
   0317 21 00 00      [10]  517 	ld	hl,#0x0000
   031A C5            [11]  518 	push	bc
   031B E5            [11]  519 	push	hl
   031C D5            [11]  520 	push	de
   031D DD 6E 06      [19]  521 	ld	l,6 (ix)
   0320 DD 66 07      [19]  522 	ld	h,7 (ix)
   0323 E5            [11]  523 	push	hl
   0324 DD 6E 04      [19]  524 	ld	l,4 (ix)
   0327 DD 66 05      [19]  525 	ld	h,5 (ix)
   032A E5            [11]  526 	push	hl
   032B CDr00r00      [17]  527 	call	__mullong_rrx_s
   032E F1            [10]  528 	pop	af
   032F F1            [10]  529 	pop	af
   0330 F1            [10]  530 	pop	af
   0331 F1            [10]  531 	pop	af
   0332 DD 72 FF      [19]  532 	ld	-1 (ix),d
   0335 DD 73 FE      [19]  533 	ld	-2 (ix),e
   0338 DD 74 FD      [19]  534 	ld	-3 (ix),h
   033B DD 75 FC      [19]  535 	ld	-4 (ix),l
   033E E1            [10]  536 	pop	hl
   033F 11 12 00      [10]  537 	ld	de, #0x0012
   0342 19            [11]  538 	add	hl, de
   0343 5E            [ 7]  539 	ld	e,(hl)
   0344 23            [ 6]  540 	inc	hl
   0345 56            [ 7]  541 	ld	d,(hl)
   0346 23            [ 6]  542 	inc	hl
   0347 4E            [ 7]  543 	ld	c,(hl)
   0348 23            [ 6]  544 	inc	hl
   0349 46            [ 7]  545 	ld	b,(hl)
   034A DD 7E FC      [19]  546 	ld	a,-4 (ix)
   034D 83            [ 4]  547 	add	a, e
   034E 6F            [ 4]  548 	ld	l,a
   034F DD 7E FD      [19]  549 	ld	a,-3 (ix)
   0352 8A            [ 4]  550 	adc	a, d
   0353 67            [ 4]  551 	ld	h,a
   0354 DD 7E FE      [19]  552 	ld	a,-2 (ix)
   0357 89            [ 4]  553 	adc	a, c
   0358 5F            [ 4]  554 	ld	e,a
   0359 DD 7E FF      [19]  555 	ld	a,-1 (ix)
   035C 88            [ 4]  556 	adc	a, b
   035D 57            [ 4]  557 	ld	d,a
   035E                     558 00103$:
   035E DD F9         [10]  559 	ld	sp, ix
   0360 DD E1         [14]  560 	pop	ix
   0362 C9            [10]  561 	ret
                            562 ;pff.c:413: CLUST get_clust (
                            563 ;	---------------------------------
                            564 ; Function get_clust
                            565 ; ---------------------------------
   0363                     566 _get_clust:
   0363 DD E5         [15]  567 	push	ix
   0365 DD 21 00 00   [14]  568 	ld	ix,#0
   0369 DD 39         [15]  569 	add	ix,sp
   036B 21 FA FF      [10]  570 	ld	hl,#-6
   036E 39            [11]  571 	add	hl,sp
   036F F9            [ 6]  572 	ld	sp,hl
                            573 ;pff.c:417: FATFS *fs = FatFs;
   0370 2Ar00r00      [16]  574 	ld	hl,(_FatFs)
                            575 ;pff.c:418: CLUST clst = 0;
   0373 11 00 00      [10]  576 	ld	de,#0x0000
   0376 01 00 00      [10]  577 	ld	bc,#0x0000
                            578 ;pff.c:421: if (_FS_32ONLY || (_FS_FAT32 && fs->fs_type == FS_FAT32)) {
   0379 7E            [ 7]  579 	ld	a,(hl)
   037A D6 03         [ 7]  580 	sub	a, #0x03
   037C 20 2C         [12]  581 	jr	NZ,00102$
                            582 ;pff.c:422: clst = LD_WORD(dir+DIR_FstClusHI);
   037E DD 7E 04      [19]  583 	ld	a,4 (ix)
   0381 C6 14         [ 7]  584 	add	a, #0x14
   0383 4F            [ 4]  585 	ld	c,a
   0384 DD 7E 05      [19]  586 	ld	a,5 (ix)
   0387 CE 00         [ 7]  587 	adc	a, #0x00
   0389 47            [ 4]  588 	ld	b,a
   038A 69            [ 4]  589 	ld	l, c
   038B 60            [ 4]  590 	ld	h, b
   038C 23            [ 6]  591 	inc	hl
   038D 56            [ 7]  592 	ld	d, (hl)
   038E 1E 00         [ 7]  593 	ld	e,#0x00
   0390 0A            [ 7]  594 	ld	a,(bc)
   0391 6F            [ 4]  595 	ld	l,a
   0392 26 00         [ 7]  596 	ld	h,#0x00
   0394 7B            [ 4]  597 	ld	a,e
   0395 B5            [ 4]  598 	or	a, l
   0396 5F            [ 4]  599 	ld	e,a
   0397 7A            [ 4]  600 	ld	a,d
   0398 B4            [ 4]  601 	or	a, h
   0399 57            [ 4]  602 	ld	d,a
   039A 01 00 00      [10]  603 	ld	bc,#0x0000
                            604 ;pff.c:423: clst <<= 16;
   039D 3E 10         [ 7]  605 	ld	a,#0x10
   039F                     606 00113$:
   039F CB 23         [ 8]  607 	sla	e
   03A1 CB 12         [ 8]  608 	rl	d
   03A3 CB 11         [ 8]  609 	rl	c
   03A5 CB 10         [ 8]  610 	rl	b
   03A7 3D            [ 4]  611 	dec	a
   03A8 20 F5         [12]  612 	jr	NZ,00113$
   03AA                     613 00102$:
                            614 ;pff.c:425: clst |= LD_WORD(dir+DIR_FstClusLO);
   03AA FD 21 1A 00   [14]  615 	ld	iy,#0x001A
   03AE C5            [11]  616 	push	bc
   03AF DD 4E 04      [19]  617 	ld	c,4 (ix)
   03B2 DD 46 05      [19]  618 	ld	b,5 (ix)
   03B5 FD 09         [15]  619 	add	iy, bc
   03B7 C1            [10]  620 	pop	bc
   03B8 FD E5         [15]  621 	push	iy
   03BA E1            [10]  622 	pop	hl
   03BB 23            [ 6]  623 	inc	hl
   03BC 66            [ 7]  624 	ld	h,(hl)
   03BD DD 74 FB      [19]  625 	ld	-5 (ix),h
   03C0 DD 36 FA 00   [19]  626 	ld	-6 (ix),#0x00
   03C4 FD 7E 00      [19]  627 	ld	a, 0 (iy)
   03C7 2E 00         [ 7]  628 	ld	l, #0x00
   03C9 DD B6 FA      [19]  629 	or	a, -6 (ix)
   03CC 67            [ 4]  630 	ld	h,a
   03CD 7D            [ 4]  631 	ld	a,l
   03CE DD B6 FB      [19]  632 	or	a, -5 (ix)
   03D1 DD 74 FC      [19]  633 	ld	-4 (ix), h
   03D4 DD 77 FD      [19]  634 	ld	-3 (ix), a
   03D7 DD 36 FE 00   [19]  635 	ld	-2 (ix),#0x00
   03DB DD 36 FF 00   [19]  636 	ld	-1 (ix),#0x00
   03DF 7B            [ 4]  637 	ld	a,e
   03E0 DD B6 FC      [19]  638 	or	a, -4 (ix)
   03E3 6F            [ 4]  639 	ld	l,a
   03E4 7A            [ 4]  640 	ld	a,d
   03E5 DD B6 FD      [19]  641 	or	a, -3 (ix)
   03E8 67            [ 4]  642 	ld	h,a
   03E9 79            [ 4]  643 	ld	a,c
   03EA DD B6 FE      [19]  644 	or	a, -2 (ix)
   03ED 5F            [ 4]  645 	ld	e,a
   03EE 78            [ 4]  646 	ld	a,b
   03EF DD B6 FF      [19]  647 	or	a, -1 (ix)
   03F2 57            [ 4]  648 	ld	d,a
                            649 ;pff.c:427: return clst;
   03F3 DD F9         [10]  650 	ld	sp, ix
   03F5 DD E1         [14]  651 	pop	ix
   03F7 C9            [10]  652 	ret
                            653 ;pff.c:436: FRESULT dir_rewind (
                            654 ;	---------------------------------
                            655 ; Function dir_rewind
                            656 ; ---------------------------------
   03F8                     657 _dir_rewind:
   03F8 DD E5         [15]  658 	push	ix
   03FA DD 21 00 00   [14]  659 	ld	ix,#0
   03FE DD 39         [15]  660 	add	ix,sp
   0400 21 F8 FF      [10]  661 	ld	hl,#-8
   0403 39            [11]  662 	add	hl,sp
   0404 F9            [ 6]  663 	ld	sp,hl
                            664 ;pff.c:441: FATFS *fs = FatFs;
   0405 2Ar00r00      [16]  665 	ld	hl,(_FatFs)
   0408 E3            [19]  666 	ex	(sp), hl
                            667 ;pff.c:444: dj->index = 0;
   0409 DD 4E 04      [19]  668 	ld	c,4 (ix)
   040C DD 46 05      [19]  669 	ld	b,5 (ix)
   040F 69            [ 4]  670 	ld	l, c
   0410 60            [ 4]  671 	ld	h, b
   0411 AF            [ 4]  672 	xor	a, a
   0412 77            [ 7]  673 	ld	(hl), a
   0413 23            [ 6]  674 	inc	hl
   0414 77            [ 7]  675 	ld	(hl), a
                            676 ;pff.c:445: clst = dj->sclust;
   0415 C5            [11]  677 	push	bc
   0416 FD E1         [14]  678 	pop	iy
   0418 FD 7E 04      [19]  679 	ld	a,4 (iy)
   041B DD 77 FA      [19]  680 	ld	-6 (ix),a
   041E FD 7E 05      [19]  681 	ld	a,5 (iy)
   0421 DD 77 FB      [19]  682 	ld	-5 (ix),a
   0424 FD 7E 06      [19]  683 	ld	a,6 (iy)
   0427 DD 77 FC      [19]  684 	ld	-4 (ix),a
   042A FD 7E 07      [19]  685 	ld	a,7 (iy)
   042D DD 77 FD      [19]  686 	ld	-3 (ix),a
                            687 ;pff.c:446: if (clst == 1 || clst >= fs->n_fatent)	/* Check start cluster range */
   0430 DD 7E FA      [19]  688 	ld	a,-6 (ix)
   0433 3D            [ 4]  689 	dec	a
   0434 20 12         [12]  690 	jr	NZ,00133$
   0436 DD 7E FB      [19]  691 	ld	a,-5 (ix)
   0439 B7            [ 4]  692 	or	a, a
   043A 20 0C         [12]  693 	jr	NZ,00133$
   043C DD 7E FC      [19]  694 	ld	a,-4 (ix)
   043F B7            [ 4]  695 	or	a, a
   0440 20 06         [12]  696 	jr	NZ,00133$
   0442 DD 7E FD      [19]  697 	ld	a,-3 (ix)
   0445 B7            [ 4]  698 	or	a, a
   0446 28 21         [12]  699 	jr	Z,00101$
   0448                     700 00133$:
   0448 E1            [10]  701 	pop	hl
   0449 E5            [11]  702 	push	hl
   044A 11 06 00      [10]  703 	ld	de, #0x0006
   044D 19            [11]  704 	add	hl, de
   044E 5E            [ 7]  705 	ld	e,(hl)
   044F 23            [ 6]  706 	inc	hl
   0450 56            [ 7]  707 	ld	d,(hl)
   0451 23            [ 6]  708 	inc	hl
   0452 23            [ 6]  709 	inc	hl
   0453 7E            [ 7]  710 	ld	a,(hl)
   0454 2B            [ 6]  711 	dec	hl
   0455 66            [ 7]  712 	ld	h,(hl)
   0456 6F            [ 4]  713 	ld	l,a
   0457 DD 7E FA      [19]  714 	ld	a,-6 (ix)
   045A 93            [ 4]  715 	sub	a, e
   045B DD 7E FB      [19]  716 	ld	a,-5 (ix)
   045E 9A            [ 4]  717 	sbc	a, d
   045F DD 7E FC      [19]  718 	ld	a,-4 (ix)
   0462 9C            [ 4]  719 	sbc	a, h
   0463 DD 7E FD      [19]  720 	ld	a,-3 (ix)
   0466 9D            [ 4]  721 	sbc	a, l
   0467 38 05         [12]  722 	jr	C,00106$
   0469                     723 00101$:
                            724 ;pff.c:447: return FR_DISK_ERR;
   0469 2E 01         [ 7]  725 	ld	l,#0x01
   046B C3rF5r04      [10]  726 	jp	00109$
                            727 ;pff.c:448: if (_FS_FAT32 && !clst && (_FS_32ONLY || fs->fs_type == FS_FAT32))	/* Replace cluster# 0 with root cluster# if in FAT32 */
   046E                     728 00106$:
                            729 ;pff.c:449: clst = (CLUST)fs->dirbase;
   046E DD 7E F8      [19]  730 	ld	a,-8 (ix)
   0471 C6 0E         [ 7]  731 	add	a, #0x0E
   0473 5F            [ 4]  732 	ld	e,a
   0474 DD 7E F9      [19]  733 	ld	a,-7 (ix)
   0477 CE 00         [ 7]  734 	adc	a, #0x00
   0479 57            [ 4]  735 	ld	d,a
                            736 ;pff.c:448: if (_FS_FAT32 && !clst && (_FS_32ONLY || fs->fs_type == FS_FAT32))	/* Replace cluster# 0 with root cluster# if in FAT32 */
   047A DD 7E FD      [19]  737 	ld	a,-3 (ix)
   047D DD B6 FC      [19]  738 	or	a, -4 (ix)
   0480 DD B6 FB      [19]  739 	or	a, -5 (ix)
   0483 DD B6 FA      [19]  740 	or	a,-6 (ix)
   0486 20 15         [12]  741 	jr	NZ,00105$
   0488 E1            [10]  742 	pop	hl
   0489 E5            [11]  743 	push	hl
   048A 7E            [ 7]  744 	ld	a,(hl)
   048B D6 03         [ 7]  745 	sub	a, #0x03
   048D 20 0E         [12]  746 	jr	NZ,00105$
                            747 ;pff.c:449: clst = (CLUST)fs->dirbase;
   048F D5            [11]  748 	push	de
   0490 C5            [11]  749 	push	bc
   0491 21 06 00      [10]  750 	ld	hl, #0x0006
   0494 39            [11]  751 	add	hl, sp
   0495 EB            [ 4]  752 	ex	de, hl
   0496 01 04 00      [10]  753 	ld	bc, #0x0004
   0499 ED B0         [21]  754 	ldir
   049B C1            [10]  755 	pop	bc
   049C D1            [10]  756 	pop	de
   049D                     757 00105$:
                            758 ;pff.c:450: dj->clust = clst;						/* Current cluster */
   049D 21 08 00      [10]  759 	ld	hl,#0x0008
   04A0 09            [11]  760 	add	hl,bc
   04A1 D5            [11]  761 	push	de
   04A2 C5            [11]  762 	push	bc
   04A3 EB            [ 4]  763 	ex	de,hl
   04A4 21 06 00      [10]  764 	ld	hl, #0x0006
   04A7 39            [11]  765 	add	hl, sp
   04A8 01 04 00      [10]  766 	ld	bc, #0x0004
   04AB ED B0         [21]  767 	ldir
   04AD C1            [10]  768 	pop	bc
   04AE D1            [10]  769 	pop	de
                            770 ;pff.c:451: dj->sect = (_FS_32ONLY || clst) ? clust2sect(clst) : fs->dirbase;	/* Current sector */
   04AF 21 0C 00      [10]  771 	ld	hl,#0x000C
   04B2 09            [11]  772 	add	hl,bc
   04B3 DD 75 FE      [19]  773 	ld	-2 (ix),l
   04B6 DD 74 FF      [19]  774 	ld	-1 (ix),h
   04B9 DD 7E FD      [19]  775 	ld	a,-3 (ix)
   04BC DD B6 FC      [19]  776 	or	a, -4 (ix)
   04BF DD B6 FB      [19]  777 	or	a, -5 (ix)
   04C2 DD B6 FA      [19]  778 	or	a,-6 (ix)
   04C5 28 17         [12]  779 	jr	Z,00111$
   04C7 DD 6E FC      [19]  780 	ld	l,-4 (ix)
   04CA DD 66 FD      [19]  781 	ld	h,-3 (ix)
   04CD E5            [11]  782 	push	hl
   04CE DD 6E FA      [19]  783 	ld	l,-6 (ix)
   04D1 DD 66 FB      [19]  784 	ld	h,-5 (ix)
   04D4 E5            [11]  785 	push	hl
   04D5 CDrAAr02      [17]  786 	call	_clust2sect
   04D8 F1            [10]  787 	pop	af
   04D9 F1            [10]  788 	pop	af
   04DA 4D            [ 4]  789 	ld	c,l
   04DB 44            [ 4]  790 	ld	b,h
   04DC 18 08         [12]  791 	jr	00112$
   04DE                     792 00111$:
   04DE EB            [ 4]  793 	ex	de,hl
   04DF 4E            [ 7]  794 	ld	c,(hl)
   04E0 23            [ 6]  795 	inc	hl
   04E1 46            [ 7]  796 	ld	b,(hl)
   04E2 23            [ 6]  797 	inc	hl
   04E3 5E            [ 7]  798 	ld	e,(hl)
   04E4 23            [ 6]  799 	inc	hl
   04E5 56            [ 7]  800 	ld	d,(hl)
   04E6                     801 00112$:
   04E6 DD 6E FE      [19]  802 	ld	l,-2 (ix)
   04E9 DD 66 FF      [19]  803 	ld	h,-1 (ix)
   04EC 71            [ 7]  804 	ld	(hl),c
   04ED 23            [ 6]  805 	inc	hl
   04EE 70            [ 7]  806 	ld	(hl),b
   04EF 23            [ 6]  807 	inc	hl
   04F0 73            [ 7]  808 	ld	(hl),e
   04F1 23            [ 6]  809 	inc	hl
   04F2 72            [ 7]  810 	ld	(hl),d
                            811 ;pff.c:453: return FR_OK;	/* Seek succeeded */
   04F3 2E 00         [ 7]  812 	ld	l,#0x00
   04F5                     813 00109$:
   04F5 DD F9         [10]  814 	ld	sp, ix
   04F7 DD E1         [14]  815 	pop	ix
   04F9 C9            [10]  816 	ret
                            817 ;pff.c:464: FRESULT dir_next (	/* FR_OK:Succeeded, FR_NO_FILE:End of table */
                            818 ;	---------------------------------
                            819 ; Function dir_next
                            820 ; ---------------------------------
   04FA                     821 _dir_next:
   04FA DD E5         [15]  822 	push	ix
   04FC DD 21 00 00   [14]  823 	ld	ix,#0
   0500 DD 39         [15]  824 	add	ix,sp
   0502 21 F0 FF      [10]  825 	ld	hl,#-16
   0505 39            [11]  826 	add	hl,sp
   0506 F9            [ 6]  827 	ld	sp,hl
                            828 ;pff.c:470: FATFS *fs = FatFs;
   0507 2Ar00r00      [16]  829 	ld	hl,(_FatFs)
   050A DD 75 F2      [19]  830 	ld	-14 (ix),l
   050D DD 74 F3      [19]  831 	ld	-13 (ix),h
                            832 ;pff.c:473: i = dj->index + 1;
   0510 DD 7E 04      [19]  833 	ld	a,4 (ix)
   0513 DD 77 F6      [19]  834 	ld	-10 (ix),a
   0516 DD 7E 05      [19]  835 	ld	a,5 (ix)
   0519 DD 77 F7      [19]  836 	ld	-9 (ix),a
   051C DD 6E F6      [19]  837 	ld	l,-10 (ix)
   051F DD 66 F7      [19]  838 	ld	h,-9 (ix)
   0522 5E            [ 7]  839 	ld	e,(hl)
   0523 23            [ 6]  840 	inc	hl
   0524 56            [ 7]  841 	ld	d,(hl)
   0525 13            [ 6]  842 	inc	de
   0526 33            [ 6]  843 	inc	sp
   0527 33            [ 6]  844 	inc	sp
   0528 D5            [11]  845 	push	de
                            846 ;pff.c:474: if (!i || !dj->sect)	/* Report EOT when index has reached 65535 */
   0529 DD 7E F1      [19]  847 	ld	a,-15 (ix)
   052C DD B6 F0      [19]  848 	or	a,-16 (ix)
   052F 28 23         [12]  849 	jr	Z,00101$
   0531 DD 7E F6      [19]  850 	ld	a,-10 (ix)
   0534 C6 0C         [ 7]  851 	add	a, #0x0C
   0536 DD 77 F4      [19]  852 	ld	-12 (ix),a
   0539 DD 7E F7      [19]  853 	ld	a,-9 (ix)
   053C CE 00         [ 7]  854 	adc	a, #0x00
   053E DD 77 F5      [19]  855 	ld	-11 (ix),a
   0541 DD 6E F4      [19]  856 	ld	l,-12 (ix)
   0544 DD 66 F5      [19]  857 	ld	h,-11 (ix)
   0547 5E            [ 7]  858 	ld	e,(hl)
   0548 23            [ 6]  859 	inc	hl
   0549 56            [ 7]  860 	ld	d,(hl)
   054A 23            [ 6]  861 	inc	hl
   054B 4E            [ 7]  862 	ld	c,(hl)
   054C 23            [ 6]  863 	inc	hl
   054D 46            [ 7]  864 	ld	b,(hl)
   054E 78            [ 4]  865 	ld	a,b
   054F B1            [ 4]  866 	or	a, c
   0550 B2            [ 4]  867 	or	a, d
   0551 B3            [ 4]  868 	or	a,e
   0552 20 05         [12]  869 	jr	NZ,00102$
   0554                     870 00101$:
                            871 ;pff.c:475: return FR_NO_FILE;
   0554 2E 03         [ 7]  872 	ld	l,#0x03
   0556 C3r82r06      [10]  873 	jp	00117$
   0559                     874 00102$:
                            875 ;pff.c:477: if (!(i % 16)) {		/* Sector changed? */
   0559 DD 7E F0      [19]  876 	ld	a,-16 (ix)
   055C E6 0F         [ 7]  877 	and	a, #0x0F
   055E C2r71r06      [10]  878 	jp	NZ,00116$
                            879 ;pff.c:478: dj->sect++;			/* Next sector */
   0561 1C            [ 4]  880 	inc	e
   0562 20 07         [12]  881 	jr	NZ,00149$
   0564 14            [ 4]  882 	inc	d
   0565 20 04         [12]  883 	jr	NZ,00149$
   0567 0C            [ 4]  884 	inc	c
   0568 20 01         [12]  885 	jr	NZ,00149$
   056A 04            [ 4]  886 	inc	b
   056B                     887 00149$:
   056B DD 6E F4      [19]  888 	ld	l,-12 (ix)
   056E DD 66 F5      [19]  889 	ld	h,-11 (ix)
   0571 73            [ 7]  890 	ld	(hl),e
   0572 23            [ 6]  891 	inc	hl
   0573 72            [ 7]  892 	ld	(hl),d
   0574 23            [ 6]  893 	inc	hl
   0575 71            [ 7]  894 	ld	(hl),c
   0576 23            [ 6]  895 	inc	hl
   0577 70            [ 7]  896 	ld	(hl),b
                            897 ;pff.c:480: if (dj->clust == 0) {	/* Static table */
   0578 DD 7E F6      [19]  898 	ld	a,-10 (ix)
   057B C6 08         [ 7]  899 	add	a, #0x08
   057D DD 77 FE      [19]  900 	ld	-2 (ix),a
   0580 DD 7E F7      [19]  901 	ld	a,-9 (ix)
   0583 CE 00         [ 7]  902 	adc	a, #0x00
   0585 DD 77 FF      [19]  903 	ld	-1 (ix),a
   0588 DD 6E FE      [19]  904 	ld	l,-2 (ix)
   058B DD 66 FF      [19]  905 	ld	h,-1 (ix)
   058E 5E            [ 7]  906 	ld	e,(hl)
   058F 23            [ 6]  907 	inc	hl
   0590 56            [ 7]  908 	ld	d,(hl)
   0591 23            [ 6]  909 	inc	hl
   0592 4E            [ 7]  910 	ld	c,(hl)
   0593 23            [ 6]  911 	inc	hl
   0594 46            [ 7]  912 	ld	b,(hl)
   0595 78            [ 4]  913 	ld	a,b
   0596 B1            [ 4]  914 	or	a, c
   0597 B2            [ 4]  915 	or	a, d
   0598 B3            [ 4]  916 	or	a,e
   0599 20 1B         [12]  917 	jr	NZ,00113$
                            918 ;pff.c:481: if (i >= fs->n_rootdir)	/* Report EOT when end of table */
   059B C1            [10]  919 	pop	bc
   059C E1            [10]  920 	pop	hl
   059D E5            [11]  921 	push	hl
   059E C5            [11]  922 	push	bc
   059F 11 04 00      [10]  923 	ld	de, #0x0004
   05A2 19            [11]  924 	add	hl, de
   05A3 5E            [ 7]  925 	ld	e,(hl)
   05A4 23            [ 6]  926 	inc	hl
   05A5 66            [ 7]  927 	ld	h,(hl)
   05A6 DD 7E F0      [19]  928 	ld	a,-16 (ix)
   05A9 93            [ 4]  929 	sub	a, e
   05AA DD 7E F1      [19]  930 	ld	a,-15 (ix)
   05AD 9C            [ 4]  931 	sbc	a, h
   05AE DAr71r06      [10]  932 	jp	C,00116$
                            933 ;pff.c:482: return FR_NO_FILE;
   05B1 2E 03         [ 7]  934 	ld	l,#0x03
   05B3 C3r82r06      [10]  935 	jp	00117$
   05B6                     936 00113$:
                            937 ;pff.c:485: if (((i / 16) & (fs->csize - 1)) == 0) {	/* Cluster changed? */
   05B6 DD 7E F0      [19]  938 	ld	a,-16 (ix)
   05B9 DD 77 F8      [19]  939 	ld	-8 (ix),a
   05BC DD 7E F1      [19]  940 	ld	a,-15 (ix)
   05BF DD 77 F9      [19]  941 	ld	-7 (ix),a
   05C2 DD CB F9 3E   [23]  942 	srl	-7 (ix)
   05C6 DD CB F8 1E   [23]  943 	rr	-8 (ix)
   05CA DD CB F9 3E   [23]  944 	srl	-7 (ix)
   05CE DD CB F8 1E   [23]  945 	rr	-8 (ix)
   05D2 DD CB F9 3E   [23]  946 	srl	-7 (ix)
   05D6 DD CB F8 1E   [23]  947 	rr	-8 (ix)
   05DA DD CB F9 3E   [23]  948 	srl	-7 (ix)
   05DE DD CB F8 1E   [23]  949 	rr	-8 (ix)
   05E2 DD 6E F2      [19]  950 	ld	l,-14 (ix)
   05E5 DD 66 F3      [19]  951 	ld	h,-13 (ix)
   05E8 23            [ 6]  952 	inc	hl
   05E9 23            [ 6]  953 	inc	hl
   05EA 6E            [ 7]  954 	ld	l,(hl)
   05EB 26 00         [ 7]  955 	ld	h,#0x00
   05ED 2B            [ 6]  956 	dec	hl
   05EE 7D            [ 4]  957 	ld	a,l
   05EF DD A6 F8      [19]  958 	and	a, -8 (ix)
   05F2 6F            [ 4]  959 	ld	l,a
   05F3 7C            [ 4]  960 	ld	a,h
   05F4 DD A6 F9      [19]  961 	and	a, -7 (ix)
   05F7 B5            [ 4]  962 	or	a,l
   05F8 20 77         [12]  963 	jr	NZ,00116$
                            964 ;pff.c:486: clst = get_fat(dj->clust);		/* Get next cluster */
   05FA C5            [11]  965 	push	bc
   05FB D5            [11]  966 	push	de
   05FC CDr8Ar00      [17]  967 	call	_get_fat
   05FF F1            [10]  968 	pop	af
   0600 F1            [10]  969 	pop	af
   0601 4D            [ 4]  970 	ld	c,l
   0602 44            [ 4]  971 	ld	b,h
                            972 ;pff.c:487: if (clst <= 1) return FR_DISK_ERR;
   0603 3E 01         [ 7]  973 	ld	a,#0x01
   0605 B9            [ 4]  974 	cp	a, c
   0606 3E 00         [ 7]  975 	ld	a,#0x00
   0608 98            [ 4]  976 	sbc	a, b
   0609 3E 00         [ 7]  977 	ld	a,#0x00
   060B 9B            [ 4]  978 	sbc	a, e
   060C 3E 00         [ 7]  979 	ld	a,#0x00
   060E 9A            [ 4]  980 	sbc	a, d
   060F 38 04         [12]  981 	jr	C,00107$
   0611 2E 01         [ 7]  982 	ld	l,#0x01
   0613 18 6D         [12]  983 	jr	00117$
   0615                     984 00107$:
                            985 ;pff.c:488: if (clst >= fs->n_fatent)		/* When it reached end of dynamic table */
   0615 E5            [11]  986 	push	hl
   0616 DD 6E F2      [19]  987 	ld	l,-14 (ix)
   0619 DD 66 F3      [19]  988 	ld	h,-13 (ix)
   061C E5            [11]  989 	push	hl
   061D FD E1         [14]  990 	pop	iy
   061F E1            [10]  991 	pop	hl
   0620 FD 7E 06      [19]  992 	ld	a,6 (iy)
   0623 DD 77 FA      [19]  993 	ld	-6 (ix),a
   0626 FD 7E 07      [19]  994 	ld	a,7 (iy)
   0629 DD 77 FB      [19]  995 	ld	-5 (ix),a
   062C FD 7E 08      [19]  996 	ld	a,8 (iy)
   062F DD 77 FC      [19]  997 	ld	-4 (ix),a
   0632 FD 7E 09      [19]  998 	ld	a,9 (iy)
   0635 DD 77 FD      [19]  999 	ld	-3 (ix),a
   0638 79            [ 4] 1000 	ld	a,c
   0639 DD 96 FA      [19] 1001 	sub	a, -6 (ix)
   063C 78            [ 4] 1002 	ld	a,b
   063D DD 9E FB      [19] 1003 	sbc	a, -5 (ix)
   0640 7B            [ 4] 1004 	ld	a,e
   0641 DD 9E FC      [19] 1005 	sbc	a, -4 (ix)
   0644 7A            [ 4] 1006 	ld	a,d
   0645 DD 9E FD      [19] 1007 	sbc	a, -3 (ix)
   0648 38 04         [12] 1008 	jr	C,00109$
                           1009 ;pff.c:489: return FR_NO_FILE;			/* Report EOT */
   064A 2E 03         [ 7] 1010 	ld	l,#0x03
   064C 18 34         [12] 1011 	jr	00117$
   064E                    1012 00109$:
                           1013 ;pff.c:490: dj->clust = clst;				/* Initialize data for new cluster */
   064E DD 6E FE      [19] 1014 	ld	l,-2 (ix)
   0651 DD 66 FF      [19] 1015 	ld	h,-1 (ix)
   0654 71            [ 7] 1016 	ld	(hl),c
   0655 23            [ 6] 1017 	inc	hl
   0656 70            [ 7] 1018 	ld	(hl),b
   0657 23            [ 6] 1019 	inc	hl
   0658 73            [ 7] 1020 	ld	(hl),e
   0659 23            [ 6] 1021 	inc	hl
   065A 72            [ 7] 1022 	ld	(hl),d
                           1023 ;pff.c:491: dj->sect = clust2sect(clst);
   065B D5            [11] 1024 	push	de
   065C C5            [11] 1025 	push	bc
   065D CDrAAr02      [17] 1026 	call	_clust2sect
   0660 F1            [10] 1027 	pop	af
   0661 F1            [10] 1028 	pop	af
   0662 45            [ 4] 1029 	ld	b,l
   0663 4C            [ 4] 1030 	ld	c,h
   0664 DD 6E F4      [19] 1031 	ld	l,-12 (ix)
   0667 DD 66 F5      [19] 1032 	ld	h,-11 (ix)
   066A 70            [ 7] 1033 	ld	(hl),b
   066B 23            [ 6] 1034 	inc	hl
   066C 71            [ 7] 1035 	ld	(hl),c
   066D 23            [ 6] 1036 	inc	hl
   066E 73            [ 7] 1037 	ld	(hl),e
   066F 23            [ 6] 1038 	inc	hl
   0670 72            [ 7] 1039 	ld	(hl),d
   0671                    1040 00116$:
                           1041 ;pff.c:496: dj->index = i;
   0671 DD 6E F6      [19] 1042 	ld	l,-10 (ix)
   0674 DD 66 F7      [19] 1043 	ld	h,-9 (ix)
   0677 DD 7E F0      [19] 1044 	ld	a,-16 (ix)
   067A 77            [ 7] 1045 	ld	(hl),a
   067B 23            [ 6] 1046 	inc	hl
   067C DD 7E F1      [19] 1047 	ld	a,-15 (ix)
   067F 77            [ 7] 1048 	ld	(hl),a
                           1049 ;pff.c:498: return FR_OK;
   0680 2E 00         [ 7] 1050 	ld	l,#0x00
   0682                    1051 00117$:
   0682 DD F9         [10] 1052 	ld	sp, ix
   0684 DD E1         [14] 1053 	pop	ix
   0686 C9            [10] 1054 	ret
                           1055 ;pff.c:509: FRESULT dir_find (
                           1056 ;	---------------------------------
                           1057 ; Function dir_find
                           1058 ; ---------------------------------
   0687                    1059 _dir_find:
   0687 DD E5         [15] 1060 	push	ix
   0689 DD 21 00 00   [14] 1061 	ld	ix,#0
   068D DD 39         [15] 1062 	add	ix,sp
   068F 21 F9 FF      [10] 1063 	ld	hl,#-7
   0692 39            [11] 1064 	add	hl,sp
   0693 F9            [ 6] 1065 	ld	sp,hl
                           1066 ;pff.c:518: res = dir_rewind(dj);			/* Rewind directory object */
   0694 DD 6E 04      [19] 1067 	ld	l,4 (ix)
   0697 DD 66 05      [19] 1068 	ld	h,5 (ix)
   069A E5            [11] 1069 	push	hl
   069B CDrF8r03      [17] 1070 	call	_dir_rewind
   069E F1            [10] 1071 	pop	af
                           1072 ;pff.c:519: if (res != FR_OK) return res;
   069F 7D            [ 4] 1073 	ld	a,l
   06A0 B7            [ 4] 1074 	or	a, a
                           1075 ;pff.c:521: do {
   06A1 C2r64r07      [10] 1076 	jp	NZ,00113$
   06A4 DD 4E 04      [19] 1077 	ld	c,4 (ix)
   06A7 DD 46 05      [19] 1078 	ld	b,5 (ix)
   06AA DD 71 FE      [19] 1079 	ld	-2 (ix),c
   06AD DD 70 FF      [19] 1080 	ld	-1 (ix),b
   06B0                    1081 00110$:
                           1082 ;pff.c:522: res = disk_readp(dir, dj->sect, (dj->index % 16) * 32, 32)	/* Read an entry */
   06B0 69            [ 4] 1083 	ld	l, c
   06B1 60            [ 4] 1084 	ld	h, b
   06B2 56            [ 7] 1085 	ld	d,(hl)
   06B3 23            [ 6] 1086 	inc	hl
   06B4 66            [ 7] 1087 	ld	h,(hl)
   06B5 7A            [ 4] 1088 	ld	a,d
   06B6 E6 0F         [ 7] 1089 	and	a, #0x0F
   06B8 6F            [ 4] 1090 	ld	l,a
   06B9 26 00         [ 7] 1091 	ld	h,#0x00
   06BB 29            [11] 1092 	add	hl, hl
   06BC 29            [11] 1093 	add	hl, hl
   06BD 29            [11] 1094 	add	hl, hl
   06BE 29            [11] 1095 	add	hl, hl
   06BF 29            [11] 1096 	add	hl, hl
   06C0 EB            [ 4] 1097 	ex	de,hl
   06C1 DD 6E FE      [19] 1098 	ld	l,-2 (ix)
   06C4 DD 66 FF      [19] 1099 	ld	h,-1 (ix)
   06C7 C5            [11] 1100 	push	bc
   06C8 01 0C 00      [10] 1101 	ld	bc, #0x000C
   06CB 09            [11] 1102 	add	hl, bc
   06CC C1            [10] 1103 	pop	bc
   06CD 7E            [ 7] 1104 	ld	a,(hl)
   06CE DD 77 FA      [19] 1105 	ld	-6 (ix),a
   06D1 23            [ 6] 1106 	inc	hl
   06D2 7E            [ 7] 1107 	ld	a,(hl)
   06D3 DD 77 FB      [19] 1108 	ld	-5 (ix),a
   06D6 23            [ 6] 1109 	inc	hl
   06D7 7E            [ 7] 1110 	ld	a,(hl)
   06D8 DD 77 FC      [19] 1111 	ld	-4 (ix),a
   06DB 23            [ 6] 1112 	inc	hl
   06DC 7E            [ 7] 1113 	ld	a,(hl)
   06DD DD 77 FD      [19] 1114 	ld	-3 (ix),a
   06E0 C5            [11] 1115 	push	bc
   06E1 21 20 00      [10] 1116 	ld	hl,#0x0020
   06E4 E5            [11] 1117 	push	hl
   06E5 D5            [11] 1118 	push	de
   06E6 DD 6E FC      [19] 1119 	ld	l,-4 (ix)
   06E9 DD 66 FD      [19] 1120 	ld	h,-3 (ix)
   06EC E5            [11] 1121 	push	hl
   06ED DD 6E FA      [19] 1122 	ld	l,-6 (ix)
   06F0 DD 66 FB      [19] 1123 	ld	h,-5 (ix)
   06F3 E5            [11] 1124 	push	hl
   06F4 DD 6E 06      [19] 1125 	ld	l,6 (ix)
   06F7 DD 66 07      [19] 1126 	ld	h,7 (ix)
   06FA E5            [11] 1127 	push	hl
   06FB CDr00r00      [17] 1128 	call	_disk_readp
   06FE FD 21 0A 00   [14] 1129 	ld	iy,#10
   0702 FD 39         [15] 1130 	add	iy,sp
   0704 FD F9         [10] 1131 	ld	sp,iy
   0706 7D            [ 4] 1132 	ld	a,l
   0707 C1            [10] 1133 	pop	bc
   0708 B7            [ 4] 1134 	or	a, a
   0709 28 04         [12] 1135 	jr	Z,00115$
                           1136 ;pff.c:523: ? FR_DISK_ERR : FR_OK;
   070B 3E 01         [ 7] 1137 	ld	a,#0x01
   070D 18 02         [12] 1138 	jr	00116$
   070F                    1139 00115$:
   070F 3E 00         [ 7] 1140 	ld	a,#0x00
   0711                    1141 00116$:
                           1142 ;pff.c:524: if (res != FR_OK) break;
   0711 DD 77 F9      [19] 1143 	ld	-7 (ix), a
   0714 B7            [ 4] 1144 	or	a, a
   0715 20 4A         [12] 1145 	jr	NZ,00112$
                           1146 ;pff.c:525: c = dir[DIR_Name];	/* First character */
   0717 DD 6E 06      [19] 1147 	ld	l,6 (ix)
   071A DD 66 07      [19] 1148 	ld	h,7 (ix)
   071D 7E            [ 7] 1149 	ld	a,(hl)
                           1150 ;pff.c:526: if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
   071E B7            [ 4] 1151 	or	a, a
   071F 20 06         [12] 1152 	jr	NZ,00106$
   0721 DD 36 F9 03   [19] 1153 	ld	-7 (ix),#0x03
   0725 18 3A         [12] 1154 	jr	00112$
   0727                    1155 00106$:
                           1156 ;pff.c:527: if (!(dir[DIR_Attr] & AM_VOL) && !mem_cmp(dir, dj->fn, 11)) /* Is it a valid entry? */
   0727 11 0B 00      [10] 1157 	ld	de, #0x000B
   072A 19            [11] 1158 	add	hl, de
   072B CB 5E         [12] 1159 	bit	3,(hl)
   072D 20 23         [12] 1160 	jr	NZ,00108$
   072F 69            [ 4] 1161 	ld	l, c
   0730 60            [ 4] 1162 	ld	h, b
   0731 23            [ 6] 1163 	inc	hl
   0732 23            [ 6] 1164 	inc	hl
   0733 5E            [ 7] 1165 	ld	e,(hl)
   0734 23            [ 6] 1166 	inc	hl
   0735 56            [ 7] 1167 	ld	d,(hl)
   0736 D5            [11] 1168 	push	de
   0737 FD E1         [14] 1169 	pop	iy
   0739 DD 6E 06      [19] 1170 	ld	l,6 (ix)
   073C DD 66 07      [19] 1171 	ld	h,7 (ix)
   073F C5            [11] 1172 	push	bc
   0740 11 0B 00      [10] 1173 	ld	de,#0x000B
   0743 D5            [11] 1174 	push	de
   0744 FD E5         [15] 1175 	push	iy
   0746 E5            [11] 1176 	push	hl
   0747 CDr25r00      [17] 1177 	call	_mem_cmp
   074A F1            [10] 1178 	pop	af
   074B F1            [10] 1179 	pop	af
   074C F1            [10] 1180 	pop	af
   074D C1            [10] 1181 	pop	bc
   074E 7C            [ 4] 1182 	ld	a,h
   074F B5            [ 4] 1183 	or	a,l
   0750 28 0F         [12] 1184 	jr	Z,00112$
                           1185 ;pff.c:528: break;
   0752                    1186 00108$:
                           1187 ;pff.c:529: res = dir_next(dj);					/* Next entry */
   0752 C5            [11] 1188 	push	bc
   0753 C5            [11] 1189 	push	bc
   0754 CDrFAr04      [17] 1190 	call	_dir_next
   0757 F1            [10] 1191 	pop	af
   0758 C1            [10] 1192 	pop	bc
                           1193 ;pff.c:530: } while (res == FR_OK);
   0759 DD 75 F9      [19] 1194 	ld	-7 (ix), l
   075C 7D            [ 4] 1195 	ld	a, l
   075D B7            [ 4] 1196 	or	a, a
   075E CArB0r06      [10] 1197 	jp	Z,00110$
   0761                    1198 00112$:
                           1199 ;pff.c:532: return res;
   0761 DD 6E F9      [19] 1200 	ld	l,-7 (ix)
   0764                    1201 00113$:
   0764 DD F9         [10] 1202 	ld	sp, ix
   0766 DD E1         [14] 1203 	pop	ix
   0768 C9            [10] 1204 	ret
                           1205 ;pff.c:580: FRESULT create_name (
                           1206 ;	---------------------------------
                           1207 ; Function create_name
                           1208 ; ---------------------------------
   0769                    1209 _create_name:
   0769 DD E5         [15] 1210 	push	ix
   076B DD 21 00 00   [14] 1211 	ld	ix,#0
   076F DD 39         [15] 1212 	add	ix,sp
   0771 21 FA FF      [10] 1213 	ld	hl,#-6
   0774 39            [11] 1214 	add	hl,sp
   0775 F9            [ 6] 1215 	ld	sp,hl
                           1216 ;pff.c:594: sfn = dj->fn;
   0776 DD 6E 04      [19] 1217 	ld	l,4 (ix)
   0779 DD 66 05      [19] 1218 	ld	h,5 (ix)
   077C 23            [ 6] 1219 	inc	hl
   077D 23            [ 6] 1220 	inc	hl
   077E 7E            [ 7] 1221 	ld	a,(hl)
   077F DD 77 FC      [19] 1222 	ld	-4 (ix),a
   0782 23            [ 6] 1223 	inc	hl
   0783 7E            [ 7] 1224 	ld	a,(hl)
   0784 DD 77 FD      [19] 1225 	ld	-3 (ix),a
                           1226 ;pff.c:595: mem_set(sfn, ' ', 11);
   0787 C1            [10] 1227 	pop	bc
   0788 E1            [10] 1228 	pop	hl
   0789 E5            [11] 1229 	push	hl
   078A C5            [11] 1230 	push	bc
   078B 01 0B 00      [10] 1231 	ld	bc,#0x000B
   078E C5            [11] 1232 	push	bc
   078F 01 20 00      [10] 1233 	ld	bc,#0x0020
   0792 C5            [11] 1234 	push	bc
   0793 E5            [11] 1235 	push	hl
   0794 CDr00r00      [17] 1236 	call	_mem_set
   0797 21 06 00      [10] 1237 	ld	hl,#6
   079A 39            [11] 1238 	add	hl,sp
   079B F9            [ 6] 1239 	ld	sp,hl
                           1240 ;pff.c:596: si = i = 0; ni = 8;
   079C DD 36 FE 00   [19] 1241 	ld	-2 (ix),#0x00
   07A0 DD 36 FB 08   [19] 1242 	ld	-5 (ix),#0x08
                           1243 ;pff.c:597: p = *path;
   07A4 DD 4E 06      [19] 1244 	ld	c,6 (ix)
   07A7 DD 46 07      [19] 1245 	ld	b,7 (ix)
   07AA 69            [ 4] 1246 	ld	l, c
   07AB 60            [ 4] 1247 	ld	h, b
   07AC 5E            [ 7] 1248 	ld	e,(hl)
   07AD 23            [ 6] 1249 	inc	hl
   07AE 56            [ 7] 1250 	ld	d,(hl)
   07AF DD 36 FA 00   [19] 1251 	ld	-6 (ix),#0x00
   07B3                    1252 00116$:
                           1253 ;pff.c:599: c = p[si++];
   07B3 DD 6E FA      [19] 1254 	ld	l,-6 (ix)
   07B6 DD 34 FA      [23] 1255 	inc	-6 (ix)
   07B9 26 00         [ 7] 1256 	ld	h,#0x00
   07BB 19            [11] 1257 	add	hl,de
   07BC 66            [ 7] 1258 	ld	h,(hl)
                           1259 ;pff.c:600: if (c <= ' ' || c == '/') break;	/* Break on end of segment */
   07BD 3E 20         [ 7] 1260 	ld	a,#0x20
   07BF 94            [ 4] 1261 	sub	a, h
   07C0 3E 00         [ 7] 1262 	ld	a,#0x00
   07C2 17            [ 4] 1263 	rla
   07C3 DD 77 FF      [19] 1264 	ld	-1 (ix), a
   07C6 B7            [ 4] 1265 	or	a, a
   07C7 28 4B         [12] 1266 	jr	Z,00115$
                           1267 ;pff.c:601: if (c == '.' || i >= ni) {
   07C9 7C            [ 4] 1268 	ld	a,h
   07CA FE 2F         [ 7] 1269 	cp	a,#0x2F
   07CC 28 46         [12] 1270 	jr	Z,00115$
   07CE D6 2E         [ 7] 1271 	sub	a, #0x2E
   07D0 20 04         [12] 1272 	jr	NZ,00151$
   07D2 3E 01         [ 7] 1273 	ld	a,#0x01
   07D4 18 01         [12] 1274 	jr	00152$
   07D6                    1275 00151$:
   07D6 AF            [ 4] 1276 	xor	a,a
   07D7                    1277 00152$:
   07D7 6F            [ 4] 1278 	ld	l,a
   07D8 B7            [ 4] 1279 	or	a, a
   07D9 20 08         [12] 1280 	jr	NZ,00107$
   07DB DD 7E FE      [19] 1281 	ld	a,-2 (ix)
   07DE DD 96 FB      [19] 1282 	sub	a, -5 (ix)
   07E1 38 14         [12] 1283 	jr	C,00111$
   07E3                    1284 00107$:
                           1285 ;pff.c:602: if (ni != 8 || c != '.') break;
   07E3 DD 7E FB      [19] 1286 	ld	a,-5 (ix)
   07E6 D6 08         [ 7] 1287 	sub	a,#0x08
   07E8 20 2A         [12] 1288 	jr	NZ,00115$
   07EA B5            [ 4] 1289 	or	a,l
   07EB 28 27         [12] 1290 	jr	Z,00115$
                           1291 ;pff.c:603: i = 8; ni = 11;
   07ED DD 36 FE 08   [19] 1292 	ld	-2 (ix),#0x08
   07F1 DD 36 FB 0B   [19] 1293 	ld	-5 (ix),#0x0B
                           1294 ;pff.c:604: continue;
   07F5 18 BC         [12] 1295 	jr	00116$
                           1296 ;pff.c:618: if (_USE_LCC && IsLower(c)) c -= 0x20;	/* toupper */
   07F7                    1297 00111$:
                           1298 ;pff.c:619: sfn[i++] = c;
   07F7 DD 6E FE      [19] 1299 	ld	l,-2 (ix)
   07FA DD 34 FE      [23] 1300 	inc	-2 (ix)
   07FD E5            [11] 1301 	push	hl
   07FE DD 6E FC      [19] 1302 	ld	l,-4 (ix)
   0801 DD 66 FD      [19] 1303 	ld	h,-3 (ix)
   0804 E5            [11] 1304 	push	hl
   0805 FD E1         [14] 1305 	pop	iy
   0807 E1            [10] 1306 	pop	hl
   0808 C5            [11] 1307 	push	bc
   0809 4D            [ 4] 1308 	ld	c,l
   080A 06 00         [ 7] 1309 	ld	b,#0x00
   080C FD 09         [15] 1310 	add	iy, bc
   080E C1            [10] 1311 	pop	bc
   080F FD 74 00      [19] 1312 	ld	0 (iy), h
   0812 18 9F         [12] 1313 	jr	00116$
   0814                    1314 00115$:
                           1315 ;pff.c:622: *path = &p[si];						/* Rerurn pointer to the next segment */
   0814 7B            [ 4] 1316 	ld	a,e
   0815 DD 86 FA      [19] 1317 	add	a, -6 (ix)
   0818 5F            [ 4] 1318 	ld	e,a
   0819 7A            [ 4] 1319 	ld	a,d
   081A CE 00         [ 7] 1320 	adc	a, #0x00
   081C 57            [ 4] 1321 	ld	d,a
   081D 7B            [ 4] 1322 	ld	a,e
   081E 02            [ 7] 1323 	ld	(bc),a
   081F 03            [ 6] 1324 	inc	bc
   0820 7A            [ 4] 1325 	ld	a,d
   0821 02            [ 7] 1326 	ld	(bc),a
                           1327 ;pff.c:624: sfn[11] = (c <= ' ') ? 1 : 0;		/* Set last segment flag if end of path */
   0822 DD 7E FC      [19] 1328 	ld	a,-4 (ix)
   0825 C6 0B         [ 7] 1329 	add	a, #0x0B
   0827 5F            [ 4] 1330 	ld	e,a
   0828 DD 7E FD      [19] 1331 	ld	a,-3 (ix)
   082B CE 00         [ 7] 1332 	adc	a, #0x00
   082D 57            [ 4] 1333 	ld	d,a
   082E DD 7E FF      [19] 1334 	ld	a,-1 (ix)
   0831 D6 01         [ 7] 1335 	sub	a,#0x01
   0833 3E 00         [ 7] 1336 	ld	a,#0x00
   0835 17            [ 4] 1337 	rla
   0836 B7            [ 4] 1338 	or	a, a
   0837 28 04         [12] 1339 	jr	Z,00119$
   0839 3E 01         [ 7] 1340 	ld	a,#0x01
   083B 18 02         [12] 1341 	jr	00120$
   083D                    1342 00119$:
   083D 3E 00         [ 7] 1343 	ld	a,#0x00
   083F                    1344 00120$:
   083F 12            [ 7] 1345 	ld	(de),a
                           1346 ;pff.c:626: return FR_OK;
   0840 2E 00         [ 7] 1347 	ld	l,#0x00
   0842 DD F9         [10] 1348 	ld	sp, ix
   0844 DD E1         [14] 1349 	pop	ix
   0846 C9            [10] 1350 	ret
                           1351 ;pff.c:679: FRESULT follow_path (	/* FR_OK(0): successful, !=0: error code */
                           1352 ;	---------------------------------
                           1353 ; Function follow_path
                           1354 ; ---------------------------------
   0847                    1355 _follow_path:
   0847 DD E5         [15] 1356 	push	ix
   0849 DD 21 00 00   [14] 1357 	ld	ix,#0
   084D DD 39         [15] 1358 	add	ix,sp
   084F 21 F7 FF      [10] 1359 	ld	hl,#-9
   0852 39            [11] 1360 	add	hl,sp
   0853 F9            [ 6] 1361 	ld	sp,hl
                           1362 ;pff.c:688: while (*path == ' ') path++;		/* Strip leading spaces */
   0854 DD 6E 08      [19] 1363 	ld	l,8 (ix)
   0857 DD 66 09      [19] 1364 	ld	h,9 (ix)
   085A                    1365 00101$:
   085A 46            [ 7] 1366 	ld	b,(hl)
   085B 5D            [ 4] 1367 	ld	e, l
   085C 54            [ 4] 1368 	ld	d, h
   085D 13            [ 6] 1369 	inc	de
   085E 78            [ 4] 1370 	ld	a,b
   085F D6 20         [ 7] 1371 	sub	a, #0x20
   0861 20 0A         [12] 1372 	jr	NZ,00131$
   0863 6B            [ 4] 1373 	ld	l, e
   0864 62            [ 4] 1374 	ld	h, d
   0865 DD 73 08      [19] 1375 	ld	8 (ix),e
   0868 DD 72 09      [19] 1376 	ld	9 (ix),d
   086B 18 ED         [12] 1377 	jr	00101$
   086D                    1378 00131$:
   086D DD 75 08      [19] 1379 	ld	8 (ix),l
   0870 DD 74 09      [19] 1380 	ld	9 (ix),h
                           1381 ;pff.c:689: if (*path == '/') path++;			/* Strip heading separator if exist */
   0873 78            [ 4] 1382 	ld	a,b
   0874 D6 2F         [ 7] 1383 	sub	a, #0x2F
   0876 20 06         [12] 1384 	jr	NZ,00105$
   0878 DD 73 08      [19] 1385 	ld	8 (ix),e
   087B DD 72 09      [19] 1386 	ld	9 (ix),d
   087E                    1387 00105$:
                           1388 ;pff.c:690: dj->sclust = 0;						/* Set start directory (always root dir) */
   087E DD 4E 04      [19] 1389 	ld	c,4 (ix)
   0881 DD 46 05      [19] 1390 	ld	b,5 (ix)
   0884 21 04 00      [10] 1391 	ld	hl,#0x0004
   0887 09            [11] 1392 	add	hl,bc
   0888 5D            [ 4] 1393 	ld	e,l
   0889 54            [ 4] 1394 	ld	d,h
   088A AF            [ 4] 1395 	xor	a, a
   088B 77            [ 7] 1396 	ld	(hl), a
   088C 23            [ 6] 1397 	inc	hl
   088D 77            [ 7] 1398 	ld	(hl), a
   088E 23            [ 6] 1399 	inc	hl
   088F AF            [ 4] 1400 	xor	a, a
   0890 77            [ 7] 1401 	ld	(hl), a
   0891 23            [ 6] 1402 	inc	hl
   0892 77            [ 7] 1403 	ld	(hl), a
                           1404 ;pff.c:692: if ((BYTE)*path < ' ') {			/* Null path means the root directory */
   0893 DD 6E 08      [19] 1405 	ld	l,8 (ix)
   0896 DD 66 09      [19] 1406 	ld	h,9 (ix)
   0899 7E            [ 7] 1407 	ld	a, (hl)
   089A D6 20         [ 7] 1408 	sub	a, #0x20
   089C 30 13         [12] 1409 	jr	NC,00130$
                           1410 ;pff.c:693: res = dir_rewind(dj);
   089E C5            [11] 1411 	push	bc
   089F CDrF8r03      [17] 1412 	call	_dir_rewind
   08A2 F1            [10] 1413 	pop	af
   08A3 DD 75 F7      [19] 1414 	ld	-9 (ix),l
                           1415 ;pff.c:694: dir[0] = 0;
   08A6 DD 6E 06      [19] 1416 	ld	l,6 (ix)
   08A9 DD 66 07      [19] 1417 	ld	h,7 (ix)
   08AC 36 00         [10] 1418 	ld	(hl),#0x00
   08AE C3r48r09      [10] 1419 	jp	00117$
   08B1                    1420 00130$:
   08B1 DD 71 FE      [19] 1421 	ld	-2 (ix),c
   08B4 DD 70 FF      [19] 1422 	ld	-1 (ix),b
   08B7 DD 7E 06      [19] 1423 	ld	a,6 (ix)
   08BA DD 77 FC      [19] 1424 	ld	-4 (ix),a
   08BD DD 7E 07      [19] 1425 	ld	a,7 (ix)
   08C0 DD 77 FD      [19] 1426 	ld	-3 (ix),a
   08C3                    1427 00118$:
                           1428 ;pff.c:698: res = create_name(dj, &path);	/* Get a segment */
   08C3 21 11 00      [10] 1429 	ld	hl,#0x0011
   08C6 39            [11] 1430 	add	hl,sp
   08C7 C5            [11] 1431 	push	bc
   08C8 D5            [11] 1432 	push	de
   08C9 E5            [11] 1433 	push	hl
   08CA C5            [11] 1434 	push	bc
   08CB CDr69r07      [17] 1435 	call	_create_name
   08CE F1            [10] 1436 	pop	af
   08CF F1            [10] 1437 	pop	af
   08D0 D1            [10] 1438 	pop	de
   08D1 C1            [10] 1439 	pop	bc
                           1440 ;pff.c:699: if (res != FR_OK) break;
   08D2 DD 75 F7      [19] 1441 	ld	-9 (ix), l
   08D5 7D            [ 4] 1442 	ld	a, l
   08D6 B7            [ 4] 1443 	or	a, a
   08D7 20 6F         [12] 1444 	jr	NZ,00117$
                           1445 ;pff.c:700: res = dir_find(dj, dir);		/* Find it */
   08D9 C5            [11] 1446 	push	bc
   08DA D5            [11] 1447 	push	de
   08DB DD 6E 06      [19] 1448 	ld	l,6 (ix)
   08DE DD 66 07      [19] 1449 	ld	h,7 (ix)
   08E1 E5            [11] 1450 	push	hl
   08E2 C5            [11] 1451 	push	bc
   08E3 CDr87r06      [17] 1452 	call	_dir_find
   08E6 F1            [10] 1453 	pop	af
   08E7 F1            [10] 1454 	pop	af
   08E8 D1            [10] 1455 	pop	de
   08E9 C1            [10] 1456 	pop	bc
                           1457 ;pff.c:701: if (res != FR_OK) break;		/* Could not find the object */
   08EA DD 75 F7      [19] 1458 	ld	-9 (ix), l
   08ED 7D            [ 4] 1459 	ld	a, l
   08EE B7            [ 4] 1460 	or	a, a
   08EF 20 57         [12] 1461 	jr	NZ,00117$
                           1462 ;pff.c:702: if (dj->fn[11]) break;			/* Last segment match. Function completed. */
   08F1 DD 6E FE      [19] 1463 	ld	l,-2 (ix)
   08F4 DD 66 FF      [19] 1464 	ld	h,-1 (ix)
   08F7 23            [ 6] 1465 	inc	hl
   08F8 23            [ 6] 1466 	inc	hl
   08F9 7E            [ 7] 1467 	ld	a, (hl)
   08FA 23            [ 6] 1468 	inc	hl
   08FB 66            [ 7] 1469 	ld	h,(hl)
   08FC 6F            [ 4] 1470 	ld	l,a
   08FD C5            [11] 1471 	push	bc
   08FE 01 0B 00      [10] 1472 	ld	bc, #0x000B
   0901 09            [11] 1473 	add	hl, bc
   0902 C1            [10] 1474 	pop	bc
   0903 7E            [ 7] 1475 	ld	a,(hl)
   0904 B7            [ 4] 1476 	or	a, a
   0905 20 41         [12] 1477 	jr	NZ,00117$
                           1478 ;pff.c:703: if (!(dir[DIR_Attr] & AM_DIR)) { /* Cannot follow path because it is a file */
   0907 DD 6E FC      [19] 1479 	ld	l,-4 (ix)
   090A DD 66 FD      [19] 1480 	ld	h,-3 (ix)
   090D C5            [11] 1481 	push	bc
   090E 01 0B 00      [10] 1482 	ld	bc, #0x000B
   0911 09            [11] 1483 	add	hl, bc
   0912 C1            [10] 1484 	pop	bc
   0913 CB 66         [12] 1485 	bit	4,(hl)
   0915 20 06         [12] 1486 	jr	NZ,00113$
                           1487 ;pff.c:704: res = FR_NO_FILE; break;
   0917 DD 36 F7 03   [19] 1488 	ld	-9 (ix),#0x03
   091B 18 2B         [12] 1489 	jr	00117$
   091D                    1490 00113$:
                           1491 ;pff.c:706: dj->sclust = get_clust(dir);	/* Follow next */
   091D C5            [11] 1492 	push	bc
   091E D5            [11] 1493 	push	de
   091F DD 6E 06      [19] 1494 	ld	l,6 (ix)
   0922 DD 66 07      [19] 1495 	ld	h,7 (ix)
   0925 E5            [11] 1496 	push	hl
   0926 CDr63r03      [17] 1497 	call	_get_clust
   0929 F1            [10] 1498 	pop	af
   092A DD 72 FB      [19] 1499 	ld	-5 (ix),d
   092D DD 73 FA      [19] 1500 	ld	-6 (ix),e
   0930 DD 74 F9      [19] 1501 	ld	-7 (ix),h
   0933 DD 75 F8      [19] 1502 	ld	-8 (ix),l
   0936 D1            [10] 1503 	pop	de
   0937 C1            [10] 1504 	pop	bc
   0938 D5            [11] 1505 	push	de
   0939 C5            [11] 1506 	push	bc
   093A 21 05 00      [10] 1507 	ld	hl, #0x0005
   093D 39            [11] 1508 	add	hl, sp
   093E 01 04 00      [10] 1509 	ld	bc, #0x0004
   0941 ED B0         [21] 1510 	ldir
   0943 C1            [10] 1511 	pop	bc
   0944 D1            [10] 1512 	pop	de
   0945 C3rC3r08      [10] 1513 	jp	00118$
   0948                    1514 00117$:
                           1515 ;pff.c:710: return res;
   0948 DD 6E F7      [19] 1516 	ld	l,-9 (ix)
   094B DD F9         [10] 1517 	ld	sp, ix
   094D DD E1         [14] 1518 	pop	ix
   094F C9            [10] 1519 	ret
                           1520 ;pff.c:721: BYTE check_fs (	/* 0:The FAT boot record, 1:Valid boot record but not an FAT, 2:Not a boot record, 3:Error */
                           1521 ;	---------------------------------
                           1522 ; Function check_fs
                           1523 ; ---------------------------------
   0950                    1524 _check_fs:
   0950 DD E5         [15] 1525 	push	ix
   0952 DD 21 00 00   [14] 1526 	ld	ix,#0
   0956 DD 39         [15] 1527 	add	ix,sp
   0958 F5            [11] 1528 	push	af
                           1529 ;pff.c:726: if (disk_readp(buf, sect, 510, 2))		/* Read the boot record */
   0959 21 02 00      [10] 1530 	ld	hl,#0x0002
   095C E5            [11] 1531 	push	hl
   095D 21 FE 01      [10] 1532 	ld	hl,#0x01FE
   0960 E5            [11] 1533 	push	hl
   0961 DD 6E 08      [19] 1534 	ld	l,8 (ix)
   0964 DD 66 09      [19] 1535 	ld	h,9 (ix)
   0967 E5            [11] 1536 	push	hl
   0968 DD 6E 06      [19] 1537 	ld	l,6 (ix)
   096B DD 66 07      [19] 1538 	ld	h,7 (ix)
   096E E5            [11] 1539 	push	hl
   096F DD 6E 04      [19] 1540 	ld	l,4 (ix)
   0972 DD 66 05      [19] 1541 	ld	h,5 (ix)
   0975 E5            [11] 1542 	push	hl
   0976 CDr00r00      [17] 1543 	call	_disk_readp
   0979 FD 21 0A 00   [14] 1544 	ld	iy,#10
   097D FD 39         [15] 1545 	add	iy,sp
   097F FD F9         [10] 1546 	ld	sp,iy
   0981 7D            [ 4] 1547 	ld	a, l
   0982 B7            [ 4] 1548 	or	a, a
   0983 28 05         [12] 1549 	jr	Z,00102$
                           1550 ;pff.c:727: return 3;
   0985 2E 03         [ 7] 1551 	ld	l,#0x03
   0987 C3r4Fr0A      [10] 1552 	jp	00113$
   098A                    1553 00102$:
                           1554 ;pff.c:728: if (LD_WORD(buf) != 0xAA55)				/* Check record signature */
   098A DD 6E 04      [19] 1555 	ld	l,4 (ix)
   098D DD 66 05      [19] 1556 	ld	h,5 (ix)
   0990 23            [ 6] 1557 	inc	hl
   0991 56            [ 7] 1558 	ld	d, (hl)
   0992 1E 00         [ 7] 1559 	ld	e,#0x00
   0994 DD 7E 04      [19] 1560 	ld	a,4 (ix)
   0997 DD 77 FE      [19] 1561 	ld	-2 (ix),a
   099A DD 7E 05      [19] 1562 	ld	a,5 (ix)
   099D DD 77 FF      [19] 1563 	ld	-1 (ix),a
   09A0 E1            [10] 1564 	pop	hl
   09A1 E5            [11] 1565 	push	hl
   09A2 66            [ 7] 1566 	ld	h,(hl)
   09A3 2E 00         [ 7] 1567 	ld	l,#0x00
   09A5 7B            [ 4] 1568 	ld	a,e
   09A6 B4            [ 4] 1569 	or	a, h
   09A7 5F            [ 4] 1570 	ld	e,a
   09A8 7A            [ 4] 1571 	ld	a,d
   09A9 B5            [ 4] 1572 	or	a, l
   09AA 57            [ 4] 1573 	ld	d,a
   09AB 7B            [ 4] 1574 	ld	a,e
   09AC D6 55         [ 7] 1575 	sub	a, #0x55
   09AE 20 05         [12] 1576 	jr	NZ,00139$
   09B0 7A            [ 4] 1577 	ld	a,d
   09B1 D6 AA         [ 7] 1578 	sub	a, #0xAA
   09B3 28 05         [12] 1579 	jr	Z,00107$
   09B5                    1580 00139$:
                           1581 ;pff.c:729: return 2;
   09B5 2E 02         [ 7] 1582 	ld	l,#0x02
   09B7 C3r4Fr0A      [10] 1583 	jp	00113$
                           1584 ;pff.c:731: if (!_FS_32ONLY && !disk_readp(buf, sect, BS_FilSysType, 2) && LD_WORD(buf) == 0x4146)	/* Check FAT12/16 */
   09BA                    1585 00107$:
   09BA 21 02 00      [10] 1586 	ld	hl,#0x0002
   09BD E5            [11] 1587 	push	hl
   09BE 2E 36         [ 7] 1588 	ld	l, #0x36
   09C0 E5            [11] 1589 	push	hl
   09C1 DD 6E 08      [19] 1590 	ld	l,8 (ix)
   09C4 DD 66 09      [19] 1591 	ld	h,9 (ix)
   09C7 E5            [11] 1592 	push	hl
   09C8 DD 6E 06      [19] 1593 	ld	l,6 (ix)
   09CB DD 66 07      [19] 1594 	ld	h,7 (ix)
   09CE E5            [11] 1595 	push	hl
   09CF DD 6E FE      [19] 1596 	ld	l,-2 (ix)
   09D2 DD 66 FF      [19] 1597 	ld	h,-1 (ix)
   09D5 E5            [11] 1598 	push	hl
   09D6 CDr00r00      [17] 1599 	call	_disk_readp
   09D9 FD 21 0A 00   [14] 1600 	ld	iy,#10
   09DD FD 39         [15] 1601 	add	iy,sp
   09DF FD F9         [10] 1602 	ld	sp,iy
   09E1 D1            [10] 1603 	pop	de
   09E2 D5            [11] 1604 	push	de
   09E3 13            [ 6] 1605 	inc	de
   09E4 7D            [ 4] 1606 	ld	a,l
   09E5 B7            [ 4] 1607 	or	a, a
   09E6 20 1C         [12] 1608 	jr	NZ,00111$
   09E8 1A            [ 7] 1609 	ld	a,(de)
   09E9 47            [ 4] 1610 	ld	b,a
   09EA 0E 00         [ 7] 1611 	ld	c,#0x00
   09EC E1            [10] 1612 	pop	hl
   09ED E5            [11] 1613 	push	hl
   09EE 66            [ 7] 1614 	ld	h,(hl)
   09EF 2E 00         [ 7] 1615 	ld	l,#0x00
   09F1 79            [ 4] 1616 	ld	a,c
   09F2 B4            [ 4] 1617 	or	a, h
   09F3 4F            [ 4] 1618 	ld	c,a
   09F4 78            [ 4] 1619 	ld	a,b
   09F5 B5            [ 4] 1620 	or	a, l
   09F6 47            [ 4] 1621 	ld	b,a
   09F7 79            [ 4] 1622 	ld	a,c
   09F8 D6 46         [ 7] 1623 	sub	a, #0x46
   09FA 20 08         [12] 1624 	jr	NZ,00111$
   09FC 78            [ 4] 1625 	ld	a,b
                           1626 ;pff.c:732: return 0;
   09FD D6 41         [ 7] 1627 	sub	a,#0x41
   09FF 20 03         [12] 1628 	jr	NZ,00111$
   0A01 6F            [ 4] 1629 	ld	l,a
   0A02 18 4B         [12] 1630 	jr	00113$
                           1631 ;pff.c:733: if (_FS_FAT32 && !disk_readp(buf, sect, BS_FilSysType32, 2) && LD_WORD(buf) == 0x4146)	/* Check FAT32 */
   0A04                    1632 00111$:
   0A04 D5            [11] 1633 	push	de
   0A05 21 02 00      [10] 1634 	ld	hl,#0x0002
   0A08 E5            [11] 1635 	push	hl
   0A09 2E 52         [ 7] 1636 	ld	l, #0x52
   0A0B E5            [11] 1637 	push	hl
   0A0C DD 6E 08      [19] 1638 	ld	l,8 (ix)
   0A0F DD 66 09      [19] 1639 	ld	h,9 (ix)
   0A12 E5            [11] 1640 	push	hl
   0A13 DD 6E 06      [19] 1641 	ld	l,6 (ix)
   0A16 DD 66 07      [19] 1642 	ld	h,7 (ix)
   0A19 E5            [11] 1643 	push	hl
   0A1A DD 6E FE      [19] 1644 	ld	l,-2 (ix)
   0A1D DD 66 FF      [19] 1645 	ld	h,-1 (ix)
   0A20 E5            [11] 1646 	push	hl
   0A21 CDr00r00      [17] 1647 	call	_disk_readp
   0A24 FD 21 0A 00   [14] 1648 	ld	iy,#10
   0A28 FD 39         [15] 1649 	add	iy,sp
   0A2A FD F9         [10] 1650 	ld	sp,iy
   0A2C 7D            [ 4] 1651 	ld	a,l
   0A2D D1            [10] 1652 	pop	de
   0A2E B7            [ 4] 1653 	or	a, a
   0A2F 20 1C         [12] 1654 	jr	NZ,00110$
   0A31 1A            [ 7] 1655 	ld	a,(de)
   0A32 57            [ 4] 1656 	ld	d,a
   0A33 1E 00         [ 7] 1657 	ld	e,#0x00
   0A35 E1            [10] 1658 	pop	hl
   0A36 E5            [11] 1659 	push	hl
   0A37 66            [ 7] 1660 	ld	h,(hl)
   0A38 2E 00         [ 7] 1661 	ld	l,#0x00
   0A3A 7B            [ 4] 1662 	ld	a,e
   0A3B B4            [ 4] 1663 	or	a, h
   0A3C 5F            [ 4] 1664 	ld	e,a
   0A3D 7A            [ 4] 1665 	ld	a,d
   0A3E B5            [ 4] 1666 	or	a, l
   0A3F 57            [ 4] 1667 	ld	d,a
   0A40 7B            [ 4] 1668 	ld	a,e
   0A41 D6 46         [ 7] 1669 	sub	a, #0x46
   0A43 20 08         [12] 1670 	jr	NZ,00110$
   0A45 7A            [ 4] 1671 	ld	a,d
                           1672 ;pff.c:734: return 0;
   0A46 D6 41         [ 7] 1673 	sub	a,#0x41
   0A48 20 03         [12] 1674 	jr	NZ,00110$
   0A4A 6F            [ 4] 1675 	ld	l,a
   0A4B 18 02         [12] 1676 	jr	00113$
   0A4D                    1677 00110$:
                           1678 ;pff.c:735: return 1;
   0A4D 2E 01         [ 7] 1679 	ld	l,#0x01
   0A4F                    1680 00113$:
   0A4F DD F9         [10] 1681 	ld	sp, ix
   0A51 DD E1         [14] 1682 	pop	ix
   0A53 C9            [10] 1683 	ret
                           1684 ;pff.c:753: FRESULT pf_mount (
                           1685 ;	---------------------------------
                           1686 ; Function pf_mount
                           1687 ; ---------------------------------
   0A54                    1688 _pf_mount_start::
   0A54                    1689 _pf_mount:
   0A54 DD E5         [15] 1690 	push	ix
   0A56 DD 21 00 00   [14] 1691 	ld	ix,#0
   0A5A DD 39         [15] 1692 	add	ix,sp
   0A5C 21 B7 FF      [10] 1693 	ld	hl,#-73
   0A5F 39            [11] 1694 	add	hl,sp
   0A60 F9            [ 6] 1695 	ld	sp,hl
                           1696 ;pff.c:761: FatFs = 0;
   0A61 21r00r00      [10] 1697 	ld	hl,#_FatFs + 0
   0A64 36 00         [10] 1698 	ld	(hl), #0x00
   0A66 21r01r00      [10] 1699 	ld	hl,#_FatFs + 1
   0A69 36 00         [10] 1700 	ld	(hl), #0x00
                           1701 ;pff.c:763: if (disk_initialize() & STA_NOINIT)	/* Check if the drive is ready or not */
   0A6B CDr00r00      [17] 1702 	call	_disk_initialize
   0A6E 7D            [ 4] 1703 	ld	a,l
   0A6F 0F            [ 4] 1704 	rrca
   0A70 30 05         [12] 1705 	jr	NC,00102$
                           1706 ;pff.c:764: return FR_NOT_READY;
   0A72 2E 02         [ 7] 1707 	ld	l,#0x02
   0A74 C3rE4r11      [10] 1708 	jp	00137$
   0A77                    1709 00102$:
                           1710 ;pff.c:767: bsect = 0;
   0A77 AF            [ 4] 1711 	xor	a, a
   0A78 DD 77 BF      [19] 1712 	ld	-65 (ix),a
   0A7B DD 77 C0      [19] 1713 	ld	-64 (ix),a
   0A7E DD 77 C1      [19] 1714 	ld	-63 (ix),a
   0A81 DD 77 C2      [19] 1715 	ld	-62 (ix),a
                           1716 ;pff.c:768: fmt = check_fs(buf, bsect);			/* Check sector 0 as an SFD format */
   0A84 21 0C 00      [10] 1717 	ld	hl,#0x000C
   0A87 39            [11] 1718 	add	hl,sp
   0A88 DD 75 F2      [19] 1719 	ld	-14 (ix),l
   0A8B DD 74 F3      [19] 1720 	ld	-13 (ix),h
   0A8E EB            [ 4] 1721 	ex	de,hl
   0A8F 21 00 00      [10] 1722 	ld	hl,#0x0000
   0A92 E5            [11] 1723 	push	hl
   0A93 21 00 00      [10] 1724 	ld	hl,#0x0000
   0A96 E5            [11] 1725 	push	hl
   0A97 D5            [11] 1726 	push	de
   0A98 CDr50r09      [17] 1727 	call	_check_fs
   0A9B F1            [10] 1728 	pop	af
   0A9C F1            [10] 1729 	pop	af
   0A9D F1            [10] 1730 	pop	af
   0A9E 5D            [ 4] 1731 	ld	e,l
                           1732 ;pff.c:774: if (buf[4]) {					/* Is the partition existing? */
   0A9F DD 7E F2      [19] 1733 	ld	a,-14 (ix)
   0AA2 C6 04         [ 7] 1734 	add	a, #0x04
   0AA4 DD 77 F0      [19] 1735 	ld	-16 (ix),a
   0AA7 DD 7E F3      [19] 1736 	ld	a,-13 (ix)
   0AAA CE 00         [ 7] 1737 	adc	a, #0x00
   0AAC DD 77 F1      [19] 1738 	ld	-15 (ix),a
                           1739 ;pff.c:775: bsect = LD_DWORD(&buf[8]);	/* Partition offset in LBA */
   0AAF DD 7E F2      [19] 1740 	ld	a,-14 (ix)
   0AB2 C6 0A         [ 7] 1741 	add	a, #0x0A
   0AB4 DD 77 EA      [19] 1742 	ld	-22 (ix),a
   0AB7 DD 7E F3      [19] 1743 	ld	a,-13 (ix)
   0ABA CE 00         [ 7] 1744 	adc	a, #0x00
   0ABC DD 77 EB      [19] 1745 	ld	-21 (ix),a
   0ABF DD 7E F2      [19] 1746 	ld	a,-14 (ix)
   0AC2 C6 09         [ 7] 1747 	add	a, #0x09
   0AC4 DD 77 E8      [19] 1748 	ld	-24 (ix),a
   0AC7 DD 7E F3      [19] 1749 	ld	a,-13 (ix)
   0ACA CE 00         [ 7] 1750 	adc	a, #0x00
   0ACC DD 77 E9      [19] 1751 	ld	-23 (ix),a
                           1752 ;pff.c:769: if (fmt == 1) {						/* Not an FAT boot record, it may be FDISK format */
   0ACF 7B            [ 4] 1753 	ld	a,e
   0AD0 3D            [ 4] 1754 	dec	a
   0AD1 C2rE6r0B      [10] 1755 	jp	NZ,00109$
                           1756 ;pff.c:771: if (disk_readp(buf, bsect, MBR_Table, 16)) {	/* 1st partition entry */
   0AD4 DD 4E F2      [19] 1757 	ld	c,-14 (ix)
   0AD7 DD 46 F3      [19] 1758 	ld	b,-13 (ix)
   0ADA D5            [11] 1759 	push	de
   0ADB 21 10 00      [10] 1760 	ld	hl,#0x0010
   0ADE E5            [11] 1761 	push	hl
   0ADF 21 BE 01      [10] 1762 	ld	hl,#0x01BE
   0AE2 E5            [11] 1763 	push	hl
   0AE3 21 00 00      [10] 1764 	ld	hl,#0x0000
   0AE6 E5            [11] 1765 	push	hl
   0AE7 21 00 00      [10] 1766 	ld	hl,#0x0000
   0AEA E5            [11] 1767 	push	hl
   0AEB C5            [11] 1768 	push	bc
   0AEC CDr00r00      [17] 1769 	call	_disk_readp
   0AEF FD 21 0A 00   [14] 1770 	ld	iy,#10
   0AF3 FD 39         [15] 1771 	add	iy,sp
   0AF5 FD F9         [10] 1772 	ld	sp,iy
   0AF7 7D            [ 4] 1773 	ld	a,l
   0AF8 D1            [10] 1774 	pop	de
   0AF9 B7            [ 4] 1775 	or	a, a
   0AFA 28 05         [12] 1776 	jr	Z,00106$
                           1777 ;pff.c:772: fmt = 3;
   0AFC 1E 03         [ 7] 1778 	ld	e,#0x03
   0AFE C3rE6r0B      [10] 1779 	jp	00109$
   0B01                    1780 00106$:
                           1781 ;pff.c:774: if (buf[4]) {					/* Is the partition existing? */
   0B01 DD 6E F0      [19] 1782 	ld	l,-16 (ix)
   0B04 DD 66 F1      [19] 1783 	ld	h,-15 (ix)
   0B07 7E            [ 7] 1784 	ld	a,(hl)
   0B08 B7            [ 4] 1785 	or	a, a
   0B09 CArE6r0B      [10] 1786 	jp	Z,00109$
                           1787 ;pff.c:775: bsect = LD_DWORD(&buf[8]);	/* Partition offset in LBA */
   0B0C DD 5E F2      [19] 1788 	ld	e,-14 (ix)
   0B0F DD 56 F3      [19] 1789 	ld	d,-13 (ix)
   0B12 DD 6E F2      [19] 1790 	ld	l,-14 (ix)
   0B15 DD 66 F3      [19] 1791 	ld	h,-13 (ix)
   0B18 01 0B 00      [10] 1792 	ld	bc, #0x000B
   0B1B 09            [11] 1793 	add	hl, bc
   0B1C 6E            [ 7] 1794 	ld	l,(hl)
   0B1D 26 00         [ 7] 1795 	ld	h,#0x00
   0B1F 01 00 00      [10] 1796 	ld	bc,#0x0000
   0B22 F5            [11] 1797 	push	af
   0B23 DD 75 F8      [19] 1798 	ld	-8 (ix),l
   0B26 DD 74 F9      [19] 1799 	ld	-7 (ix),h
   0B29 DD 71 FA      [19] 1800 	ld	-6 (ix),c
   0B2C DD 70 FB      [19] 1801 	ld	-5 (ix),b
   0B2F F1            [10] 1802 	pop	af
   0B30 3E 18         [ 7] 1803 	ld	a,#0x18
   0B32                    1804 00198$:
   0B32 DD CB F8 26   [23] 1805 	sla	-8 (ix)
   0B36 DD CB F9 16   [23] 1806 	rl	-7 (ix)
   0B3A DD CB FA 16   [23] 1807 	rl	-6 (ix)
   0B3E DD CB FB 16   [23] 1808 	rl	-5 (ix)
   0B42 3D            [ 4] 1809 	dec	a
   0B43 20 ED         [12] 1810 	jr	NZ,00198$
   0B45 DD 6E EA      [19] 1811 	ld	l,-22 (ix)
   0B48 DD 66 EB      [19] 1812 	ld	h,-21 (ix)
   0B4B 6E            [ 7] 1813 	ld	l,(hl)
   0B4C 26 00         [ 7] 1814 	ld	h,#0x00
   0B4E 01 00 00      [10] 1815 	ld	bc,#0x0000
   0B51 3E 10         [ 7] 1816 	ld	a,#0x10
   0B53                    1817 00200$:
   0B53 29            [11] 1818 	add	hl, hl
   0B54 CB 11         [ 8] 1819 	rl	c
   0B56 CB 10         [ 8] 1820 	rl	b
   0B58 3D            [ 4] 1821 	dec	a
   0B59 20 F8         [12] 1822 	jr	NZ,00200$
   0B5B DD 7E F8      [19] 1823 	ld	a,-8 (ix)
   0B5E B5            [ 4] 1824 	or	a, l
   0B5F DD 77 F8      [19] 1825 	ld	-8 (ix),a
   0B62 DD 7E F9      [19] 1826 	ld	a,-7 (ix)
   0B65 B4            [ 4] 1827 	or	a, h
   0B66 DD 77 F9      [19] 1828 	ld	-7 (ix),a
   0B69 DD 7E FA      [19] 1829 	ld	a,-6 (ix)
   0B6C B1            [ 4] 1830 	or	a, c
   0B6D DD 77 FA      [19] 1831 	ld	-6 (ix),a
   0B70 DD 7E FB      [19] 1832 	ld	a,-5 (ix)
   0B73 B0            [ 4] 1833 	or	a, b
   0B74 DD 77 FB      [19] 1834 	ld	-5 (ix),a
   0B77 DD 6E E8      [19] 1835 	ld	l,-24 (ix)
   0B7A DD 66 E9      [19] 1836 	ld	h,-23 (ix)
   0B7D 66            [ 7] 1837 	ld	h, (hl)
   0B7E 2E 00         [ 7] 1838 	ld	l,#0x00
   0B80 01 00 00      [10] 1839 	ld	bc,#0x0000
   0B83 DD 7E F8      [19] 1840 	ld	a,-8 (ix)
   0B86 B5            [ 4] 1841 	or	a, l
   0B87 DD 77 F8      [19] 1842 	ld	-8 (ix),a
   0B8A DD 7E F9      [19] 1843 	ld	a,-7 (ix)
   0B8D B4            [ 4] 1844 	or	a, h
   0B8E DD 77 F9      [19] 1845 	ld	-7 (ix),a
   0B91 DD 7E FA      [19] 1846 	ld	a,-6 (ix)
   0B94 B0            [ 4] 1847 	or	a, b
   0B95 DD 77 FA      [19] 1848 	ld	-6 (ix),a
   0B98 DD 7E FB      [19] 1849 	ld	a,-5 (ix)
   0B9B B1            [ 4] 1850 	or	a, c
   0B9C DD 77 FB      [19] 1851 	ld	-5 (ix),a
   0B9F EB            [ 4] 1852 	ex	de,hl
   0BA0 11 08 00      [10] 1853 	ld	de, #0x0008
   0BA3 19            [11] 1854 	add	hl, de
   0BA4 6E            [ 7] 1855 	ld	l,(hl)
   0BA5 26 00         [ 7] 1856 	ld	h,#0x00
   0BA7 11 00 00      [10] 1857 	ld	de,#0x0000
   0BAA 7D            [ 4] 1858 	ld	a,l
   0BAB DD B6 F8      [19] 1859 	or	a, -8 (ix)
   0BAE 6F            [ 4] 1860 	ld	l,a
   0BAF 7C            [ 4] 1861 	ld	a,h
   0BB0 DD B6 F9      [19] 1862 	or	a, -7 (ix)
   0BB3 67            [ 4] 1863 	ld	h,a
   0BB4 7B            [ 4] 1864 	ld	a,e
   0BB5 DD B6 FA      [19] 1865 	or	a, -6 (ix)
   0BB8 5F            [ 4] 1866 	ld	e,a
   0BB9 7A            [ 4] 1867 	ld	a,d
   0BBA DD B6 FB      [19] 1868 	or	a, -5 (ix)
   0BBD 57            [ 4] 1869 	ld	d,a
   0BBE DD 75 BF      [19] 1870 	ld	-65 (ix),l
   0BC1 DD 74 C0      [19] 1871 	ld	-64 (ix),h
   0BC4 DD 73 C1      [19] 1872 	ld	-63 (ix),e
   0BC7 DD 72 C2      [19] 1873 	ld	-62 (ix),d
                           1874 ;pff.c:776: fmt = check_fs(buf, bsect);	/* Check the partition */
   0BCA DD 5E F2      [19] 1875 	ld	e,-14 (ix)
   0BCD DD 56 F3      [19] 1876 	ld	d,-13 (ix)
   0BD0 DD 6E C1      [19] 1877 	ld	l,-63 (ix)
   0BD3 DD 66 C2      [19] 1878 	ld	h,-62 (ix)
   0BD6 E5            [11] 1879 	push	hl
   0BD7 DD 6E BF      [19] 1880 	ld	l,-65 (ix)
   0BDA DD 66 C0      [19] 1881 	ld	h,-64 (ix)
   0BDD E5            [11] 1882 	push	hl
   0BDE D5            [11] 1883 	push	de
   0BDF CDr50r09      [17] 1884 	call	_check_fs
   0BE2 F1            [10] 1885 	pop	af
   0BE3 F1            [10] 1886 	pop	af
   0BE4 F1            [10] 1887 	pop	af
   0BE5 5D            [ 4] 1888 	ld	e,l
   0BE6                    1889 00109$:
                           1890 ;pff.c:780: if (fmt == 3) return FR_DISK_ERR;
   0BE6 7B            [ 4] 1891 	ld	a,e
   0BE7 D6 03         [ 7] 1892 	sub	a, #0x03
   0BE9 20 05         [12] 1893 	jr	NZ,00111$
   0BEB 2E 01         [ 7] 1894 	ld	l,#0x01
   0BED C3rE4r11      [10] 1895 	jp	00137$
   0BF0                    1896 00111$:
                           1897 ;pff.c:781: if (fmt) return FR_NO_FILESYSTEM;	/* No valid FAT patition is found */
   0BF0 7B            [ 4] 1898 	ld	a,e
   0BF1 B7            [ 4] 1899 	or	a, a
   0BF2 28 05         [12] 1900 	jr	Z,00113$
   0BF4 2E 06         [ 7] 1901 	ld	l,#0x06
   0BF6 C3rE4r11      [10] 1902 	jp	00137$
   0BF9                    1903 00113$:
                           1904 ;pff.c:784: if (disk_readp(buf, bsect, 13, sizeof (buf))) return FR_DISK_ERR;
   0BF9 DD 5E F2      [19] 1905 	ld	e,-14 (ix)
   0BFC DD 56 F3      [19] 1906 	ld	d,-13 (ix)
   0BFF 21 24 00      [10] 1907 	ld	hl,#0x0024
   0C02 E5            [11] 1908 	push	hl
   0C03 2E 0D         [ 7] 1909 	ld	l, #0x0D
   0C05 E5            [11] 1910 	push	hl
   0C06 DD 6E C1      [19] 1911 	ld	l,-63 (ix)
   0C09 DD 66 C2      [19] 1912 	ld	h,-62 (ix)
   0C0C E5            [11] 1913 	push	hl
   0C0D DD 6E BF      [19] 1914 	ld	l,-65 (ix)
   0C10 DD 66 C0      [19] 1915 	ld	h,-64 (ix)
   0C13 E5            [11] 1916 	push	hl
   0C14 D5            [11] 1917 	push	de
   0C15 CDr00r00      [17] 1918 	call	_disk_readp
   0C18 FD 21 0A 00   [14] 1919 	ld	iy,#10
   0C1C FD 39         [15] 1920 	add	iy,sp
   0C1E FD F9         [10] 1921 	ld	sp,iy
   0C20 7D            [ 4] 1922 	ld	a,l
   0C21 B7            [ 4] 1923 	or	a, a
   0C22 28 05         [12] 1924 	jr	Z,00115$
   0C24 2E 01         [ 7] 1925 	ld	l,#0x01
   0C26 C3rE4r11      [10] 1926 	jp	00137$
   0C29                    1927 00115$:
                           1928 ;pff.c:786: fsize = LD_WORD(buf+BPB_FATSz16-13);				/* Number of sectors per FAT */
   0C29 DD 6E EA      [19] 1929 	ld	l,-22 (ix)
   0C2C DD 66 EB      [19] 1930 	ld	h,-21 (ix)
   0C2F 56            [ 7] 1931 	ld	d, (hl)
   0C30 1E 00         [ 7] 1932 	ld	e,#0x00
   0C32 DD 6E E8      [19] 1933 	ld	l,-24 (ix)
   0C35 DD 66 E9      [19] 1934 	ld	h,-23 (ix)
   0C38 4E            [ 7] 1935 	ld	c,(hl)
   0C39 06 00         [ 7] 1936 	ld	b,#0x00
   0C3B 7B            [ 4] 1937 	ld	a,e
   0C3C B1            [ 4] 1938 	or	a, c
   0C3D 67            [ 4] 1939 	ld	h,a
   0C3E 7A            [ 4] 1940 	ld	a,d
   0C3F B0            [ 4] 1941 	or	a, b
   0C40 DD 74 F8      [19] 1942 	ld	-8 (ix), h
   0C43 DD 77 F9      [19] 1943 	ld	-7 (ix), a
   0C46 DD 36 FA 00   [19] 1944 	ld	-6 (ix),#0x00
                           1945 ;pff.c:787: if (!fsize) fsize = LD_DWORD(buf+BPB_FATSz32-13);
   0C4A DD 36 FB 00   [19] 1946 	ld	-5 (ix), #0x00
   0C4E 3E 00         [ 7] 1947 	ld	a, #0x00
   0C50 DD B6 FA      [19] 1948 	or	a, -6 (ix)
   0C53 DD B6 F9      [19] 1949 	or	a, -7 (ix)
   0C56 DD B6 F8      [19] 1950 	or	a,-8 (ix)
   0C59 C2r34r0D      [10] 1951 	jp	NZ,00117$
   0C5C DD 7E F2      [19] 1952 	ld	a,-14 (ix)
   0C5F DD 77 E8      [19] 1953 	ld	-24 (ix),a
   0C62 DD 7E F3      [19] 1954 	ld	a,-13 (ix)
   0C65 DD 77 E9      [19] 1955 	ld	-23 (ix),a
   0C68 DD 7E F2      [19] 1956 	ld	a,-14 (ix)
   0C6B DD 77 EA      [19] 1957 	ld	-22 (ix),a
   0C6E DD 7E F3      [19] 1958 	ld	a,-13 (ix)
   0C71 DD 77 EB      [19] 1959 	ld	-21 (ix),a
   0C74 DD 6E EA      [19] 1960 	ld	l,-22 (ix)
   0C77 DD 66 EB      [19] 1961 	ld	h,-21 (ix)
   0C7A 11 1A 00      [10] 1962 	ld	de, #0x001A
   0C7D 19            [11] 1963 	add	hl, de
   0C7E 6E            [ 7] 1964 	ld	l,(hl)
   0C7F 26 00         [ 7] 1965 	ld	h,#0x00
   0C81 11 00 00      [10] 1966 	ld	de,#0x0000
   0C84 F5            [11] 1967 	push	af
   0C85 DD 75 FC      [19] 1968 	ld	-4 (ix),l
   0C88 DD 74 FD      [19] 1969 	ld	-3 (ix),h
   0C8B DD 73 FE      [19] 1970 	ld	-2 (ix),e
   0C8E DD 72 FF      [19] 1971 	ld	-1 (ix),d
   0C91 F1            [10] 1972 	pop	af
   0C92 3E 18         [ 7] 1973 	ld	a,#0x18
   0C94                    1974 00204$:
   0C94 DD CB FC 26   [23] 1975 	sla	-4 (ix)
   0C98 DD CB FD 16   [23] 1976 	rl	-3 (ix)
   0C9C DD CB FE 16   [23] 1977 	rl	-2 (ix)
   0CA0 DD CB FF 16   [23] 1978 	rl	-1 (ix)
   0CA4 3D            [ 4] 1979 	dec	a
   0CA5 20 ED         [12] 1980 	jr	NZ,00204$
   0CA7 DD 6E F2      [19] 1981 	ld	l,-14 (ix)
   0CAA DD 66 F3      [19] 1982 	ld	h,-13 (ix)
   0CAD 11 19 00      [10] 1983 	ld	de, #0x0019
   0CB0 19            [11] 1984 	add	hl, de
   0CB1 6E            [ 7] 1985 	ld	l,(hl)
   0CB2 26 00         [ 7] 1986 	ld	h,#0x00
   0CB4 11 00 00      [10] 1987 	ld	de,#0x0000
   0CB7 06 10         [ 7] 1988 	ld	b,#0x10
   0CB9                    1989 00206$:
   0CB9 29            [11] 1990 	add	hl, hl
   0CBA CB 13         [ 8] 1991 	rl	e
   0CBC CB 12         [ 8] 1992 	rl	d
   0CBE 10 F9         [13] 1993 	djnz	00206$
   0CC0 DD 7E FC      [19] 1994 	ld	a,-4 (ix)
   0CC3 B5            [ 4] 1995 	or	a, l
   0CC4 DD 77 FC      [19] 1996 	ld	-4 (ix),a
   0CC7 DD 7E FD      [19] 1997 	ld	a,-3 (ix)
   0CCA B4            [ 4] 1998 	or	a, h
   0CCB DD 77 FD      [19] 1999 	ld	-3 (ix),a
   0CCE DD 7E FE      [19] 2000 	ld	a,-2 (ix)
   0CD1 B3            [ 4] 2001 	or	a, e
   0CD2 DD 77 FE      [19] 2002 	ld	-2 (ix),a
   0CD5 DD 7E FF      [19] 2003 	ld	a,-1 (ix)
   0CD8 B2            [ 4] 2004 	or	a, d
   0CD9 DD 77 FF      [19] 2005 	ld	-1 (ix),a
   0CDC DD 6E F2      [19] 2006 	ld	l,-14 (ix)
   0CDF DD 66 F3      [19] 2007 	ld	h,-13 (ix)
   0CE2 11 18 00      [10] 2008 	ld	de, #0x0018
   0CE5 19            [11] 2009 	add	hl, de
   0CE6 66            [ 7] 2010 	ld	h, (hl)
   0CE7 2E 00         [ 7] 2011 	ld	l,#0x00
   0CE9 11 00 00      [10] 2012 	ld	de,#0x0000
   0CEC DD 7E FC      [19] 2013 	ld	a,-4 (ix)
   0CEF B5            [ 4] 2014 	or	a, l
   0CF0 DD 77 FC      [19] 2015 	ld	-4 (ix),a
   0CF3 DD 7E FD      [19] 2016 	ld	a,-3 (ix)
   0CF6 B4            [ 4] 2017 	or	a, h
   0CF7 DD 77 FD      [19] 2018 	ld	-3 (ix),a
   0CFA DD 7E FE      [19] 2019 	ld	a,-2 (ix)
   0CFD B3            [ 4] 2020 	or	a, e
   0CFE DD 77 FE      [19] 2021 	ld	-2 (ix),a
   0D01 DD 7E FF      [19] 2022 	ld	a,-1 (ix)
   0D04 B2            [ 4] 2023 	or	a, d
   0D05 DD 77 FF      [19] 2024 	ld	-1 (ix),a
   0D08 DD 6E E8      [19] 2025 	ld	l,-24 (ix)
   0D0B DD 66 E9      [19] 2026 	ld	h,-23 (ix)
   0D0E 11 17 00      [10] 2027 	ld	de, #0x0017
   0D11 19            [11] 2028 	add	hl, de
   0D12 6E            [ 7] 2029 	ld	l,(hl)
   0D13 26 00         [ 7] 2030 	ld	h,#0x00
   0D15 11 00 00      [10] 2031 	ld	de,#0x0000
   0D18 DD 7E FC      [19] 2032 	ld	a,-4 (ix)
   0D1B B5            [ 4] 2033 	or	a, l
   0D1C DD 77 F8      [19] 2034 	ld	-8 (ix),a
   0D1F DD 7E FD      [19] 2035 	ld	a,-3 (ix)
   0D22 B4            [ 4] 2036 	or	a, h
   0D23 DD 77 F9      [19] 2037 	ld	-7 (ix),a
   0D26 DD 7E FE      [19] 2038 	ld	a,-2 (ix)
   0D29 B2            [ 4] 2039 	or	a, d
   0D2A DD 77 FA      [19] 2040 	ld	-6 (ix),a
   0D2D DD 7E FF      [19] 2041 	ld	a,-1 (ix)
   0D30 B3            [ 4] 2042 	or	a, e
   0D31 DD 77 FB      [19] 2043 	ld	-5 (ix),a
   0D34                    2044 00117$:
                           2045 ;pff.c:789: fsize *= buf[BPB_NumFATs-13];						/* Number of sectors in FAT area */
   0D34 DD 6E F2      [19] 2046 	ld	l,-14 (ix)
   0D37 DD 66 F3      [19] 2047 	ld	h,-13 (ix)
   0D3A 23            [ 6] 2048 	inc	hl
   0D3B 23            [ 6] 2049 	inc	hl
   0D3C 23            [ 6] 2050 	inc	hl
   0D3D 5E            [ 7] 2051 	ld	e,(hl)
   0D3E 16 00         [ 7] 2052 	ld	d,#0x00
   0D40 21 00 00      [10] 2053 	ld	hl,#0x0000
   0D43 E5            [11] 2054 	push	hl
   0D44 D5            [11] 2055 	push	de
   0D45 DD 6E FA      [19] 2056 	ld	l,-6 (ix)
   0D48 DD 66 FB      [19] 2057 	ld	h,-5 (ix)
   0D4B E5            [11] 2058 	push	hl
   0D4C DD 6E F8      [19] 2059 	ld	l,-8 (ix)
   0D4F DD 66 F9      [19] 2060 	ld	h,-7 (ix)
   0D52 E5            [11] 2061 	push	hl
   0D53 CDr00r00      [17] 2062 	call	__mullong_rrx_s
   0D56 F1            [10] 2063 	pop	af
   0D57 F1            [10] 2064 	pop	af
   0D58 F1            [10] 2065 	pop	af
   0D59 F1            [10] 2066 	pop	af
   0D5A DD 75 BB      [19] 2067 	ld	-69 (ix),l
   0D5D DD 74 BC      [19] 2068 	ld	-68 (ix),h
   0D60 DD 73 BD      [19] 2069 	ld	-67 (ix),e
   0D63 DD 72 BE      [19] 2070 	ld	-66 (ix),d
                           2071 ;pff.c:790: fs->fatbase = bsect + LD_WORD(buf+BPB_RsvdSecCnt-13); /* FAT start sector (lba) */
   0D66 DD 4E 04      [19] 2072 	ld	c,4 (ix)
   0D69 DD 46 05      [19] 2073 	ld	b,5 (ix)
   0D6C 21 0A 00      [10] 2074 	ld	hl,#0x000A
   0D6F 09            [11] 2075 	add	hl,bc
   0D70 DD 75 FC      [19] 2076 	ld	-4 (ix),l
   0D73 DD 74 FD      [19] 2077 	ld	-3 (ix),h
   0D76 DD 7E F2      [19] 2078 	ld	a,-14 (ix)
   0D79 C6 01         [ 7] 2079 	add	a, #0x01
   0D7B DD 77 F8      [19] 2080 	ld	-8 (ix),a
   0D7E DD 7E F3      [19] 2081 	ld	a,-13 (ix)
   0D81 CE 00         [ 7] 2082 	adc	a, #0x00
   0D83 DD 77 F9      [19] 2083 	ld	-7 (ix),a
   0D86 DD 7E F2      [19] 2084 	ld	a,-14 (ix)
   0D89 C6 02         [ 7] 2085 	add	a, #0x02
   0D8B DD 77 E8      [19] 2086 	ld	-24 (ix),a
   0D8E DD 7E F3      [19] 2087 	ld	a,-13 (ix)
   0D91 CE 00         [ 7] 2088 	adc	a, #0x00
   0D93 DD 77 E9      [19] 2089 	ld	-23 (ix),a
   0D96 DD 6E E8      [19] 2090 	ld	l,-24 (ix)
   0D99 DD 66 E9      [19] 2091 	ld	h,-23 (ix)
   0D9C 6E            [ 7] 2092 	ld	l,(hl)
   0D9D DD 75 EB      [19] 2093 	ld	-21 (ix),l
   0DA0 DD 36 EA 00   [19] 2094 	ld	-22 (ix),#0x00
   0DA4 DD 6E F8      [19] 2095 	ld	l,-8 (ix)
   0DA7 DD 66 F9      [19] 2096 	ld	h,-7 (ix)
   0DAA 6E            [ 7] 2097 	ld	l,(hl)
   0DAB 26 00         [ 7] 2098 	ld	h,#0x00
   0DAD 7D            [ 4] 2099 	ld	a,l
   0DAE DD B6 EA      [19] 2100 	or	a, -22 (ix)
   0DB1 6F            [ 4] 2101 	ld	l,a
   0DB2 7C            [ 4] 2102 	ld	a,h
   0DB3 DD B6 EB      [19] 2103 	or	a, -21 (ix)
   0DB6 67            [ 4] 2104 	ld	h,a
   0DB7 11 00 00      [10] 2105 	ld	de,#0x0000
   0DBA DD 7E BF      [19] 2106 	ld	a,-65 (ix)
   0DBD 85            [ 4] 2107 	add	a, l
   0DBE DD 77 EC      [19] 2108 	ld	-20 (ix),a
   0DC1 DD 7E C0      [19] 2109 	ld	a,-64 (ix)
   0DC4 8C            [ 4] 2110 	adc	a, h
   0DC5 DD 77 ED      [19] 2111 	ld	-19 (ix),a
   0DC8 DD 7E C1      [19] 2112 	ld	a,-63 (ix)
   0DCB 8B            [ 4] 2113 	adc	a, e
   0DCC DD 77 EE      [19] 2114 	ld	-18 (ix),a
   0DCF DD 7E C2      [19] 2115 	ld	a,-62 (ix)
   0DD2 8A            [ 4] 2116 	adc	a, d
   0DD3 DD 77 EF      [19] 2117 	ld	-17 (ix),a
   0DD6 C5            [11] 2118 	push	bc
   0DD7 DD 5E FC      [19] 2119 	ld	e,-4 (ix)
   0DDA DD 56 FD      [19] 2120 	ld	d,-3 (ix)
   0DDD 21 37 00      [10] 2121 	ld	hl, #0x0037
   0DE0 39            [11] 2122 	add	hl, sp
   0DE1 01 04 00      [10] 2123 	ld	bc, #0x0004
   0DE4 ED B0         [21] 2124 	ldir
   0DE6 C1            [10] 2125 	pop	bc
                           2126 ;pff.c:791: fs->csize = buf[BPB_SecPerClus-13];					/* Number of sectors per cluster */
   0DE7 21 02 00      [10] 2127 	ld	hl,#0x0002
   0DEA 09            [11] 2128 	add	hl,bc
   0DEB DD 75 EC      [19] 2129 	ld	-20 (ix),l
   0DEE DD 74 ED      [19] 2130 	ld	-19 (ix),h
   0DF1 DD 6E F2      [19] 2131 	ld	l,-14 (ix)
   0DF4 DD 66 F3      [19] 2132 	ld	h,-13 (ix)
   0DF7 7E            [ 7] 2133 	ld	a,(hl)
   0DF8 DD 6E EC      [19] 2134 	ld	l,-20 (ix)
   0DFB DD 66 ED      [19] 2135 	ld	h,-19 (ix)
   0DFE 77            [ 7] 2136 	ld	(hl),a
                           2137 ;pff.c:792: fs->n_rootdir = LD_WORD(buf+BPB_RootEntCnt-13);		/* Nmuber of root directory entries */
   0DFF 21 04 00      [10] 2138 	ld	hl,#0x0004
   0E02 09            [11] 2139 	add	hl,bc
   0E03 DD 75 EA      [19] 2140 	ld	-22 (ix),l
   0E06 DD 74 EB      [19] 2141 	ld	-21 (ix),h
   0E09 DD 6E F2      [19] 2142 	ld	l,-14 (ix)
   0E0C DD 66 F3      [19] 2143 	ld	h,-13 (ix)
   0E0F 11 05 00      [10] 2144 	ld	de, #0x0005
   0E12 19            [11] 2145 	add	hl, de
   0E13 56            [ 7] 2146 	ld	d, (hl)
   0E14 1E 00         [ 7] 2147 	ld	e,#0x00
   0E16 DD 6E F0      [19] 2148 	ld	l,-16 (ix)
   0E19 DD 66 F1      [19] 2149 	ld	h,-15 (ix)
   0E1C 6E            [ 7] 2150 	ld	l,(hl)
   0E1D 26 00         [ 7] 2151 	ld	h,#0x00
   0E1F 7B            [ 4] 2152 	ld	a,e
   0E20 B5            [ 4] 2153 	or	a, l
   0E21 5F            [ 4] 2154 	ld	e,a
   0E22 7A            [ 4] 2155 	ld	a,d
   0E23 B4            [ 4] 2156 	or	a, h
   0E24 57            [ 4] 2157 	ld	d,a
   0E25 DD 6E EA      [19] 2158 	ld	l,-22 (ix)
   0E28 DD 66 EB      [19] 2159 	ld	h,-21 (ix)
   0E2B 73            [ 7] 2160 	ld	(hl),e
   0E2C 23            [ 6] 2161 	inc	hl
   0E2D 72            [ 7] 2162 	ld	(hl),d
                           2163 ;pff.c:793: tsect = LD_WORD(buf+BPB_TotSec16-13);				/* Number of sectors on the file system */
   0E2E DD 5E F2      [19] 2164 	ld	e,-14 (ix)
   0E31 DD 56 F3      [19] 2165 	ld	d,-13 (ix)
   0E34 D5            [11] 2166 	push	de
   0E35 FD E1         [14] 2167 	pop	iy
   0E37 DD 6E F2      [19] 2168 	ld	l,-14 (ix)
   0E3A DD 66 F3      [19] 2169 	ld	h,-13 (ix)
   0E3D 11 07 00      [10] 2170 	ld	de, #0x0007
   0E40 19            [11] 2171 	add	hl, de
   0E41 6E            [ 7] 2172 	ld	l,(hl)
   0E42 DD 75 F1      [19] 2173 	ld	-15 (ix),l
   0E45 DD 36 F0 00   [19] 2174 	ld	-16 (ix),#0x00
   0E49 FD 7E 06      [19] 2175 	ld	a, 6 (iy)
   0E4C 26 00         [ 7] 2176 	ld	h, #0x00
   0E4E DD B6 F0      [19] 2177 	or	a, -16 (ix)
   0E51 6F            [ 4] 2178 	ld	l,a
   0E52 7C            [ 4] 2179 	ld	a,h
   0E53 DD B6 F1      [19] 2180 	or	a, -15 (ix)
   0E56 DD 75 B7      [19] 2181 	ld	-73 (ix), l
   0E59 DD 77 B8      [19] 2182 	ld	-72 (ix), a
   0E5C DD 36 B9 00   [19] 2183 	ld	-71 (ix),#0x00
                           2184 ;pff.c:794: if (!tsect) tsect = LD_DWORD(buf+BPB_TotSec32-13);
   0E60 DD 36 BA 00   [19] 2185 	ld	-70 (ix), #0x00
   0E64 3E 00         [ 7] 2186 	ld	a, #0x00
   0E66 DD B6 B9      [19] 2187 	or	a, -71 (ix)
   0E69 DD B6 B8      [19] 2188 	or	a, -72 (ix)
   0E6C DD B6 B7      [19] 2189 	or	a,-73 (ix)
   0E6F C2r38r0F      [10] 2190 	jp	NZ,00119$
   0E72 DD 5E F2      [19] 2191 	ld	e,-14 (ix)
   0E75 DD 56 F3      [19] 2192 	ld	d,-13 (ix)
   0E78 D5            [11] 2193 	push	de
   0E79 FD E1         [14] 2194 	pop	iy
   0E7B DD 6E F2      [19] 2195 	ld	l,-14 (ix)
   0E7E DD 66 F3      [19] 2196 	ld	h,-13 (ix)
   0E81 11 16 00      [10] 2197 	ld	de, #0x0016
   0E84 19            [11] 2198 	add	hl, de
   0E85 66            [ 7] 2199 	ld	h,(hl)
   0E86 2E 00         [ 7] 2200 	ld	l,#0x00
   0E88 11 00 00      [10] 2201 	ld	de,#0x0000
   0E8B F5            [11] 2202 	push	af
   0E8C DD 74 F4      [19] 2203 	ld	-12 (ix),h
   0E8F DD 75 F5      [19] 2204 	ld	-11 (ix),l
   0E92 DD 73 F6      [19] 2205 	ld	-10 (ix),e
   0E95 DD 72 F7      [19] 2206 	ld	-9 (ix),d
   0E98 F1            [10] 2207 	pop	af
   0E99 3E 18         [ 7] 2208 	ld	a,#0x18
   0E9B                    2209 00208$:
   0E9B DD CB F4 26   [23] 2210 	sla	-12 (ix)
   0E9F DD CB F5 16   [23] 2211 	rl	-11 (ix)
   0EA3 DD CB F6 16   [23] 2212 	rl	-10 (ix)
   0EA7 DD CB F7 16   [23] 2213 	rl	-9 (ix)
   0EAB 3D            [ 4] 2214 	dec	a
   0EAC 20 ED         [12] 2215 	jr	NZ,00208$
   0EAE DD 6E F2      [19] 2216 	ld	l,-14 (ix)
   0EB1 DD 66 F3      [19] 2217 	ld	h,-13 (ix)
   0EB4 11 15 00      [10] 2218 	ld	de, #0x0015
   0EB7 19            [11] 2219 	add	hl, de
   0EB8 6E            [ 7] 2220 	ld	l,(hl)
   0EB9 26 00         [ 7] 2221 	ld	h,#0x00
   0EBB 11 00 00      [10] 2222 	ld	de,#0x0000
   0EBE 3E 10         [ 7] 2223 	ld	a,#0x10
   0EC0                    2224 00210$:
   0EC0 29            [11] 2225 	add	hl, hl
   0EC1 CB 12         [ 8] 2226 	rl	d
   0EC3 CB 13         [ 8] 2227 	rl	e
   0EC5 3D            [ 4] 2228 	dec	a
   0EC6 20 F8         [12] 2229 	jr	NZ,00210$
   0EC8 DD 7E F4      [19] 2230 	ld	a,-12 (ix)
   0ECB B5            [ 4] 2231 	or	a, l
   0ECC DD 77 F4      [19] 2232 	ld	-12 (ix),a
   0ECF DD 7E F5      [19] 2233 	ld	a,-11 (ix)
   0ED2 B4            [ 4] 2234 	or	a, h
   0ED3 DD 77 F5      [19] 2235 	ld	-11 (ix),a
   0ED6 DD 7E F6      [19] 2236 	ld	a,-10 (ix)
   0ED9 B2            [ 4] 2237 	or	a, d
   0EDA DD 77 F6      [19] 2238 	ld	-10 (ix),a
   0EDD DD 7E F7      [19] 2239 	ld	a,-9 (ix)
   0EE0 B3            [ 4] 2240 	or	a, e
   0EE1 DD 77 F7      [19] 2241 	ld	-9 (ix),a
   0EE4 DD 6E F2      [19] 2242 	ld	l,-14 (ix)
   0EE7 DD 66 F3      [19] 2243 	ld	h,-13 (ix)
   0EEA 11 14 00      [10] 2244 	ld	de, #0x0014
   0EED 19            [11] 2245 	add	hl, de
   0EEE 66            [ 7] 2246 	ld	h, (hl)
   0EEF 2E 00         [ 7] 2247 	ld	l,#0x00
   0EF1 11 00 00      [10] 2248 	ld	de,#0x0000
   0EF4 DD 7E F4      [19] 2249 	ld	a,-12 (ix)
   0EF7 B5            [ 4] 2250 	or	a, l
   0EF8 DD 77 F4      [19] 2251 	ld	-12 (ix),a
   0EFB DD 7E F5      [19] 2252 	ld	a,-11 (ix)
   0EFE B4            [ 4] 2253 	or	a, h
   0EFF DD 77 F5      [19] 2254 	ld	-11 (ix),a
   0F02 DD 7E F6      [19] 2255 	ld	a,-10 (ix)
   0F05 B2            [ 4] 2256 	or	a, d
   0F06 DD 77 F6      [19] 2257 	ld	-10 (ix),a
   0F09 DD 7E F7      [19] 2258 	ld	a,-9 (ix)
   0F0C B3            [ 4] 2259 	or	a, e
   0F0D DD 77 F7      [19] 2260 	ld	-9 (ix),a
   0F10 FD 6E 13      [19] 2261 	ld	l,19 (iy)
   0F13 26 00         [ 7] 2262 	ld	h,#0x00
   0F15 11 00 00      [10] 2263 	ld	de,#0x0000
   0F18 7D            [ 4] 2264 	ld	a,l
   0F19 DD B6 F4      [19] 2265 	or	a, -12 (ix)
   0F1C 6F            [ 4] 2266 	ld	l,a
   0F1D 7C            [ 4] 2267 	ld	a,h
   0F1E DD B6 F5      [19] 2268 	or	a, -11 (ix)
   0F21 67            [ 4] 2269 	ld	h,a
   0F22 7A            [ 4] 2270 	ld	a,d
   0F23 DD B6 F6      [19] 2271 	or	a, -10 (ix)
   0F26 57            [ 4] 2272 	ld	d,a
   0F27 7B            [ 4] 2273 	ld	a,e
   0F28 DD B6 F7      [19] 2274 	or	a, -9 (ix)
   0F2B 5F            [ 4] 2275 	ld	e,a
   0F2C DD 75 B7      [19] 2276 	ld	-73 (ix),l
   0F2F DD 74 B8      [19] 2277 	ld	-72 (ix),h
   0F32 DD 72 B9      [19] 2278 	ld	-71 (ix),d
   0F35 DD 73 BA      [19] 2279 	ld	-70 (ix),e
   0F38                    2280 00119$:
                           2281 ;pff.c:796: - LD_WORD(buf+BPB_RsvdSecCnt-13) - fsize - fs->n_rootdir / 16
   0F38 DD 6E E8      [19] 2282 	ld	l,-24 (ix)
   0F3B DD 66 E9      [19] 2283 	ld	h,-23 (ix)
   0F3E 56            [ 7] 2284 	ld	d,(hl)
   0F3F 1E 00         [ 7] 2285 	ld	e,#0x00
   0F41 DD 6E F8      [19] 2286 	ld	l,-8 (ix)
   0F44 DD 66 F9      [19] 2287 	ld	h,-7 (ix)
   0F47 66            [ 7] 2288 	ld	h,(hl)
   0F48 2E 00         [ 7] 2289 	ld	l,#0x00
   0F4A 7B            [ 4] 2290 	ld	a,e
   0F4B B4            [ 4] 2291 	or	a, h
   0F4C 5F            [ 4] 2292 	ld	e,a
   0F4D 7A            [ 4] 2293 	ld	a,d
   0F4E B5            [ 4] 2294 	or	a, l
   0F4F 57            [ 4] 2295 	ld	d,a
   0F50 21 00 00      [10] 2296 	ld	hl,#0x0000
   0F53 DD 7E B7      [19] 2297 	ld	a,-73 (ix)
   0F56 93            [ 4] 2298 	sub	a, e
   0F57 5F            [ 4] 2299 	ld	e,a
   0F58 DD 7E B8      [19] 2300 	ld	a,-72 (ix)
   0F5B 9A            [ 4] 2301 	sbc	a, d
   0F5C 57            [ 4] 2302 	ld	d,a
   0F5D DD 7E B9      [19] 2303 	ld	a,-71 (ix)
   0F60 9D            [ 4] 2304 	sbc	a, l
   0F61 6F            [ 4] 2305 	ld	l,a
   0F62 DD 7E BA      [19] 2306 	ld	a,-70 (ix)
   0F65 9C            [ 4] 2307 	sbc	a, h
   0F66 67            [ 4] 2308 	ld	h,a
   0F67 7B            [ 4] 2309 	ld	a,e
   0F68 DD 96 BB      [19] 2310 	sub	a, -69 (ix)
   0F6B DD 77 F4      [19] 2311 	ld	-12 (ix),a
   0F6E 7A            [ 4] 2312 	ld	a,d
   0F6F DD 9E BC      [19] 2313 	sbc	a, -68 (ix)
   0F72 DD 77 F5      [19] 2314 	ld	-11 (ix),a
   0F75 7D            [ 4] 2315 	ld	a,l
   0F76 DD 9E BD      [19] 2316 	sbc	a, -67 (ix)
   0F79 DD 77 F6      [19] 2317 	ld	-10 (ix),a
   0F7C 7C            [ 4] 2318 	ld	a,h
   0F7D DD 9E BE      [19] 2319 	sbc	a, -66 (ix)
   0F80 DD 77 F7      [19] 2320 	ld	-9 (ix),a
   0F83 DD 6E EA      [19] 2321 	ld	l,-22 (ix)
   0F86 DD 66 EB      [19] 2322 	ld	h,-21 (ix)
   0F89 5E            [ 7] 2323 	ld	e,(hl)
   0F8A 23            [ 6] 2324 	inc	hl
   0F8B 56            [ 7] 2325 	ld	d,(hl)
   0F8C CB 3A         [ 8] 2326 	srl	d
   0F8E CB 1B         [ 8] 2327 	rr	e
   0F90 CB 3A         [ 8] 2328 	srl	d
   0F92 CB 1B         [ 8] 2329 	rr	e
   0F94 CB 3A         [ 8] 2330 	srl	d
   0F96 CB 1B         [ 8] 2331 	rr	e
   0F98 CB 3A         [ 8] 2332 	srl	d
   0F9A CB 1B         [ 8] 2333 	rr	e
   0F9C 21 00 00      [10] 2334 	ld	hl,#0x0000
   0F9F DD 7E F4      [19] 2335 	ld	a,-12 (ix)
   0FA2 93            [ 4] 2336 	sub	a, e
   0FA3 DD 77 F4      [19] 2337 	ld	-12 (ix),a
   0FA6 DD 7E F5      [19] 2338 	ld	a,-11 (ix)
   0FA9 9A            [ 4] 2339 	sbc	a, d
   0FAA DD 77 F5      [19] 2340 	ld	-11 (ix),a
   0FAD DD 7E F6      [19] 2341 	ld	a,-10 (ix)
   0FB0 9C            [ 4] 2342 	sbc	a, h
   0FB1 DD 77 F6      [19] 2343 	ld	-10 (ix),a
   0FB4 DD 7E F7      [19] 2344 	ld	a,-9 (ix)
   0FB7 9D            [ 4] 2345 	sbc	a, l
   0FB8 DD 77 F7      [19] 2346 	ld	-9 (ix),a
                           2347 ;pff.c:797: ) / fs->csize + 2;
   0FBB DD 6E EC      [19] 2348 	ld	l,-20 (ix)
   0FBE DD 66 ED      [19] 2349 	ld	h,-19 (ix)
   0FC1 5E            [ 7] 2350 	ld	e,(hl)
   0FC2 16 00         [ 7] 2351 	ld	d,#0x00
   0FC4 21 00 00      [10] 2352 	ld	hl,#0x0000
   0FC7 C5            [11] 2353 	push	bc
   0FC8 E5            [11] 2354 	push	hl
   0FC9 D5            [11] 2355 	push	de
   0FCA DD 6E F6      [19] 2356 	ld	l,-10 (ix)
   0FCD DD 66 F7      [19] 2357 	ld	h,-9 (ix)
   0FD0 E5            [11] 2358 	push	hl
   0FD1 DD 6E F4      [19] 2359 	ld	l,-12 (ix)
   0FD4 DD 66 F5      [19] 2360 	ld	h,-11 (ix)
   0FD7 E5            [11] 2361 	push	hl
   0FD8 CDr00r00      [17] 2362 	call	__divulong_rrx_s
   0FDB F1            [10] 2363 	pop	af
   0FDC F1            [10] 2364 	pop	af
   0FDD F1            [10] 2365 	pop	af
   0FDE F1            [10] 2366 	pop	af
   0FDF C1            [10] 2367 	pop	bc
   0FE0 7D            [ 4] 2368 	ld	a,l
   0FE1 C6 02         [ 7] 2369 	add	a, #0x02
   0FE3 6F            [ 4] 2370 	ld	l,a
   0FE4 7C            [ 4] 2371 	ld	a,h
   0FE5 CE 00         [ 7] 2372 	adc	a, #0x00
   0FE7 67            [ 4] 2373 	ld	h,a
   0FE8 7B            [ 4] 2374 	ld	a,e
   0FE9 CE 00         [ 7] 2375 	adc	a, #0x00
   0FEB 5F            [ 4] 2376 	ld	e,a
   0FEC 7A            [ 4] 2377 	ld	a,d
   0FED CE 00         [ 7] 2378 	adc	a, #0x00
   0FEF 57            [ 4] 2379 	ld	d,a
                           2380 ;pff.c:798: fs->n_fatent = (CLUST)mclst;
   0FF0 FD 21 06 00   [14] 2381 	ld	iy,#0x0006
   0FF4 FD 09         [15] 2382 	add	iy, bc
   0FF6 FD 75 00      [19] 2383 	ld	0 (iy),l
   0FF9 FD 74 01      [19] 2384 	ld	1 (iy),h
   0FFC FD 73 02      [19] 2385 	ld	2 (iy),e
   0FFF FD 72 03      [19] 2386 	ld	3 (iy),d
                           2387 ;pff.c:800: fmt = 0;							/* Determine the FAT sub type */
   1002 DD 36 E7 00   [19] 2388 	ld	-25 (ix),#0x00
                           2389 ;pff.c:803: if (_FS_FAT16 && mclst >= 0xFF8 && mclst < 0xFFF7)
   1006 7D            [ 4] 2390 	ld	a,l
   1007 D6 F7         [ 7] 2391 	sub	a, #0xF7
   1009 7C            [ 4] 2392 	ld	a,h
   100A DE FF         [ 7] 2393 	sbc	a, #0xFF
   100C 7B            [ 4] 2394 	ld	a,e
   100D DE 00         [ 7] 2395 	sbc	a, #0x00
   100F 7A            [ 4] 2396 	ld	a,d
   1010 DE 00         [ 7] 2397 	sbc	a, #0x00
   1012 3E 00         [ 7] 2398 	ld	a,#0x00
   1014 17            [ 4] 2399 	rla
   1015 DD 77 F4      [19] 2400 	ld	-12 (ix),a
   1018 7D            [ 4] 2401 	ld	a,l
   1019 D6 F8         [ 7] 2402 	sub	a, #0xF8
   101B 7C            [ 4] 2403 	ld	a,h
   101C DE 0F         [ 7] 2404 	sbc	a, #0x0F
   101E 7B            [ 4] 2405 	ld	a,e
   101F DE 00         [ 7] 2406 	sbc	a, #0x00
   1021 7A            [ 4] 2407 	ld	a,d
   1022 DE 00         [ 7] 2408 	sbc	a, #0x00
   1024 38 0A         [12] 2409 	jr	C,00129$
   1026 DD 7E F4      [19] 2410 	ld	a,-12 (ix)
   1029 B7            [ 4] 2411 	or	a, a
   102A 28 04         [12] 2412 	jr	Z,00129$
                           2413 ;pff.c:804: fmt = FS_FAT16;
   102C DD 36 E7 02   [19] 2414 	ld	-25 (ix),#0x02
                           2415 ;pff.c:805: if (_FS_FAT32 && mclst >= 0xFFF7)
   1030                    2416 00129$:
   1030 DD 7E F4      [19] 2417 	ld	a,-12 (ix)
   1033 B7            [ 4] 2418 	or	a, a
   1034 20 04         [12] 2419 	jr	NZ,00128$
                           2420 ;pff.c:806: fmt = FS_FAT32;
   1036 DD 36 E7 03   [19] 2421 	ld	-25 (ix),#0x03
   103A                    2422 00128$:
                           2423 ;pff.c:807: if (!fmt) return FR_NO_FILESYSTEM;
   103A DD 7E E7      [19] 2424 	ld	a,-25 (ix)
   103D B7            [ 4] 2425 	or	a, a
   103E 20 05         [12] 2426 	jr	NZ,00131$
   1040 2E 06         [ 7] 2427 	ld	l,#0x06
   1042 C3rE4r11      [10] 2428 	jp	00137$
   1045                    2429 00131$:
                           2430 ;pff.c:808: fs->fs_type = fmt;
   1045 DD 7E E7      [19] 2431 	ld	a,-25 (ix)
   1048 02            [ 7] 2432 	ld	(bc),a
                           2433 ;pff.c:811: fs->dirbase = LD_DWORD(buf+(BPB_RootClus-13));	/* Root directory start cluster */
   1049 21 0E 00      [10] 2434 	ld	hl,#0x000E
   104C 09            [11] 2435 	add	hl,bc
   104D DD 75 F4      [19] 2436 	ld	-12 (ix),l
   1050 DD 74 F5      [19] 2437 	ld	-11 (ix),h
                           2438 ;pff.c:810: if (_FS_32ONLY || (_FS_FAT32 && fmt == FS_FAT32))
   1053 DD 7E E7      [19] 2439 	ld	a,-25 (ix)
   1056 D6 03         [ 7] 2440 	sub	a, #0x03
   1058 C2r30r11      [10] 2441 	jp	NZ,00133$
                           2442 ;pff.c:811: fs->dirbase = LD_DWORD(buf+(BPB_RootClus-13));	/* Root directory start cluster */
   105B DD 5E F2      [19] 2443 	ld	e,-14 (ix)
   105E DD 56 F3      [19] 2444 	ld	d,-13 (ix)
   1061 D5            [11] 2445 	push	de
   1062 FD E1         [14] 2446 	pop	iy
   1064 DD 6E F2      [19] 2447 	ld	l,-14 (ix)
   1067 DD 66 F3      [19] 2448 	ld	h,-13 (ix)
   106A 11 22 00      [10] 2449 	ld	de, #0x0022
   106D 19            [11] 2450 	add	hl, de
   106E 6E            [ 7] 2451 	ld	l,(hl)
   106F 26 00         [ 7] 2452 	ld	h,#0x00
   1071 11 00 00      [10] 2453 	ld	de,#0x0000
   1074 F5            [11] 2454 	push	af
   1075 DD 75 EC      [19] 2455 	ld	-20 (ix),l
   1078 DD 74 ED      [19] 2456 	ld	-19 (ix),h
   107B DD 73 EE      [19] 2457 	ld	-18 (ix),e
   107E DD 72 EF      [19] 2458 	ld	-17 (ix),d
   1081 F1            [10] 2459 	pop	af
   1082 3E 18         [ 7] 2460 	ld	a,#0x18
   1084                    2461 00214$:
   1084 DD CB EC 26   [23] 2462 	sla	-20 (ix)
   1088 DD CB ED 16   [23] 2463 	rl	-19 (ix)
   108C DD CB EE 16   [23] 2464 	rl	-18 (ix)
   1090 DD CB EF 16   [23] 2465 	rl	-17 (ix)
   1094 3D            [ 4] 2466 	dec	a
   1095 20 ED         [12] 2467 	jr	NZ,00214$
   1097 DD 6E F2      [19] 2468 	ld	l,-14 (ix)
   109A DD 66 F3      [19] 2469 	ld	h,-13 (ix)
   109D 11 21 00      [10] 2470 	ld	de, #0x0021
   10A0 19            [11] 2471 	add	hl, de
   10A1 6E            [ 7] 2472 	ld	l,(hl)
   10A2 26 00         [ 7] 2473 	ld	h,#0x00
   10A4 11 00 00      [10] 2474 	ld	de,#0x0000
   10A7 3E 10         [ 7] 2475 	ld	a,#0x10
   10A9                    2476 00216$:
   10A9 29            [11] 2477 	add	hl, hl
   10AA CB 13         [ 8] 2478 	rl	e
   10AC CB 12         [ 8] 2479 	rl	d
   10AE 3D            [ 4] 2480 	dec	a
   10AF 20 F8         [12] 2481 	jr	NZ,00216$
   10B1 DD 7E EC      [19] 2482 	ld	a,-20 (ix)
   10B4 B5            [ 4] 2483 	or	a, l
   10B5 DD 77 EC      [19] 2484 	ld	-20 (ix),a
   10B8 DD 7E ED      [19] 2485 	ld	a,-19 (ix)
   10BB B4            [ 4] 2486 	or	a, h
   10BC DD 77 ED      [19] 2487 	ld	-19 (ix),a
   10BF DD 7E EE      [19] 2488 	ld	a,-18 (ix)
   10C2 B3            [ 4] 2489 	or	a, e
   10C3 DD 77 EE      [19] 2490 	ld	-18 (ix),a
   10C6 DD 7E EF      [19] 2491 	ld	a,-17 (ix)
   10C9 B2            [ 4] 2492 	or	a, d
   10CA DD 77 EF      [19] 2493 	ld	-17 (ix),a
   10CD DD 6E F2      [19] 2494 	ld	l,-14 (ix)
   10D0 DD 66 F3      [19] 2495 	ld	h,-13 (ix)
   10D3 11 20 00      [10] 2496 	ld	de, #0x0020
   10D6 19            [11] 2497 	add	hl, de
   10D7 66            [ 7] 2498 	ld	h, (hl)
   10D8 2E 00         [ 7] 2499 	ld	l,#0x00
   10DA 11 00 00      [10] 2500 	ld	de,#0x0000
   10DD DD 7E EC      [19] 2501 	ld	a,-20 (ix)
   10E0 B5            [ 4] 2502 	or	a, l
   10E1 DD 77 EC      [19] 2503 	ld	-20 (ix),a
   10E4 DD 7E ED      [19] 2504 	ld	a,-19 (ix)
   10E7 B4            [ 4] 2505 	or	a, h
   10E8 DD 77 ED      [19] 2506 	ld	-19 (ix),a
   10EB DD 7E EE      [19] 2507 	ld	a,-18 (ix)
   10EE B2            [ 4] 2508 	or	a, d
   10EF DD 77 EE      [19] 2509 	ld	-18 (ix),a
   10F2 DD 7E EF      [19] 2510 	ld	a,-17 (ix)
   10F5 B3            [ 4] 2511 	or	a, e
   10F6 DD 77 EF      [19] 2512 	ld	-17 (ix),a
   10F9 FD 6E 1F      [19] 2513 	ld	l,31 (iy)
   10FC 26 00         [ 7] 2514 	ld	h,#0x00
   10FE 11 00 00      [10] 2515 	ld	de,#0x0000
   1101 DD 7E EC      [19] 2516 	ld	a,-20 (ix)
   1104 B5            [ 4] 2517 	or	a, l
   1105 DD 77 EC      [19] 2518 	ld	-20 (ix),a
   1108 DD 7E ED      [19] 2519 	ld	a,-19 (ix)
   110B B4            [ 4] 2520 	or	a, h
   110C DD 77 ED      [19] 2521 	ld	-19 (ix),a
   110F DD 7E EE      [19] 2522 	ld	a,-18 (ix)
   1112 B2            [ 4] 2523 	or	a, d
   1113 DD 77 EE      [19] 2524 	ld	-18 (ix),a
   1116 DD 7E EF      [19] 2525 	ld	a,-17 (ix)
   1119 B3            [ 4] 2526 	or	a, e
   111A DD 77 EF      [19] 2527 	ld	-17 (ix),a
   111D C5            [11] 2528 	push	bc
   111E DD 5E F4      [19] 2529 	ld	e,-12 (ix)
   1121 DD 56 F5      [19] 2530 	ld	d,-11 (ix)
   1124 21 37 00      [10] 2531 	ld	hl, #0x0037
   1127 39            [11] 2532 	add	hl, sp
   1128 01 04 00      [10] 2533 	ld	bc, #0x0004
   112B ED B0         [21] 2534 	ldir
   112D C1            [10] 2535 	pop	bc
   112E 18 3C         [12] 2536 	jr	00134$
   1130                    2537 00133$:
                           2538 ;pff.c:813: fs->dirbase = fs->fatbase + fsize;				/* Root directory start sector (lba) */
   1130 DD 6E FC      [19] 2539 	ld	l,-4 (ix)
   1133 DD 66 FD      [19] 2540 	ld	h,-3 (ix)
   1136 56            [ 7] 2541 	ld	d,(hl)
   1137 23            [ 6] 2542 	inc	hl
   1138 5E            [ 7] 2543 	ld	e,(hl)
   1139 23            [ 6] 2544 	inc	hl
   113A 23            [ 6] 2545 	inc	hl
   113B 7E            [ 7] 2546 	ld	a,(hl)
   113C 2B            [ 6] 2547 	dec	hl
   113D 66            [ 7] 2548 	ld	h,(hl)
   113E 6F            [ 4] 2549 	ld	l,a
   113F 7A            [ 4] 2550 	ld	a,d
   1140 DD 86 BB      [19] 2551 	add	a, -69 (ix)
   1143 DD 77 EC      [19] 2552 	ld	-20 (ix),a
   1146 7B            [ 4] 2553 	ld	a,e
   1147 DD 8E BC      [19] 2554 	adc	a, -68 (ix)
   114A DD 77 ED      [19] 2555 	ld	-19 (ix),a
   114D 7C            [ 4] 2556 	ld	a,h
   114E DD 8E BD      [19] 2557 	adc	a, -67 (ix)
   1151 DD 77 EE      [19] 2558 	ld	-18 (ix),a
   1154 7D            [ 4] 2559 	ld	a,l
   1155 DD 8E BE      [19] 2560 	adc	a, -66 (ix)
   1158 DD 77 EF      [19] 2561 	ld	-17 (ix),a
   115B C5            [11] 2562 	push	bc
   115C DD 5E F4      [19] 2563 	ld	e,-12 (ix)
   115F DD 56 F5      [19] 2564 	ld	d,-11 (ix)
   1162 21 37 00      [10] 2565 	ld	hl, #0x0037
   1165 39            [11] 2566 	add	hl, sp
   1166 01 04 00      [10] 2567 	ld	bc, #0x0004
   1169 ED B0         [21] 2568 	ldir
   116B C1            [10] 2569 	pop	bc
   116C                    2570 00134$:
                           2571 ;pff.c:814: fs->database = fs->fatbase + fsize + fs->n_rootdir / 16;	/* Data start sector (lba) */
   116C FD 21 12 00   [14] 2572 	ld	iy,#0x0012
   1170 FD 09         [15] 2573 	add	iy, bc
   1172 DD 6E FC      [19] 2574 	ld	l,-4 (ix)
   1175 DD 66 FD      [19] 2575 	ld	h,-3 (ix)
   1178 56            [ 7] 2576 	ld	d,(hl)
   1179 23            [ 6] 2577 	inc	hl
   117A 5E            [ 7] 2578 	ld	e,(hl)
   117B 23            [ 6] 2579 	inc	hl
   117C 23            [ 6] 2580 	inc	hl
   117D 7E            [ 7] 2581 	ld	a,(hl)
   117E 2B            [ 6] 2582 	dec	hl
   117F 6E            [ 7] 2583 	ld	l,(hl)
   1180 67            [ 4] 2584 	ld	h,a
   1181 7A            [ 4] 2585 	ld	a,d
   1182 DD 86 BB      [19] 2586 	add	a, -69 (ix)
   1185 DD 77 F4      [19] 2587 	ld	-12 (ix),a
   1188 7B            [ 4] 2588 	ld	a,e
   1189 DD 8E BC      [19] 2589 	adc	a, -68 (ix)
   118C DD 77 F5      [19] 2590 	ld	-11 (ix),a
   118F 7D            [ 4] 2591 	ld	a,l
   1190 DD 8E BD      [19] 2592 	adc	a, -67 (ix)
   1193 DD 77 F6      [19] 2593 	ld	-10 (ix),a
   1196 7C            [ 4] 2594 	ld	a,h
   1197 DD 8E BE      [19] 2595 	adc	a, -66 (ix)
   119A DD 77 F7      [19] 2596 	ld	-9 (ix),a
   119D DD 6E EA      [19] 2597 	ld	l,-22 (ix)
   11A0 DD 66 EB      [19] 2598 	ld	h,-21 (ix)
   11A3 5E            [ 7] 2599 	ld	e,(hl)
   11A4 23            [ 6] 2600 	inc	hl
   11A5 56            [ 7] 2601 	ld	d,(hl)
   11A6 CB 3A         [ 8] 2602 	srl	d
   11A8 CB 1B         [ 8] 2603 	rr	e
   11AA CB 3A         [ 8] 2604 	srl	d
   11AC CB 1B         [ 8] 2605 	rr	e
   11AE CB 3A         [ 8] 2606 	srl	d
   11B0 CB 1B         [ 8] 2607 	rr	e
   11B2 CB 3A         [ 8] 2608 	srl	d
   11B4 CB 1B         [ 8] 2609 	rr	e
   11B6 21 00 00      [10] 2610 	ld	hl,#0x0000
   11B9 DD 7E F4      [19] 2611 	ld	a,-12 (ix)
   11BC 83            [ 4] 2612 	add	a, e
   11BD 5F            [ 4] 2613 	ld	e,a
   11BE DD 7E F5      [19] 2614 	ld	a,-11 (ix)
   11C1 8A            [ 4] 2615 	adc	a, d
   11C2 57            [ 4] 2616 	ld	d,a
   11C3 DD 7E F6      [19] 2617 	ld	a,-10 (ix)
   11C6 8D            [ 4] 2618 	adc	a, l
   11C7 6F            [ 4] 2619 	ld	l,a
   11C8 DD 7E F7      [19] 2620 	ld	a,-9 (ix)
   11CB 8C            [ 4] 2621 	adc	a, h
   11CC 67            [ 4] 2622 	ld	h,a
   11CD FD 73 00      [19] 2623 	ld	0 (iy),e
   11D0 FD 72 01      [19] 2624 	ld	1 (iy),d
   11D3 FD 75 02      [19] 2625 	ld	2 (iy),l
   11D6 FD 74 03      [19] 2626 	ld	3 (iy),h
                           2627 ;pff.c:816: fs->flag = 0;
   11D9 69            [ 4] 2628 	ld	l, c
   11DA 60            [ 4] 2629 	ld	h, b
   11DB 23            [ 6] 2630 	inc	hl
   11DC 36 00         [10] 2631 	ld	(hl),#0x00
                           2632 ;pff.c:817: FatFs = fs;
   11DE ED 43r00r00   [20] 2633 	ld	(_FatFs),bc
                           2634 ;pff.c:819: return FR_OK;
   11E2 2E 00         [ 7] 2635 	ld	l,#0x00
   11E4                    2636 00137$:
   11E4 DD F9         [10] 2637 	ld	sp, ix
   11E6 DD E1         [14] 2638 	pop	ix
   11E8 C9            [10] 2639 	ret
   11E9                    2640 _pf_mount_end::
                           2641 ;pff.c:829: FRESULT pf_open (
                           2642 ;	---------------------------------
                           2643 ; Function pf_open
                           2644 ; ---------------------------------
   11E9                    2645 _pf_open_start::
   11E9                    2646 _pf_open:
   11E9 DD E5         [15] 2647 	push	ix
   11EB DD 21 00 00   [14] 2648 	ld	ix,#0
   11EF DD 39         [15] 2649 	add	ix,sp
   11F1 21 B6 FF      [10] 2650 	ld	hl,#-74
   11F4 39            [11] 2651 	add	hl,sp
   11F5 F9            [ 6] 2652 	ld	sp,hl
                           2653 ;pff.c:836: FATFS *fs = FatFs;
   11F6 ED 4Br00r00   [20] 2654 	ld	bc,(_FatFs)
                           2655 ;pff.c:839: if (!fs) return FR_NOT_ENABLED;		/* Check file system */
   11FA 78            [ 4] 2656 	ld	a,b
   11FB B1            [ 4] 2657 	or	a,c
   11FC 20 05         [12] 2658 	jr	NZ,00102$
   11FE 2E 05         [ 7] 2659 	ld	l,#0x05
   1200 C3r9Dr13      [10] 2660 	jp	00108$
   1203                    2661 00102$:
                           2662 ;pff.c:841: fs->flag = 0;
   1203 21 01 00      [10] 2663 	ld	hl,#0x0001
   1206 09            [11] 2664 	add	hl,bc
   1207 DD 75 FA      [19] 2665 	ld	-6 (ix),l
   120A DD 74 FB      [19] 2666 	ld	-5 (ix),h
   120D DD 6E FA      [19] 2667 	ld	l,-6 (ix)
   1210 DD 66 FB      [19] 2668 	ld	h,-5 (ix)
   1213 36 00         [10] 2669 	ld	(hl),#0x00
                           2670 ;pff.c:842: dj.fn = sp;
   1215 21 2C 00      [10] 2671 	ld	hl,#0x002C
   1218 39            [11] 2672 	add	hl,sp
   1219 EB            [ 4] 2673 	ex	de,hl
   121A 21 02 00      [10] 2674 	ld	hl,#0x0002
   121D 19            [11] 2675 	add	hl,de
   121E DD 75 F4      [19] 2676 	ld	-12 (ix),l
   1221 DD 74 F5      [19] 2677 	ld	-11 (ix),h
   1224 21 00 00      [10] 2678 	ld	hl,#0x0000
   1227 39            [11] 2679 	add	hl,sp
   1228 DD 75 F2      [19] 2680 	ld	-14 (ix),l
   122B DD 74 F3      [19] 2681 	ld	-13 (ix),h
   122E DD 6E F4      [19] 2682 	ld	l,-12 (ix)
   1231 DD 66 F5      [19] 2683 	ld	h,-11 (ix)
   1234 DD 7E F2      [19] 2684 	ld	a,-14 (ix)
   1237 77            [ 7] 2685 	ld	(hl),a
   1238 23            [ 6] 2686 	inc	hl
   1239 DD 7E F3      [19] 2687 	ld	a,-13 (ix)
   123C 77            [ 7] 2688 	ld	(hl),a
                           2689 ;pff.c:843: res = follow_path(&dj, dir, path);	/* Follow the file path */
   123D 21 0C 00      [10] 2690 	ld	hl,#0x000C
   1240 39            [11] 2691 	add	hl,sp
   1241 DD 75 F2      [19] 2692 	ld	-14 (ix),l
   1244 DD 74 F3      [19] 2693 	ld	-13 (ix),h
   1247 DD 6E F2      [19] 2694 	ld	l,-14 (ix)
   124A DD 66 F3      [19] 2695 	ld	h,-13 (ix)
   124D D5            [11] 2696 	push	de
   124E FD E1         [14] 2697 	pop	iy
   1250 C5            [11] 2698 	push	bc
   1251 DD 5E 04      [19] 2699 	ld	e,4 (ix)
   1254 DD 56 05      [19] 2700 	ld	d,5 (ix)
   1257 D5            [11] 2701 	push	de
   1258 E5            [11] 2702 	push	hl
   1259 FD E5         [15] 2703 	push	iy
   125B CDr47r08      [17] 2704 	call	_follow_path
   125E F1            [10] 2705 	pop	af
   125F F1            [10] 2706 	pop	af
   1260 F1            [10] 2707 	pop	af
   1261 C1            [10] 2708 	pop	bc
                           2709 ;pff.c:844: if (res != FR_OK) return res;		/* Follow failed */
   1262 7D            [ 4] 2710 	ld	a,l
   1263 B7            [ 4] 2711 	or	a, a
   1264 C2r9Dr13      [10] 2712 	jp	NZ,00108$
                           2713 ;pff.c:845: if (!dir[0] || (dir[DIR_Attr] & AM_DIR))	/* It is a directory */
   1267 DD 6E F2      [19] 2714 	ld	l,-14 (ix)
   126A DD 66 F3      [19] 2715 	ld	h,-13 (ix)
   126D 7E            [ 7] 2716 	ld	a,(hl)
   126E B7            [ 4] 2717 	or	a, a
   126F 28 0E         [12] 2718 	jr	Z,00105$
   1271 DD 6E F2      [19] 2719 	ld	l,-14 (ix)
   1274 DD 66 F3      [19] 2720 	ld	h,-13 (ix)
   1277 11 0B 00      [10] 2721 	ld	de, #0x000B
   127A 19            [11] 2722 	add	hl, de
   127B CB 66         [12] 2723 	bit	4,(hl)
   127D 28 05         [12] 2724 	jr	Z,00106$
   127F                    2725 00105$:
                           2726 ;pff.c:846: return FR_NO_FILE;
   127F 2E 03         [ 7] 2727 	ld	l,#0x03
   1281 C3r9Dr13      [10] 2728 	jp	00108$
   1284                    2729 00106$:
                           2730 ;pff.c:848: fs->org_clust = get_clust(dir);		/* File start cluster */
   1284 21 1E 00      [10] 2731 	ld	hl,#0x001E
   1287 09            [11] 2732 	add	hl,bc
   1288 DD 5E F2      [19] 2733 	ld	e,-14 (ix)
   128B DD 56 F3      [19] 2734 	ld	d,-13 (ix)
   128E E5            [11] 2735 	push	hl
   128F C5            [11] 2736 	push	bc
   1290 D5            [11] 2737 	push	de
   1291 CDr63r03      [17] 2738 	call	_get_clust
   1294 F1            [10] 2739 	pop	af
   1295 DD 72 F9      [19] 2740 	ld	-7 (ix),d
   1298 DD 73 F8      [19] 2741 	ld	-8 (ix),e
   129B DD 74 F7      [19] 2742 	ld	-9 (ix),h
   129E DD 75 F6      [19] 2743 	ld	-10 (ix),l
   12A1 C1            [10] 2744 	pop	bc
   12A2 E1            [10] 2745 	pop	hl
   12A3 C5            [11] 2746 	push	bc
   12A4 EB            [ 4] 2747 	ex	de,hl
   12A5 21 42 00      [10] 2748 	ld	hl, #0x0042
   12A8 39            [11] 2749 	add	hl, sp
   12A9 01 04 00      [10] 2750 	ld	bc, #0x0004
   12AC ED B0         [21] 2751 	ldir
   12AE C1            [10] 2752 	pop	bc
                           2753 ;pff.c:849: fs->fsize = LD_DWORD(dir+DIR_FileSize);	/* File size */
   12AF FD 21 1A 00   [14] 2754 	ld	iy,#0x001A
   12B3 FD 09         [15] 2755 	add	iy, bc
   12B5 DD 7E F2      [19] 2756 	ld	a,-14 (ix)
   12B8 DD 77 F6      [19] 2757 	ld	-10 (ix),a
   12BB DD 7E F3      [19] 2758 	ld	a,-13 (ix)
   12BE DD 77 F7      [19] 2759 	ld	-9 (ix),a
   12C1 DD 6E F2      [19] 2760 	ld	l,-14 (ix)
   12C4 DD 66 F3      [19] 2761 	ld	h,-13 (ix)
   12C7 11 1F 00      [10] 2762 	ld	de, #0x001F
   12CA 19            [11] 2763 	add	hl, de
   12CB 6E            [ 7] 2764 	ld	l,(hl)
   12CC 26 00         [ 7] 2765 	ld	h,#0x00
   12CE 11 00 00      [10] 2766 	ld	de,#0x0000
   12D1 F5            [11] 2767 	push	af
   12D2 DD 75 FC      [19] 2768 	ld	-4 (ix),l
   12D5 DD 74 FD      [19] 2769 	ld	-3 (ix),h
   12D8 DD 72 FE      [19] 2770 	ld	-2 (ix),d
   12DB DD 73 FF      [19] 2771 	ld	-1 (ix),e
   12DE F1            [10] 2772 	pop	af
   12DF 3E 18         [ 7] 2773 	ld	a,#0x18
   12E1                    2774 00123$:
   12E1 DD CB FC 26   [23] 2775 	sla	-4 (ix)
   12E5 DD CB FD 16   [23] 2776 	rl	-3 (ix)
   12E9 DD CB FE 16   [23] 2777 	rl	-2 (ix)
   12ED DD CB FF 16   [23] 2778 	rl	-1 (ix)
   12F1 3D            [ 4] 2779 	dec	a
   12F2 20 ED         [12] 2780 	jr	NZ,00123$
   12F4 DD 6E F2      [19] 2781 	ld	l,-14 (ix)
   12F7 DD 66 F3      [19] 2782 	ld	h,-13 (ix)
   12FA 11 1E 00      [10] 2783 	ld	de, #0x001E
   12FD 19            [11] 2784 	add	hl, de
   12FE 6E            [ 7] 2785 	ld	l,(hl)
   12FF 26 00         [ 7] 2786 	ld	h,#0x00
   1301 11 00 00      [10] 2787 	ld	de,#0x0000
   1304 3E 10         [ 7] 2788 	ld	a,#0x10
   1306                    2789 00125$:
   1306 29            [11] 2790 	add	hl, hl
   1307 CB 13         [ 8] 2791 	rl	e
   1309 CB 12         [ 8] 2792 	rl	d
   130B 3D            [ 4] 2793 	dec	a
   130C 20 F8         [12] 2794 	jr	NZ,00125$
   130E DD 7E FC      [19] 2795 	ld	a,-4 (ix)
   1311 B5            [ 4] 2796 	or	a, l
   1312 DD 77 FC      [19] 2797 	ld	-4 (ix),a
   1315 DD 7E FD      [19] 2798 	ld	a,-3 (ix)
   1318 B4            [ 4] 2799 	or	a, h
   1319 DD 77 FD      [19] 2800 	ld	-3 (ix),a
   131C DD 7E FE      [19] 2801 	ld	a,-2 (ix)
   131F B3            [ 4] 2802 	or	a, e
   1320 DD 77 FE      [19] 2803 	ld	-2 (ix),a
   1323 DD 7E FF      [19] 2804 	ld	a,-1 (ix)
   1326 B2            [ 4] 2805 	or	a, d
   1327 DD 77 FF      [19] 2806 	ld	-1 (ix),a
   132A DD 6E F2      [19] 2807 	ld	l,-14 (ix)
   132D DD 66 F3      [19] 2808 	ld	h,-13 (ix)
   1330 11 1D 00      [10] 2809 	ld	de, #0x001D
   1333 19            [11] 2810 	add	hl, de
   1334 66            [ 7] 2811 	ld	h, (hl)
   1335 2E 00         [ 7] 2812 	ld	l,#0x00
   1337 11 00 00      [10] 2813 	ld	de,#0x0000
   133A DD 7E FC      [19] 2814 	ld	a,-4 (ix)
   133D B5            [ 4] 2815 	or	a, l
   133E DD 77 FC      [19] 2816 	ld	-4 (ix),a
   1341 DD 7E FD      [19] 2817 	ld	a,-3 (ix)
   1344 B4            [ 4] 2818 	or	a, h
   1345 DD 77 FD      [19] 2819 	ld	-3 (ix),a
   1348 DD 7E FE      [19] 2820 	ld	a,-2 (ix)
   134B B3            [ 4] 2821 	or	a, e
   134C DD 77 FE      [19] 2822 	ld	-2 (ix),a
   134F DD 7E FF      [19] 2823 	ld	a,-1 (ix)
   1352 B2            [ 4] 2824 	or	a, d
   1353 DD 77 FF      [19] 2825 	ld	-1 (ix),a
   1356 DD 6E F6      [19] 2826 	ld	l,-10 (ix)
   1359 DD 66 F7      [19] 2827 	ld	h,-9 (ix)
   135C 11 1C 00      [10] 2828 	ld	de, #0x001C
   135F 19            [11] 2829 	add	hl, de
   1360 6E            [ 7] 2830 	ld	l,(hl)
   1361 26 00         [ 7] 2831 	ld	h,#0x00
   1363 11 00 00      [10] 2832 	ld	de,#0x0000
   1366 7D            [ 4] 2833 	ld	a,l
   1367 DD B6 FC      [19] 2834 	or	a, -4 (ix)
   136A 6F            [ 4] 2835 	ld	l,a
   136B 7C            [ 4] 2836 	ld	a,h
   136C DD B6 FD      [19] 2837 	or	a, -3 (ix)
   136F 67            [ 4] 2838 	ld	h,a
   1370 7B            [ 4] 2839 	ld	a,e
   1371 DD B6 FE      [19] 2840 	or	a, -2 (ix)
   1374 5F            [ 4] 2841 	ld	e,a
   1375 7A            [ 4] 2842 	ld	a,d
   1376 DD B6 FF      [19] 2843 	or	a, -1 (ix)
   1379 57            [ 4] 2844 	ld	d,a
   137A FD 75 00      [19] 2845 	ld	0 (iy),l
   137D FD 74 01      [19] 2846 	ld	1 (iy),h
   1380 FD 73 02      [19] 2847 	ld	2 (iy),e
   1383 FD 72 03      [19] 2848 	ld	3 (iy),d
                           2849 ;pff.c:850: fs->fptr = 0;						/* File pointer */
   1386 21 16 00      [10] 2850 	ld	hl,#0x0016
   1389 09            [11] 2851 	add	hl,bc
   138A AF            [ 4] 2852 	xor	a, a
   138B 77            [ 7] 2853 	ld	(hl), a
   138C 23            [ 6] 2854 	inc	hl
   138D 77            [ 7] 2855 	ld	(hl), a
   138E 23            [ 6] 2856 	inc	hl
   138F AF            [ 4] 2857 	xor	a, a
   1390 77            [ 7] 2858 	ld	(hl), a
   1391 23            [ 6] 2859 	inc	hl
   1392 77            [ 7] 2860 	ld	(hl), a
                           2861 ;pff.c:851: fs->flag = FA_OPENED;
   1393 DD 6E FA      [19] 2862 	ld	l,-6 (ix)
   1396 DD 66 FB      [19] 2863 	ld	h,-5 (ix)
   1399 36 01         [10] 2864 	ld	(hl),#0x01
                           2865 ;pff.c:853: return FR_OK;
   139B 2E 00         [ 7] 2866 	ld	l,#0x00
   139D                    2867 00108$:
   139D DD F9         [10] 2868 	ld	sp, ix
   139F DD E1         [14] 2869 	pop	ix
   13A1 C9            [10] 2870 	ret
   13A2                    2871 _pf_open_end::
                           2872 ;pff.c:864: FRESULT pf_read (
                           2873 ;	---------------------------------
                           2874 ; Function pf_read
                           2875 ; ---------------------------------
   13A2                    2876 _pf_read_start::
   13A2                    2877 _pf_read:
   13A2 DD E5         [15] 2878 	push	ix
   13A4 DD 21 00 00   [14] 2879 	ld	ix,#0
   13A8 DD 39         [15] 2880 	add	ix,sp
   13AA 21 CC FF      [10] 2881 	ld	hl,#-52
   13AD 39            [11] 2882 	add	hl,sp
   13AE F9            [ 6] 2883 	ld	sp,hl
                           2884 ;pff.c:874: BYTE cs, *rbuff = buff;
   13AF DD 7E 04      [19] 2885 	ld	a,4 (ix)
   13B2 DD 77 DD      [19] 2886 	ld	-35 (ix),a
   13B5 DD 7E 05      [19] 2887 	ld	a,5 (ix)
   13B8 DD 77 DE      [19] 2888 	ld	-34 (ix),a
                           2889 ;pff.c:875: FATFS *fs = FatFs;
   13BB 2Ar00r00      [16] 2890 	ld	hl,(_FatFs)
   13BE DD 75 D5      [19] 2891 	ld	-43 (ix),l
   13C1 DD 74 D6      [19] 2892 	ld	-42 (ix),h
                           2893 ;pff.c:878: *br = 0;
   13C4 DD 7E 08      [19] 2894 	ld	a,8 (ix)
   13C7 DD 77 FC      [19] 2895 	ld	-4 (ix),a
   13CA DD 7E 09      [19] 2896 	ld	a,9 (ix)
   13CD DD 77 FD      [19] 2897 	ld	-3 (ix),a
   13D0 DD 6E FC      [19] 2898 	ld	l,-4 (ix)
   13D3 DD 66 FD      [19] 2899 	ld	h,-3 (ix)
   13D6 AF            [ 4] 2900 	xor	a, a
   13D7 77            [ 7] 2901 	ld	(hl), a
   13D8 23            [ 6] 2902 	inc	hl
   13D9 77            [ 7] 2903 	ld	(hl), a
                           2904 ;pff.c:879: if (!fs) return FR_NOT_ENABLED;		/* Check file system */
   13DA DD 7E D6      [19] 2905 	ld	a,-42 (ix)
   13DD DD B6 D5      [19] 2906 	or	a,-43 (ix)
   13E0 20 05         [12] 2907 	jr	NZ,00102$
   13E2 2E 05         [ 7] 2908 	ld	l,#0x05
   13E4 C3r26r18      [10] 2909 	jp	00125$
   13E7                    2910 00102$:
                           2911 ;pff.c:880: if (!(fs->flag & FA_OPENED))		/* Check if opened */
   13E7 DD 7E D5      [19] 2912 	ld	a,-43 (ix)
   13EA C6 01         [ 7] 2913 	add	a, #0x01
   13EC DD 77 FE      [19] 2914 	ld	-2 (ix),a
   13EF DD 7E D6      [19] 2915 	ld	a,-42 (ix)
   13F2 CE 00         [ 7] 2916 	adc	a, #0x00
   13F4 DD 77 FF      [19] 2917 	ld	-1 (ix),a
   13F7 DD 6E FE      [19] 2918 	ld	l,-2 (ix)
   13FA DD 66 FF      [19] 2919 	ld	h,-1 (ix)
   13FD 7E            [ 7] 2920 	ld	a,(hl)
   13FE 0F            [ 4] 2921 	rrca
   13FF 38 05         [12] 2922 	jr	C,00104$
                           2923 ;pff.c:881: return FR_NOT_OPENED;
   1401 2E 04         [ 7] 2924 	ld	l,#0x04
   1403 C3r26r18      [10] 2925 	jp	00125$
   1406                    2926 00104$:
                           2927 ;pff.c:883: remain = fs->fsize - fs->fptr;
   1406 DD 7E D5      [19] 2928 	ld	a,-43 (ix)
   1409 DD 77 EB      [19] 2929 	ld	-21 (ix),a
   140C DD 7E D6      [19] 2930 	ld	a,-42 (ix)
   140F DD 77 EC      [19] 2931 	ld	-20 (ix),a
   1412 DD 6E EB      [19] 2932 	ld	l,-21 (ix)
   1415 DD 66 EC      [19] 2933 	ld	h,-20 (ix)
   1418 11 1A 00      [10] 2934 	ld	de, #0x001A
   141B 19            [11] 2935 	add	hl, de
   141C 7E            [ 7] 2936 	ld	a,(hl)
   141D DD 77 F8      [19] 2937 	ld	-8 (ix),a
   1420 23            [ 6] 2938 	inc	hl
   1421 7E            [ 7] 2939 	ld	a,(hl)
   1422 DD 77 F9      [19] 2940 	ld	-7 (ix),a
   1425 23            [ 6] 2941 	inc	hl
   1426 7E            [ 7] 2942 	ld	a,(hl)
   1427 DD 77 FA      [19] 2943 	ld	-6 (ix),a
   142A 23            [ 6] 2944 	inc	hl
   142B 7E            [ 7] 2945 	ld	a,(hl)
   142C DD 77 FB      [19] 2946 	ld	-5 (ix),a
   142F DD 7E D5      [19] 2947 	ld	a,-43 (ix)
   1432 C6 16         [ 7] 2948 	add	a, #0x16
   1434 DD 77 EB      [19] 2949 	ld	-21 (ix),a
   1437 DD 7E D6      [19] 2950 	ld	a,-42 (ix)
   143A CE 00         [ 7] 2951 	adc	a, #0x00
   143C DD 77 EC      [19] 2952 	ld	-20 (ix),a
   143F DD 5E EB      [19] 2953 	ld	e,-21 (ix)
   1442 DD 56 EC      [19] 2954 	ld	d,-20 (ix)
   1445 21 24 00      [10] 2955 	ld	hl, #0x0024
   1448 39            [11] 2956 	add	hl, sp
   1449 EB            [ 4] 2957 	ex	de, hl
   144A 01 04 00      [10] 2958 	ld	bc, #0x0004
   144D ED B0         [21] 2959 	ldir
   144F DD 7E F8      [19] 2960 	ld	a,-8 (ix)
   1452 DD 96 F0      [19] 2961 	sub	a, -16 (ix)
   1455 DD 77 CC      [19] 2962 	ld	-52 (ix),a
   1458 DD 7E F9      [19] 2963 	ld	a,-7 (ix)
   145B DD 9E F1      [19] 2964 	sbc	a, -15 (ix)
   145E DD 77 CD      [19] 2965 	ld	-51 (ix),a
   1461 DD 7E FA      [19] 2966 	ld	a,-6 (ix)
   1464 DD 9E F2      [19] 2967 	sbc	a, -14 (ix)
   1467 DD 77 CE      [19] 2968 	ld	-50 (ix),a
   146A DD 7E FB      [19] 2969 	ld	a,-5 (ix)
   146D DD 9E F3      [19] 2970 	sbc	a, -13 (ix)
   1470 DD 77 CF      [19] 2971 	ld	-49 (ix),a
                           2972 ;pff.c:884: if (btr > remain) btr = (UINT)remain;			/* Truncate btr by remaining bytes */
   1473 DD 7E 06      [19] 2973 	ld	a,6 (ix)
   1476 DD 77 F0      [19] 2974 	ld	-16 (ix),a
   1479 DD 7E 07      [19] 2975 	ld	a,7 (ix)
   147C DD 77 F1      [19] 2976 	ld	-15 (ix),a
   147F DD 36 F2 00   [19] 2977 	ld	-14 (ix),#0x00
   1483 DD 36 F3 00   [19] 2978 	ld	-13 (ix),#0x00
   1487 DD 7E CC      [19] 2979 	ld	a,-52 (ix)
   148A DD 96 F0      [19] 2980 	sub	a, -16 (ix)
   148D DD 7E CD      [19] 2981 	ld	a,-51 (ix)
   1490 DD 9E F1      [19] 2982 	sbc	a, -15 (ix)
   1493 DD 7E CE      [19] 2983 	ld	a,-50 (ix)
   1496 DD 9E F2      [19] 2984 	sbc	a, -14 (ix)
   1499 DD 7E CF      [19] 2985 	ld	a,-49 (ix)
   149C DD 9E F3      [19] 2986 	sbc	a, -13 (ix)
   149F 30 0C         [12] 2987 	jr	NC,00141$
   14A1 DD 7E CC      [19] 2988 	ld	a,-52 (ix)
   14A4 DD 77 06      [19] 2989 	ld	6 (ix),a
   14A7 DD 7E CD      [19] 2990 	ld	a,-51 (ix)
   14AA DD 77 07      [19] 2991 	ld	7 (ix),a
                           2992 ;pff.c:886: while (btr)	{									/* Repeat until all data transferred */
   14AD                    2993 00141$:
   14AD DD 7E D5      [19] 2994 	ld	a,-43 (ix)
   14B0 C6 22         [ 7] 2995 	add	a, #0x22
   14B2 DD 77 F0      [19] 2996 	ld	-16 (ix),a
   14B5 DD 7E D6      [19] 2997 	ld	a,-42 (ix)
   14B8 CE 00         [ 7] 2998 	adc	a, #0x00
   14BA DD 77 F1      [19] 2999 	ld	-15 (ix),a
   14BD DD 7E D5      [19] 3000 	ld	a,-43 (ix)
   14C0 DD 77 F8      [19] 3001 	ld	-8 (ix),a
   14C3 DD 7E D6      [19] 3002 	ld	a,-42 (ix)
   14C6 DD 77 F9      [19] 3003 	ld	-7 (ix),a
   14C9 DD 7E D5      [19] 3004 	ld	a,-43 (ix)
   14CC DD 77 ED      [19] 3005 	ld	-19 (ix),a
   14CF DD 7E D6      [19] 3006 	ld	a,-42 (ix)
   14D2 DD 77 EE      [19] 3007 	ld	-18 (ix),a
   14D5 DD 7E D5      [19] 3008 	ld	a,-43 (ix)
   14D8 C6 26         [ 7] 3009 	add	a, #0x26
   14DA DD 77 E1      [19] 3010 	ld	-31 (ix),a
   14DD DD 7E D6      [19] 3011 	ld	a,-42 (ix)
   14E0 CE 00         [ 7] 3012 	adc	a, #0x00
   14E2 DD 77 E2      [19] 3013 	ld	-30 (ix),a
   14E5 DD 7E 05      [19] 3014 	ld	a,5 (ix)
   14E8 DD B6 04      [19] 3015 	or	a, 4 (ix)
   14EB D6 01         [ 7] 3016 	sub	a,#0x01
   14ED 3E 00         [ 7] 3017 	ld	a,#0x00
   14EF 17            [ 4] 3018 	rla
   14F0 DD 77 E0      [19] 3019 	ld	-32 (ix),a
   14F3                    3020 00122$:
   14F3 DD 7E 07      [19] 3021 	ld	a,7 (ix)
   14F6 DD B6 06      [19] 3022 	or	a,6 (ix)
   14F9 CAr24r18      [10] 3023 	jp	Z,00124$
                           3024 ;pff.c:887: if ((fs->fptr % 512) == 0) {				/* On the sector boundary? */
   14FC DD 5E EB      [19] 3025 	ld	e,-21 (ix)
   14FF DD 56 EC      [19] 3026 	ld	d,-20 (ix)
   1502 21 17 00      [10] 3027 	ld	hl, #0x0017
   1505 39            [11] 3028 	add	hl, sp
   1506 EB            [ 4] 3029 	ex	de, hl
   1507 01 04 00      [10] 3030 	ld	bc, #0x0004
   150A ED B0         [21] 3031 	ldir
   150C DD 7E E3      [19] 3032 	ld	a,-29 (ix)
   150F B7            [ 4] 3033 	or	a, a
   1510 C2rB5r16      [10] 3034 	jp	NZ,00117$
   1513 DD CB E4 46   [20] 3035 	bit	0, -28 (ix)
   1517 C2rB5r16      [10] 3036 	jp	NZ,00117$
                           3037 ;pff.c:888: cs = (BYTE)(fs->fptr / 512 & (fs->csize - 1));	/* Sector offset in the cluster */
   151A F5            [11] 3038 	push	af
   151B DD 7E E3      [19] 3039 	ld	a,-29 (ix)
   151E DD 77 E7      [19] 3040 	ld	-25 (ix),a
   1521 DD 7E E4      [19] 3041 	ld	a,-28 (ix)
   1524 DD 77 E8      [19] 3042 	ld	-24 (ix),a
   1527 DD 7E E5      [19] 3043 	ld	a,-27 (ix)
   152A DD 77 E9      [19] 3044 	ld	-23 (ix),a
   152D DD 7E E6      [19] 3045 	ld	a,-26 (ix)
   1530 DD 77 EA      [19] 3046 	ld	-22 (ix),a
   1533 F1            [10] 3047 	pop	af
   1534 06 09         [ 7] 3048 	ld	b,#0x09
   1536                    3049 00185$:
   1536 DD CB EA 3E   [23] 3050 	srl	-22 (ix)
   153A DD CB E9 1E   [23] 3051 	rr	-23 (ix)
   153E DD CB E8 1E   [23] 3052 	rr	-24 (ix)
   1542 DD CB E7 1E   [23] 3053 	rr	-25 (ix)
   1546 10 EE         [13] 3054 	djnz	00185$
   1548 DD 6E ED      [19] 3055 	ld	l,-19 (ix)
   154B DD 66 EE      [19] 3056 	ld	h,-18 (ix)
   154E 23            [ 6] 3057 	inc	hl
   154F 23            [ 6] 3058 	inc	hl
   1550 7E            [ 7] 3059 	ld	a,(hl)
   1551 DD 77 EF      [19] 3060 	ld	-17 (ix),a
   1554 DD 35 EF      [23] 3061 	dec	-17 (ix)
   1557 DD 7E EF      [19] 3062 	ld	a,-17 (ix)
   155A DD 77 F4      [19] 3063 	ld	-12 (ix),a
   155D DD 36 F5 00   [19] 3064 	ld	-11 (ix),#0x00
   1561 DD 36 F6 00   [19] 3065 	ld	-10 (ix),#0x00
   1565 DD 36 F7 00   [19] 3066 	ld	-9 (ix),#0x00
   1569 DD 7E E7      [19] 3067 	ld	a,-25 (ix)
   156C DD A6 F4      [19] 3068 	and	a, -12 (ix)
   156F 67            [ 4] 3069 	ld	h,a
   1570 DD 7E E8      [19] 3070 	ld	a,-24 (ix)
   1573 DD A6 F5      [19] 3071 	and	a, -11 (ix)
   1576 DD 7E E9      [19] 3072 	ld	a,-23 (ix)
   1579 DD A6 F6      [19] 3073 	and	a, -10 (ix)
   157C DD 7E EA      [19] 3074 	ld	a,-22 (ix)
   157F DD A6 F7      [19] 3075 	and	a, -9 (ix)
                           3076 ;pff.c:889: if (!cs) {								/* On the cluster boundary? */
   1582 DD 74 D0      [19] 3077 	ld	-48 (ix), h
   1585 7C            [ 4] 3078 	ld	a, h
   1586 B7            [ 4] 3079 	or	a, a
   1587 C2r26r16      [10] 3080 	jp	NZ,00113$
                           3081 ;pff.c:890: if (fs->fptr == 0)					/* On the top of the file? */
   158A DD 7E E6      [19] 3082 	ld	a,-26 (ix)
   158D DD B6 E5      [19] 3083 	or	a, -27 (ix)
   1590 DD B6 E4      [19] 3084 	or	a, -28 (ix)
   1593 DD B6 E3      [19] 3085 	or	a,-29 (ix)
   1596 20 1F         [12] 3086 	jr	NZ,00108$
                           3087 ;pff.c:891: clst = fs->org_clust;
   1598 DD 6E F8      [19] 3088 	ld	l,-8 (ix)
   159B DD 66 F9      [19] 3089 	ld	h,-7 (ix)
   159E 11 1E 00      [10] 3090 	ld	de, #0x001E
   15A1 19            [11] 3091 	add	hl, de
   15A2 7E            [ 7] 3092 	ld	a,(hl)
   15A3 DD 77 D9      [19] 3093 	ld	-39 (ix),a
   15A6 23            [ 6] 3094 	inc	hl
   15A7 7E            [ 7] 3095 	ld	a,(hl)
   15A8 DD 77 DA      [19] 3096 	ld	-38 (ix),a
   15AB 23            [ 6] 3097 	inc	hl
   15AC 7E            [ 7] 3098 	ld	a,(hl)
   15AD DD 77 DB      [19] 3099 	ld	-37 (ix),a
   15B0 23            [ 6] 3100 	inc	hl
   15B1 7E            [ 7] 3101 	ld	a,(hl)
   15B2 DD 77 DC      [19] 3102 	ld	-36 (ix),a
   15B5 18 3D         [12] 3103 	jr	00109$
   15B7                    3104 00108$:
                           3105 ;pff.c:893: clst = get_fat(fs->curr_clust);
   15B7 DD 5E F0      [19] 3106 	ld	e,-16 (ix)
   15BA DD 56 F1      [19] 3107 	ld	d,-15 (ix)
   15BD 21 28 00      [10] 3108 	ld	hl, #0x0028
   15C0 39            [11] 3109 	add	hl, sp
   15C1 EB            [ 4] 3110 	ex	de, hl
   15C2 01 04 00      [10] 3111 	ld	bc, #0x0004
   15C5 ED B0         [21] 3112 	ldir
   15C7 DD 6E F6      [19] 3113 	ld	l,-10 (ix)
   15CA DD 66 F7      [19] 3114 	ld	h,-9 (ix)
   15CD E5            [11] 3115 	push	hl
   15CE DD 6E F4      [19] 3116 	ld	l,-12 (ix)
   15D1 DD 66 F5      [19] 3117 	ld	h,-11 (ix)
   15D4 E5            [11] 3118 	push	hl
   15D5 CDr8Ar00      [17] 3119 	call	_get_fat
   15D8 F1            [10] 3120 	pop	af
   15D9 F1            [10] 3121 	pop	af
   15DA DD 72 F7      [19] 3122 	ld	-9 (ix),d
   15DD DD 73 F6      [19] 3123 	ld	-10 (ix),e
   15E0 DD 74 F5      [19] 3124 	ld	-11 (ix),h
   15E3 DD 75 F4      [19] 3125 	ld	-12 (ix),l
   15E6 21 0D 00      [10] 3126 	ld	hl, #13
   15E9 39            [11] 3127 	add	hl, sp
   15EA EB            [ 4] 3128 	ex	de, hl
   15EB 21 28 00      [10] 3129 	ld	hl, #40
   15EE 39            [11] 3130 	add	hl, sp
   15EF 01 04 00      [10] 3131 	ld	bc, #4
   15F2 ED B0         [21] 3132 	ldir
   15F4                    3133 00109$:
                           3134 ;pff.c:894: if (clst <= 1) ABORT(FR_DISK_ERR);
   15F4 3E 01         [ 7] 3135 	ld	a,#0x01
   15F6 DD BE D9      [19] 3136 	cp	a, -39 (ix)
   15F9 3E 00         [ 7] 3137 	ld	a,#0x00
   15FB DD 9E DA      [19] 3138 	sbc	a, -38 (ix)
   15FE 3E 00         [ 7] 3139 	ld	a,#0x00
   1600 DD 9E DB      [19] 3140 	sbc	a, -37 (ix)
   1603 3E 00         [ 7] 3141 	ld	a,#0x00
   1605 DD 9E DC      [19] 3142 	sbc	a, -36 (ix)
   1608 38 0D         [12] 3143 	jr	C,00111$
   160A DD 6E FE      [19] 3144 	ld	l,-2 (ix)
   160D DD 66 FF      [19] 3145 	ld	h,-1 (ix)
   1610 36 00         [10] 3146 	ld	(hl),#0x00
   1612 2E 01         [ 7] 3147 	ld	l,#0x01
   1614 C3r26r18      [10] 3148 	jp	00125$
   1617                    3149 00111$:
                           3150 ;pff.c:895: fs->curr_clust = clst;				/* Update current cluster */
   1617 DD 5E F0      [19] 3151 	ld	e,-16 (ix)
   161A DD 56 F1      [19] 3152 	ld	d,-15 (ix)
   161D 21 0D 00      [10] 3153 	ld	hl, #0x000D
   1620 39            [11] 3154 	add	hl, sp
   1621 01 04 00      [10] 3155 	ld	bc, #0x0004
   1624 ED B0         [21] 3156 	ldir
   1626                    3157 00113$:
                           3158 ;pff.c:897: sect = clust2sect(fs->curr_clust);		/* Get current sector */
   1626 DD 5E F0      [19] 3159 	ld	e,-16 (ix)
   1629 DD 56 F1      [19] 3160 	ld	d,-15 (ix)
   162C 21 28 00      [10] 3161 	ld	hl, #0x0028
   162F 39            [11] 3162 	add	hl, sp
   1630 EB            [ 4] 3163 	ex	de, hl
   1631 01 04 00      [10] 3164 	ld	bc, #0x0004
   1634 ED B0         [21] 3165 	ldir
   1636 DD 6E F6      [19] 3166 	ld	l,-10 (ix)
   1639 DD 66 F7      [19] 3167 	ld	h,-9 (ix)
   163C E5            [11] 3168 	push	hl
   163D DD 6E F4      [19] 3169 	ld	l,-12 (ix)
   1640 DD 66 F5      [19] 3170 	ld	h,-11 (ix)
   1643 E5            [11] 3171 	push	hl
   1644 CDrAAr02      [17] 3172 	call	_clust2sect
   1647 F1            [10] 3173 	pop	af
   1648 F1            [10] 3174 	pop	af
   1649 DD 72 D4      [19] 3175 	ld	-44 (ix),d
   164C DD 73 D3      [19] 3176 	ld	-45 (ix),e
   164F DD 74 D2      [19] 3177 	ld	-46 (ix),h
   1652 DD 75 D1      [19] 3178 	ld	-47 (ix),l
                           3179 ;pff.c:898: if (!sect) ABORT(FR_DISK_ERR);
   1655 DD 7E D4      [19] 3180 	ld	a,-44 (ix)
   1658 DD B6 D3      [19] 3181 	or	a, -45 (ix)
   165B DD B6 D2      [19] 3182 	or	a, -46 (ix)
   165E DD B6 D1      [19] 3183 	or	a,-47 (ix)
   1661 20 0D         [12] 3184 	jr	NZ,00115$
   1663 DD 6E FE      [19] 3185 	ld	l,-2 (ix)
   1666 DD 66 FF      [19] 3186 	ld	h,-1 (ix)
   1669 36 00         [10] 3187 	ld	(hl),#0x00
   166B 2E 01         [ 7] 3188 	ld	l,#0x01
   166D C3r26r18      [10] 3189 	jp	00125$
   1670                    3190 00115$:
                           3191 ;pff.c:899: fs->dsect = sect + cs;
   1670 DD 7E D0      [19] 3192 	ld	a,-48 (ix)
   1673 DD 77 F4      [19] 3193 	ld	-12 (ix),a
   1676 DD 36 F5 00   [19] 3194 	ld	-11 (ix),#0x00
   167A DD 36 F6 00   [19] 3195 	ld	-10 (ix),#0x00
   167E DD 36 F7 00   [19] 3196 	ld	-9 (ix),#0x00
   1682 DD 7E D1      [19] 3197 	ld	a,-47 (ix)
   1685 DD 86 F4      [19] 3198 	add	a, -12 (ix)
   1688 DD 77 F4      [19] 3199 	ld	-12 (ix),a
   168B DD 7E D2      [19] 3200 	ld	a,-46 (ix)
   168E DD 8E F5      [19] 3201 	adc	a, -11 (ix)
   1691 DD 77 F5      [19] 3202 	ld	-11 (ix),a
   1694 DD 7E D3      [19] 3203 	ld	a,-45 (ix)
   1697 DD 8E F6      [19] 3204 	adc	a, -10 (ix)
   169A DD 77 F6      [19] 3205 	ld	-10 (ix),a
   169D DD 7E D4      [19] 3206 	ld	a,-44 (ix)
   16A0 DD 8E F7      [19] 3207 	adc	a, -9 (ix)
   16A3 DD 77 F7      [19] 3208 	ld	-9 (ix),a
   16A6 DD 5E E1      [19] 3209 	ld	e,-31 (ix)
   16A9 DD 56 E2      [19] 3210 	ld	d,-30 (ix)
   16AC 21 28 00      [10] 3211 	ld	hl, #0x0028
   16AF 39            [11] 3212 	add	hl, sp
   16B0 01 04 00      [10] 3213 	ld	bc, #0x0004
   16B3 ED B0         [21] 3214 	ldir
   16B5                    3215 00117$:
                           3216 ;pff.c:883: remain = fs->fsize - fs->fptr;
   16B5 DD 5E EB      [19] 3217 	ld	e,-21 (ix)
   16B8 DD 56 EC      [19] 3218 	ld	d,-20 (ix)
   16BB 21 28 00      [10] 3219 	ld	hl, #0x0028
   16BE 39            [11] 3220 	add	hl, sp
   16BF EB            [ 4] 3221 	ex	de, hl
   16C0 01 04 00      [10] 3222 	ld	bc, #0x0004
   16C3 ED B0         [21] 3223 	ldir
                           3224 ;pff.c:901: rcnt = 512 - (UINT)fs->fptr % 512;			/* Get partial sector data from sector buffer */
   16C5 DD 7E F4      [19] 3225 	ld	a,-12 (ix)
   16C8 DD 77 F4      [19] 3226 	ld	-12 (ix),a
   16CB DD 7E F5      [19] 3227 	ld	a,-11 (ix)
   16CE DD 77 F5      [19] 3228 	ld	-11 (ix),a
   16D1 DD 7E F4      [19] 3229 	ld	a,-12 (ix)
   16D4 DD 77 F4      [19] 3230 	ld	-12 (ix),a
   16D7 DD 7E F5      [19] 3231 	ld	a,-11 (ix)
   16DA E6 01         [ 7] 3232 	and	a, #0x01
   16DC DD 77 F5      [19] 3233 	ld	-11 (ix),a
   16DF AF            [ 4] 3234 	xor	a, a
   16E0 DD 96 F4      [19] 3235 	sub	a, -12 (ix)
   16E3 DD 77 D7      [19] 3236 	ld	-41 (ix),a
   16E6 3E 02         [ 7] 3237 	ld	a,#0x02
   16E8 DD 9E F5      [19] 3238 	sbc	a, -11 (ix)
   16EB DD 77 D8      [19] 3239 	ld	-40 (ix),a
                           3240 ;pff.c:902: if (rcnt > btr) rcnt = btr;
   16EE DD 7E 06      [19] 3241 	ld	a,6 (ix)
   16F1 DD 96 D7      [19] 3242 	sub	a, -41 (ix)
   16F4 DD 7E 07      [19] 3243 	ld	a,7 (ix)
   16F7 DD 9E D8      [19] 3244 	sbc	a, -40 (ix)
   16FA 30 0C         [12] 3245 	jr	NC,00119$
   16FC DD 7E 06      [19] 3246 	ld	a,6 (ix)
   16FF DD 77 D7      [19] 3247 	ld	-41 (ix),a
   1702 DD 7E 07      [19] 3248 	ld	a,7 (ix)
   1705 DD 77 D8      [19] 3249 	ld	-40 (ix),a
   1708                    3250 00119$:
                           3251 ;pff.c:903: dr = disk_readp(!buff ? 0 : rbuff, fs->dsect, (UINT)fs->fptr % 512, rcnt);
   1708 DD 5E E1      [19] 3252 	ld	e,-31 (ix)
   170B DD 56 E2      [19] 3253 	ld	d,-30 (ix)
   170E 21 1B 00      [10] 3254 	ld	hl, #0x001B
   1711 39            [11] 3255 	add	hl, sp
   1712 EB            [ 4] 3256 	ex	de, hl
   1713 01 04 00      [10] 3257 	ld	bc, #0x0004
   1716 ED B0         [21] 3258 	ldir
   1718 DD 7E E0      [19] 3259 	ld	a,-32 (ix)
   171B B7            [ 4] 3260 	or	a, a
   171C 28 0A         [12] 3261 	jr	Z,00127$
   171E DD 36 E3 00   [19] 3262 	ld	-29 (ix),#0x00
   1722 DD 36 E4 00   [19] 3263 	ld	-28 (ix),#0x00
   1726 18 0C         [12] 3264 	jr	00128$
   1728                    3265 00127$:
   1728 DD 7E DD      [19] 3266 	ld	a,-35 (ix)
   172B DD 77 E3      [19] 3267 	ld	-29 (ix),a
   172E DD 7E DE      [19] 3268 	ld	a,-34 (ix)
   1731 DD 77 E4      [19] 3269 	ld	-28 (ix),a
   1734                    3270 00128$:
   1734 DD 6E D7      [19] 3271 	ld	l,-41 (ix)
   1737 DD 66 D8      [19] 3272 	ld	h,-40 (ix)
   173A E5            [11] 3273 	push	hl
   173B DD 6E F4      [19] 3274 	ld	l,-12 (ix)
   173E DD 66 F5      [19] 3275 	ld	h,-11 (ix)
   1741 E5            [11] 3276 	push	hl
   1742 DD 6E E9      [19] 3277 	ld	l,-23 (ix)
   1745 DD 66 EA      [19] 3278 	ld	h,-22 (ix)
   1748 E5            [11] 3279 	push	hl
   1749 DD 6E E7      [19] 3280 	ld	l,-25 (ix)
   174C DD 66 E8      [19] 3281 	ld	h,-24 (ix)
   174F E5            [11] 3282 	push	hl
   1750 DD 6E E3      [19] 3283 	ld	l,-29 (ix)
   1753 DD 66 E4      [19] 3284 	ld	h,-28 (ix)
   1756 E5            [11] 3285 	push	hl
   1757 CDr00r00      [17] 3286 	call	_disk_readp
   175A FD 21 0A 00   [14] 3287 	ld	iy,#10
   175E FD 39         [15] 3288 	add	iy,sp
   1760 FD F9         [10] 3289 	ld	sp,iy
   1762 DD 75 DF      [19] 3290 	ld	-33 (ix), l
   1765 7D            [ 4] 3291 	ld	a, l
                           3292 ;pff.c:904: if (dr) ABORT(FR_DISK_ERR);
   1766 B7            [ 4] 3293 	or	a, a
   1767 28 0D         [12] 3294 	jr	Z,00121$
   1769 DD 6E FE      [19] 3295 	ld	l,-2 (ix)
   176C DD 66 FF      [19] 3296 	ld	h,-1 (ix)
   176F 36 00         [10] 3297 	ld	(hl),#0x00
   1771 2E 01         [ 7] 3298 	ld	l,#0x01
   1773 C3r26r18      [10] 3299 	jp	00125$
   1776                    3300 00121$:
                           3301 ;pff.c:905: fs->fptr += rcnt; rbuff += rcnt;			/* Update pointers and counters */
   1776 DD 5E EB      [19] 3302 	ld	e,-21 (ix)
   1779 DD 56 EC      [19] 3303 	ld	d,-20 (ix)
   177C 21 28 00      [10] 3304 	ld	hl, #0x0028
   177F 39            [11] 3305 	add	hl, sp
   1780 EB            [ 4] 3306 	ex	de, hl
   1781 01 04 00      [10] 3307 	ld	bc, #0x0004
   1784 ED B0         [21] 3308 	ldir
   1786 DD 7E D7      [19] 3309 	ld	a,-41 (ix)
   1789 DD 77 E7      [19] 3310 	ld	-25 (ix),a
   178C DD 7E D8      [19] 3311 	ld	a,-40 (ix)
   178F DD 77 E8      [19] 3312 	ld	-24 (ix),a
   1792 DD 36 E9 00   [19] 3313 	ld	-23 (ix),#0x00
   1796 DD 36 EA 00   [19] 3314 	ld	-22 (ix),#0x00
   179A DD 7E F4      [19] 3315 	ld	a,-12 (ix)
   179D DD 86 E7      [19] 3316 	add	a, -25 (ix)
   17A0 DD 77 F4      [19] 3317 	ld	-12 (ix),a
   17A3 DD 7E F5      [19] 3318 	ld	a,-11 (ix)
   17A6 DD 8E E8      [19] 3319 	adc	a, -24 (ix)
   17A9 DD 77 F5      [19] 3320 	ld	-11 (ix),a
   17AC DD 7E F6      [19] 3321 	ld	a,-10 (ix)
   17AF DD 8E E9      [19] 3322 	adc	a, -23 (ix)
   17B2 DD 77 F6      [19] 3323 	ld	-10 (ix),a
   17B5 DD 7E F7      [19] 3324 	ld	a,-9 (ix)
   17B8 DD 8E EA      [19] 3325 	adc	a, -22 (ix)
   17BB DD 77 F7      [19] 3326 	ld	-9 (ix),a
   17BE DD 5E EB      [19] 3327 	ld	e,-21 (ix)
   17C1 DD 56 EC      [19] 3328 	ld	d,-20 (ix)
   17C4 21 28 00      [10] 3329 	ld	hl, #0x0028
   17C7 39            [11] 3330 	add	hl, sp
   17C8 01 04 00      [10] 3331 	ld	bc, #0x0004
   17CB ED B0         [21] 3332 	ldir
   17CD DD 7E DD      [19] 3333 	ld	a,-35 (ix)
   17D0 DD 86 D7      [19] 3334 	add	a, -41 (ix)
   17D3 DD 77 DD      [19] 3335 	ld	-35 (ix),a
   17D6 DD 7E DE      [19] 3336 	ld	a,-34 (ix)
   17D9 DD 8E D8      [19] 3337 	adc	a, -40 (ix)
   17DC DD 77 DE      [19] 3338 	ld	-34 (ix),a
                           3339 ;pff.c:906: btr -= rcnt; *br += rcnt;
   17DF DD 7E 06      [19] 3340 	ld	a,6 (ix)
   17E2 DD 96 D7      [19] 3341 	sub	a, -41 (ix)
   17E5 DD 77 06      [19] 3342 	ld	6 (ix),a
   17E8 DD 7E 07      [19] 3343 	ld	a,7 (ix)
   17EB DD 9E D8      [19] 3344 	sbc	a, -40 (ix)
   17EE DD 77 07      [19] 3345 	ld	7 (ix),a
   17F1 DD 6E FC      [19] 3346 	ld	l,-4 (ix)
   17F4 DD 66 FD      [19] 3347 	ld	h,-3 (ix)
   17F7 7E            [ 7] 3348 	ld	a,(hl)
   17F8 DD 77 F4      [19] 3349 	ld	-12 (ix),a
   17FB 23            [ 6] 3350 	inc	hl
   17FC 7E            [ 7] 3351 	ld	a,(hl)
   17FD DD 77 F5      [19] 3352 	ld	-11 (ix),a
   1800 DD 7E F4      [19] 3353 	ld	a,-12 (ix)
   1803 DD 86 D7      [19] 3354 	add	a, -41 (ix)
   1806 DD 77 F4      [19] 3355 	ld	-12 (ix),a
   1809 DD 7E F5      [19] 3356 	ld	a,-11 (ix)
   180C DD 8E D8      [19] 3357 	adc	a, -40 (ix)
   180F DD 77 F5      [19] 3358 	ld	-11 (ix),a
   1812 DD 6E FC      [19] 3359 	ld	l,-4 (ix)
   1815 DD 66 FD      [19] 3360 	ld	h,-3 (ix)
   1818 DD 7E F4      [19] 3361 	ld	a,-12 (ix)
   181B 77            [ 7] 3362 	ld	(hl),a
   181C 23            [ 6] 3363 	inc	hl
   181D DD 7E F5      [19] 3364 	ld	a,-11 (ix)
   1820 77            [ 7] 3365 	ld	(hl),a
   1821 C3rF3r14      [10] 3366 	jp	00122$
   1824                    3367 00124$:
                           3368 ;pff.c:909: return FR_OK;
   1824 2E 00         [ 7] 3369 	ld	l,#0x00
   1826                    3370 00125$:
   1826 DD F9         [10] 3371 	ld	sp, ix
   1828 DD E1         [14] 3372 	pop	ix
   182A C9            [10] 3373 	ret
   182B                    3374 _pf_read_end::
                           3375 ;pff.c:989: FRESULT pf_lseek (
                           3376 ;	---------------------------------
                           3377 ; Function pf_lseek
                           3378 ; ---------------------------------
   182B                    3379 _pf_lseek_start::
   182B                    3380 _pf_lseek:
   182B DD E5         [15] 3381 	push	ix
   182D DD 21 00 00   [14] 3382 	ld	ix,#0
   1831 DD 39         [15] 3383 	add	ix,sp
   1833 21 DB FF      [10] 3384 	ld	hl,#-37
   1836 39            [11] 3385 	add	hl,sp
   1837 F9            [ 6] 3386 	ld	sp,hl
                           3387 ;pff.c:995: FATFS *fs = FatFs;
   1838 2Ar00r00      [16] 3388 	ld	hl,(_FatFs)
   183B E3            [19] 3389 	ex	(sp), hl
                           3390 ;pff.c:998: if (!fs) return FR_NOT_ENABLED;		/* Check file system */
   183C DD 7E DC      [19] 3391 	ld	a,-36 (ix)
   183F DD B6 DB      [19] 3392 	or	a,-37 (ix)
   1842 20 05         [12] 3393 	jr	NZ,00102$
   1844 2E 05         [ 7] 3394 	ld	l,#0x05
   1846 C3r8Br1C      [10] 3395 	jp	00121$
   1849                    3396 00102$:
                           3397 ;pff.c:999: if (!(fs->flag & FA_OPENED))		/* Check if opened */
   1849 DD 7E DB      [19] 3398 	ld	a,-37 (ix)
   184C C6 01         [ 7] 3399 	add	a, #0x01
   184E DD 77 FE      [19] 3400 	ld	-2 (ix),a
   1851 DD 7E DC      [19] 3401 	ld	a,-36 (ix)
   1854 CE 00         [ 7] 3402 	adc	a, #0x00
   1856 DD 77 FF      [19] 3403 	ld	-1 (ix),a
   1859 DD 6E FE      [19] 3404 	ld	l,-2 (ix)
   185C DD 66 FF      [19] 3405 	ld	h,-1 (ix)
   185F 7E            [ 7] 3406 	ld	a,(hl)
   1860 0F            [ 4] 3407 	rrca
   1861 38 05         [12] 3408 	jr	C,00104$
                           3409 ;pff.c:1000: return FR_NOT_OPENED;
   1863 2E 04         [ 7] 3410 	ld	l,#0x04
   1865 C3r8Br1C      [10] 3411 	jp	00121$
   1868                    3412 00104$:
                           3413 ;pff.c:1002: if (ofs > fs->fsize) ofs = fs->fsize;	/* Clip offset with the file size */
   1868 E1            [10] 3414 	pop	hl
   1869 E5            [11] 3415 	push	hl
   186A 11 1A 00      [10] 3416 	ld	de, #0x001A
   186D 19            [11] 3417 	add	hl, de
   186E 4E            [ 7] 3418 	ld	c,(hl)
   186F 23            [ 6] 3419 	inc	hl
   1870 46            [ 7] 3420 	ld	b,(hl)
   1871 23            [ 6] 3421 	inc	hl
   1872 5E            [ 7] 3422 	ld	e,(hl)
   1873 23            [ 6] 3423 	inc	hl
   1874 66            [ 7] 3424 	ld	h,(hl)
   1875 79            [ 4] 3425 	ld	a,c
   1876 DD 96 04      [19] 3426 	sub	a, 4 (ix)
   1879 78            [ 4] 3427 	ld	a,b
   187A DD 9E 05      [19] 3428 	sbc	a, 5 (ix)
   187D 7B            [ 4] 3429 	ld	a,e
   187E DD 9E 06      [19] 3430 	sbc	a, 6 (ix)
   1881 7C            [ 4] 3431 	ld	a,h
   1882 DD 9E 07      [19] 3432 	sbc	a, 7 (ix)
   1885 30 0C         [12] 3433 	jr	NC,00106$
   1887 DD 71 04      [19] 3434 	ld	4 (ix),c
   188A DD 70 05      [19] 3435 	ld	5 (ix),b
   188D DD 73 06      [19] 3436 	ld	6 (ix),e
   1890 DD 74 07      [19] 3437 	ld	7 (ix),h
   1893                    3438 00106$:
                           3439 ;pff.c:1003: ifptr = fs->fptr;
   1893 DD 7E DB      [19] 3440 	ld	a,-37 (ix)
   1896 C6 16         [ 7] 3441 	add	a, #0x16
   1898 DD 77 F4      [19] 3442 	ld	-12 (ix),a
   189B DD 7E DC      [19] 3443 	ld	a,-36 (ix)
   189E CE 00         [ 7] 3444 	adc	a, #0x00
   18A0 DD 77 F5      [19] 3445 	ld	-11 (ix),a
   18A3 DD 5E F4      [19] 3446 	ld	e,-12 (ix)
   18A6 DD 56 F5      [19] 3447 	ld	d,-11 (ix)
   18A9 21 0E 00      [10] 3448 	ld	hl, #0x000E
   18AC 39            [11] 3449 	add	hl, sp
   18AD EB            [ 4] 3450 	ex	de, hl
   18AE 01 04 00      [10] 3451 	ld	bc, #0x0004
   18B1 ED B0         [21] 3452 	ldir
                           3453 ;pff.c:1004: fs->fptr = 0;
   18B3 DD 6E F4      [19] 3454 	ld	l,-12 (ix)
   18B6 DD 66 F5      [19] 3455 	ld	h,-11 (ix)
   18B9 AF            [ 4] 3456 	xor	a, a
   18BA 77            [ 7] 3457 	ld	(hl), a
   18BB 23            [ 6] 3458 	inc	hl
   18BC 77            [ 7] 3459 	ld	(hl), a
   18BD 23            [ 6] 3460 	inc	hl
   18BE AF            [ 4] 3461 	xor	a, a
   18BF 77            [ 7] 3462 	ld	(hl), a
   18C0 23            [ 6] 3463 	inc	hl
   18C1 77            [ 7] 3464 	ld	(hl), a
                           3465 ;pff.c:1005: if (ofs > 0) {
   18C2 DD 7E 07      [19] 3466 	ld	a,7 (ix)
   18C5 DD B6 06      [19] 3467 	or	a, 6 (ix)
   18C8 DD B6 05      [19] 3468 	or	a, 5 (ix)
   18CB DD B6 04      [19] 3469 	or	a,4 (ix)
   18CE CAr89r1C      [10] 3470 	jp	Z,00120$
                           3471 ;pff.c:1006: bcs = (DWORD)fs->csize * 512;	/* Cluster size (byte) */
   18D1 DD 7E DB      [19] 3472 	ld	a,-37 (ix)
   18D4 C6 02         [ 7] 3473 	add	a, #0x02
   18D6 DD 77 ED      [19] 3474 	ld	-19 (ix),a
   18D9 DD 7E DC      [19] 3475 	ld	a,-36 (ix)
   18DC CE 00         [ 7] 3476 	adc	a, #0x00
   18DE DD 77 EE      [19] 3477 	ld	-18 (ix),a
   18E1 DD 6E ED      [19] 3478 	ld	l,-19 (ix)
   18E4 DD 66 EE      [19] 3479 	ld	h,-18 (ix)
   18E7 7E            [ 7] 3480 	ld	a,(hl)
   18E8 DD 77 F3      [19] 3481 	ld	-13 (ix), a
   18EB DD 77 EF      [19] 3482 	ld	-17 (ix),a
   18EE DD 36 F0 00   [19] 3483 	ld	-16 (ix),#0x00
   18F2 DD 36 F1 00   [19] 3484 	ld	-15 (ix),#0x00
   18F6 DD 36 F2 00   [19] 3485 	ld	-14 (ix),#0x00
   18FA F5            [11] 3486 	push	af
   18FB DD 7E EF      [19] 3487 	ld	a,-17 (ix)
   18FE DD 77 E5      [19] 3488 	ld	-27 (ix),a
   1901 DD 7E F0      [19] 3489 	ld	a,-16 (ix)
   1904 DD 77 E6      [19] 3490 	ld	-26 (ix),a
   1907 DD 7E F1      [19] 3491 	ld	a,-15 (ix)
   190A DD 77 E7      [19] 3492 	ld	-25 (ix),a
   190D DD 7E F2      [19] 3493 	ld	a,-14 (ix)
   1910 DD 77 E8      [19] 3494 	ld	-24 (ix),a
   1913 F1            [10] 3495 	pop	af
   1914 06 09         [ 7] 3496 	ld	b,#0x09
   1916                    3497 00165$:
   1916 DD CB E5 26   [23] 3498 	sla	-27 (ix)
   191A DD CB E6 16   [23] 3499 	rl	-26 (ix)
   191E DD CB E7 16   [23] 3500 	rl	-25 (ix)
   1922 DD CB E8 16   [23] 3501 	rl	-24 (ix)
   1926 10 EE         [13] 3502 	djnz	00165$
                           3503 ;pff.c:1011: clst = fs->curr_clust;
   1928 DD 7E DB      [19] 3504 	ld	a,-37 (ix)
   192B C6 22         [ 7] 3505 	add	a, #0x22
   192D DD 77 EF      [19] 3506 	ld	-17 (ix),a
   1930 DD 7E DC      [19] 3507 	ld	a,-36 (ix)
   1933 CE 00         [ 7] 3508 	adc	a, #0x00
   1935 DD 77 F0      [19] 3509 	ld	-16 (ix),a
                           3510 ;pff.c:1007: if (ifptr > 0 &&
   1938 DD 7E EC      [19] 3511 	ld	a,-20 (ix)
   193B DD B6 EB      [19] 3512 	or	a, -21 (ix)
   193E DD B6 EA      [19] 3513 	or	a, -22 (ix)
   1941 DD B6 E9      [19] 3514 	or	a,-23 (ix)
   1944 CAr4Ar1A      [10] 3515 	jp	Z,00108$
                           3516 ;pff.c:1008: (ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
   1947 DD 7E 04      [19] 3517 	ld	a,4 (ix)
   194A C6 FF         [ 7] 3518 	add	a,#0xFF
   194C 5F            [ 4] 3519 	ld	e,a
   194D DD 7E 05      [19] 3520 	ld	a,5 (ix)
   1950 CE FF         [ 7] 3521 	adc	a,#0xFF
   1952 57            [ 4] 3522 	ld	d,a
   1953 DD 7E 06      [19] 3523 	ld	a,6 (ix)
   1956 CE FF         [ 7] 3524 	adc	a,#0xFF
   1958 4F            [ 4] 3525 	ld	c,a
   1959 DD 7E 07      [19] 3526 	ld	a,7 (ix)
   195C CE FF         [ 7] 3527 	adc	a,#0xFF
   195E 47            [ 4] 3528 	ld	b,a
   195F DD 6E E7      [19] 3529 	ld	l,-25 (ix)
   1962 DD 66 E8      [19] 3530 	ld	h,-24 (ix)
   1965 E5            [11] 3531 	push	hl
   1966 DD 6E E5      [19] 3532 	ld	l,-27 (ix)
   1969 DD 66 E6      [19] 3533 	ld	h,-26 (ix)
   196C E5            [11] 3534 	push	hl
   196D C5            [11] 3535 	push	bc
   196E D5            [11] 3536 	push	de
   196F CDr00r00      [17] 3537 	call	__divulong_rrx_s
   1972 F1            [10] 3538 	pop	af
   1973 F1            [10] 3539 	pop	af
   1974 F1            [10] 3540 	pop	af
   1975 F1            [10] 3541 	pop	af
   1976 DD 72 FD      [19] 3542 	ld	-3 (ix),d
   1979 DD 73 FC      [19] 3543 	ld	-4 (ix),e
   197C DD 74 FB      [19] 3544 	ld	-5 (ix),h
   197F DD 75 FA      [19] 3545 	ld	-6 (ix),l
   1982 DD 7E E9      [19] 3546 	ld	a,-23 (ix)
   1985 C6 FF         [ 7] 3547 	add	a,#0xFF
   1987 DD 77 F6      [19] 3548 	ld	-10 (ix),a
   198A DD 7E EA      [19] 3549 	ld	a,-22 (ix)
   198D CE FF         [ 7] 3550 	adc	a,#0xFF
   198F DD 77 F7      [19] 3551 	ld	-9 (ix),a
   1992 DD 7E EB      [19] 3552 	ld	a,-21 (ix)
   1995 CE FF         [ 7] 3553 	adc	a,#0xFF
   1997 DD 77 F8      [19] 3554 	ld	-8 (ix),a
   199A DD 7E EC      [19] 3555 	ld	a,-20 (ix)
   199D CE FF         [ 7] 3556 	adc	a,#0xFF
   199F DD 77 F9      [19] 3557 	ld	-7 (ix),a
   19A2 DD 6E E7      [19] 3558 	ld	l,-25 (ix)
   19A5 DD 66 E8      [19] 3559 	ld	h,-24 (ix)
   19A8 E5            [11] 3560 	push	hl
   19A9 DD 6E E5      [19] 3561 	ld	l,-27 (ix)
   19AC DD 66 E6      [19] 3562 	ld	h,-26 (ix)
   19AF E5            [11] 3563 	push	hl
   19B0 DD 6E F8      [19] 3564 	ld	l,-8 (ix)
   19B3 DD 66 F9      [19] 3565 	ld	h,-7 (ix)
   19B6 E5            [11] 3566 	push	hl
   19B7 DD 6E F6      [19] 3567 	ld	l,-10 (ix)
   19BA DD 66 F7      [19] 3568 	ld	h,-9 (ix)
   19BD E5            [11] 3569 	push	hl
   19BE CDr00r00      [17] 3570 	call	__divulong_rrx_s
   19C1 F1            [10] 3571 	pop	af
   19C2 F1            [10] 3572 	pop	af
   19C3 F1            [10] 3573 	pop	af
   19C4 F1            [10] 3574 	pop	af
   19C5 DD 7E FA      [19] 3575 	ld	a,-6 (ix)
   19C8 95            [ 4] 3576 	sub	a, l
   19C9 DD 7E FB      [19] 3577 	ld	a,-5 (ix)
   19CC 9C            [ 4] 3578 	sbc	a, h
   19CD DD 7E FC      [19] 3579 	ld	a,-4 (ix)
   19D0 9B            [ 4] 3580 	sbc	a, e
   19D1 DD 7E FD      [19] 3581 	ld	a,-3 (ix)
   19D4 9A            [ 4] 3582 	sbc	a, d
   19D5 38 73         [12] 3583 	jr	C,00108$
                           3584 ;pff.c:1009: fs->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
   19D7 DD 7E E5      [19] 3585 	ld	a,-27 (ix)
   19DA C6 FF         [ 7] 3586 	add	a,#0xFF
   19DC 5F            [ 4] 3587 	ld	e,a
   19DD DD 7E E6      [19] 3588 	ld	a,-26 (ix)
   19E0 CE FF         [ 7] 3589 	adc	a,#0xFF
   19E2 57            [ 4] 3590 	ld	d,a
   19E3 DD 7E E7      [19] 3591 	ld	a,-25 (ix)
   19E6 CE FF         [ 7] 3592 	adc	a,#0xFF
   19E8 4F            [ 4] 3593 	ld	c,a
   19E9 DD 7E E8      [19] 3594 	ld	a,-24 (ix)
   19EC CE FF         [ 7] 3595 	adc	a,#0xFF
   19EE 47            [ 4] 3596 	ld	b,a
   19EF 7B            [ 4] 3597 	ld	a,e
   19F0 2F            [ 4] 3598 	cpl
   19F1 5F            [ 4] 3599 	ld	e,a
   19F2 7A            [ 4] 3600 	ld	a,d
   19F3 2F            [ 4] 3601 	cpl
   19F4 57            [ 4] 3602 	ld	d,a
   19F5 79            [ 4] 3603 	ld	a,c
   19F6 2F            [ 4] 3604 	cpl
   19F7 4F            [ 4] 3605 	ld	c,a
   19F8 78            [ 4] 3606 	ld	a,b
   19F9 2F            [ 4] 3607 	cpl
   19FA 47            [ 4] 3608 	ld	b,a
   19FB 7B            [ 4] 3609 	ld	a,e
   19FC DD A6 F6      [19] 3610 	and	a, -10 (ix)
   19FF 5F            [ 4] 3611 	ld	e,a
   1A00 7A            [ 4] 3612 	ld	a,d
   1A01 DD A6 F7      [19] 3613 	and	a, -9 (ix)
   1A04 57            [ 4] 3614 	ld	d,a
   1A05 79            [ 4] 3615 	ld	a,c
   1A06 DD A6 F8      [19] 3616 	and	a, -8 (ix)
   1A09 4F            [ 4] 3617 	ld	c,a
   1A0A 78            [ 4] 3618 	ld	a,b
   1A0B DD A6 F9      [19] 3619 	and	a, -7 (ix)
   1A0E 47            [ 4] 3620 	ld	b,a
   1A0F DD 6E F4      [19] 3621 	ld	l,-12 (ix)
   1A12 DD 66 F5      [19] 3622 	ld	h,-11 (ix)
   1A15 73            [ 7] 3623 	ld	(hl),e
   1A16 23            [ 6] 3624 	inc	hl
   1A17 72            [ 7] 3625 	ld	(hl),d
   1A18 23            [ 6] 3626 	inc	hl
   1A19 71            [ 7] 3627 	ld	(hl),c
   1A1A 23            [ 6] 3628 	inc	hl
   1A1B 70            [ 7] 3629 	ld	(hl),b
                           3630 ;pff.c:1010: ofs -= fs->fptr;
   1A1C DD 7E 04      [19] 3631 	ld	a,4 (ix)
   1A1F 93            [ 4] 3632 	sub	a, e
   1A20 DD 77 04      [19] 3633 	ld	4 (ix),a
   1A23 DD 7E 05      [19] 3634 	ld	a,5 (ix)
   1A26 9A            [ 4] 3635 	sbc	a, d
   1A27 DD 77 05      [19] 3636 	ld	5 (ix),a
   1A2A DD 7E 06      [19] 3637 	ld	a,6 (ix)
   1A2D 99            [ 4] 3638 	sbc	a, c
   1A2E DD 77 06      [19] 3639 	ld	6 (ix),a
   1A31 DD 7E 07      [19] 3640 	ld	a,7 (ix)
   1A34 98            [ 4] 3641 	sbc	a, b
   1A35 DD 77 07      [19] 3642 	ld	7 (ix),a
                           3643 ;pff.c:1011: clst = fs->curr_clust;
   1A38 DD 5E EF      [19] 3644 	ld	e,-17 (ix)
   1A3B DD 56 F0      [19] 3645 	ld	d,-16 (ix)
   1A3E 21 02 00      [10] 3646 	ld	hl, #0x0002
   1A41 39            [11] 3647 	add	hl, sp
   1A42 EB            [ 4] 3648 	ex	de, hl
   1A43 01 04 00      [10] 3649 	ld	bc, #0x0004
   1A46 ED B0         [21] 3650 	ldir
   1A48 18 2B         [12] 3651 	jr	00131$
   1A4A                    3652 00108$:
                           3653 ;pff.c:1013: clst = fs->org_clust;			/* start from the first cluster */
   1A4A FD E1         [14] 3654 	pop	iy
   1A4C FD E5         [15] 3655 	push	iy
   1A4E FD 7E 1E      [19] 3656 	ld	a,30 (iy)
   1A51 DD 77 DD      [19] 3657 	ld	-35 (ix),a
   1A54 FD 7E 1F      [19] 3658 	ld	a,31 (iy)
   1A57 DD 77 DE      [19] 3659 	ld	-34 (ix),a
   1A5A FD 7E 20      [19] 3660 	ld	a,32 (iy)
   1A5D DD 77 DF      [19] 3661 	ld	-33 (ix),a
   1A60 FD 7E 21      [19] 3662 	ld	a,33 (iy)
   1A63 DD 77 E0      [19] 3663 	ld	-32 (ix),a
                           3664 ;pff.c:1014: fs->curr_clust = clst;
   1A66 DD 5E EF      [19] 3665 	ld	e,-17 (ix)
   1A69 DD 56 F0      [19] 3666 	ld	d,-16 (ix)
   1A6C 21 02 00      [10] 3667 	ld	hl, #0x0002
   1A6F 39            [11] 3668 	add	hl, sp
   1A70 01 04 00      [10] 3669 	ld	bc, #0x0004
   1A73 ED B0         [21] 3670 	ldir
                           3671 ;pff.c:1016: while (ofs > bcs) {				/* Cluster following loop */
   1A75                    3672 00131$:
   1A75 DD 7E DB      [19] 3673 	ld	a,-37 (ix)
   1A78 DD 77 F6      [19] 3674 	ld	-10 (ix),a
   1A7B DD 7E DC      [19] 3675 	ld	a,-36 (ix)
   1A7E DD 77 F7      [19] 3676 	ld	-9 (ix),a
   1A81                    3677 00114$:
   1A81 DD 7E E5      [19] 3678 	ld	a,-27 (ix)
   1A84 DD 96 04      [19] 3679 	sub	a, 4 (ix)
   1A87 DD 7E E6      [19] 3680 	ld	a,-26 (ix)
   1A8A DD 9E 05      [19] 3681 	sbc	a, 5 (ix)
   1A8D DD 7E E7      [19] 3682 	ld	a,-25 (ix)
   1A90 DD 9E 06      [19] 3683 	sbc	a, 6 (ix)
   1A93 DD 7E E8      [19] 3684 	ld	a,-24 (ix)
   1A96 DD 9E 07      [19] 3685 	sbc	a, 7 (ix)
   1A99 D2r6Fr1B      [10] 3686 	jp	NC,00116$
                           3687 ;pff.c:1017: clst = get_fat(clst);		/* Follow cluster chain */
   1A9C DD 6E DF      [19] 3688 	ld	l,-33 (ix)
   1A9F DD 66 E0      [19] 3689 	ld	h,-32 (ix)
   1AA2 E5            [11] 3690 	push	hl
   1AA3 DD 6E DD      [19] 3691 	ld	l,-35 (ix)
   1AA6 DD 66 DE      [19] 3692 	ld	h,-34 (ix)
   1AA9 E5            [11] 3693 	push	hl
   1AAA CDr8Ar00      [17] 3694 	call	_get_fat
   1AAD F1            [10] 3695 	pop	af
   1AAE F1            [10] 3696 	pop	af
   1AAF DD 75 DD      [19] 3697 	ld	-35 (ix),l
   1AB2 DD 74 DE      [19] 3698 	ld	-34 (ix),h
   1AB5 DD 73 DF      [19] 3699 	ld	-33 (ix),e
   1AB8 DD 72 E0      [19] 3700 	ld	-32 (ix),d
                           3701 ;pff.c:1018: if (clst <= 1 || clst >= fs->n_fatent) ABORT(FR_DISK_ERR);
   1ABB 3E 01         [ 7] 3702 	ld	a,#0x01
   1ABD DD BE DD      [19] 3703 	cp	a, -35 (ix)
   1AC0 3E 00         [ 7] 3704 	ld	a,#0x00
   1AC2 DD 9E DE      [19] 3705 	sbc	a, -34 (ix)
   1AC5 3E 00         [ 7] 3706 	ld	a,#0x00
   1AC7 DD 9E DF      [19] 3707 	sbc	a, -33 (ix)
   1ACA 3E 00         [ 7] 3708 	ld	a,#0x00
   1ACC DD 9E E0      [19] 3709 	sbc	a, -32 (ix)
   1ACF 30 23         [12] 3710 	jr	NC,00111$
   1AD1 DD 6E F6      [19] 3711 	ld	l,-10 (ix)
   1AD4 DD 66 F7      [19] 3712 	ld	h,-9 (ix)
   1AD7 11 06 00      [10] 3713 	ld	de, #0x0006
   1ADA 19            [11] 3714 	add	hl, de
   1ADB 56            [ 7] 3715 	ld	d,(hl)
   1ADC 23            [ 6] 3716 	inc	hl
   1ADD 5E            [ 7] 3717 	ld	e,(hl)
   1ADE 23            [ 6] 3718 	inc	hl
   1ADF 46            [ 7] 3719 	ld	b,(hl)
   1AE0 23            [ 6] 3720 	inc	hl
   1AE1 66            [ 7] 3721 	ld	h,(hl)
   1AE2 DD 7E DD      [19] 3722 	ld	a,-35 (ix)
   1AE5 92            [ 4] 3723 	sub	a, d
   1AE6 DD 7E DE      [19] 3724 	ld	a,-34 (ix)
   1AE9 9B            [ 4] 3725 	sbc	a, e
   1AEA DD 7E DF      [19] 3726 	ld	a,-33 (ix)
   1AED 98            [ 4] 3727 	sbc	a, b
   1AEE DD 7E E0      [19] 3728 	ld	a,-32 (ix)
   1AF1 9C            [ 4] 3729 	sbc	a, h
   1AF2 38 0D         [12] 3730 	jr	C,00112$
   1AF4                    3731 00111$:
   1AF4 DD 6E FE      [19] 3732 	ld	l,-2 (ix)
   1AF7 DD 66 FF      [19] 3733 	ld	h,-1 (ix)
   1AFA 36 00         [10] 3734 	ld	(hl),#0x00
   1AFC 2E 01         [ 7] 3735 	ld	l,#0x01
   1AFE C3r8Br1C      [10] 3736 	jp	00121$
   1B01                    3737 00112$:
                           3738 ;pff.c:1019: fs->curr_clust = clst;
   1B01 DD 5E EF      [19] 3739 	ld	e,-17 (ix)
   1B04 DD 56 F0      [19] 3740 	ld	d,-16 (ix)
   1B07 21 02 00      [10] 3741 	ld	hl, #0x0002
   1B0A 39            [11] 3742 	add	hl, sp
   1B0B 01 04 00      [10] 3743 	ld	bc, #0x0004
   1B0E ED B0         [21] 3744 	ldir
                           3745 ;pff.c:1020: fs->fptr += bcs;
   1B10 DD 6E F4      [19] 3746 	ld	l,-12 (ix)
   1B13 DD 66 F5      [19] 3747 	ld	h,-11 (ix)
   1B16 56            [ 7] 3748 	ld	d,(hl)
   1B17 23            [ 6] 3749 	inc	hl
   1B18 5E            [ 7] 3750 	ld	e,(hl)
   1B19 23            [ 6] 3751 	inc	hl
   1B1A 46            [ 7] 3752 	ld	b,(hl)
   1B1B 23            [ 6] 3753 	inc	hl
   1B1C 66            [ 7] 3754 	ld	h,(hl)
   1B1D 7A            [ 4] 3755 	ld	a,d
   1B1E DD 86 E5      [19] 3756 	add	a, -27 (ix)
   1B21 DD 77 FA      [19] 3757 	ld	-6 (ix),a
   1B24 7B            [ 4] 3758 	ld	a,e
   1B25 DD 8E E6      [19] 3759 	adc	a, -26 (ix)
   1B28 DD 77 FB      [19] 3760 	ld	-5 (ix),a
   1B2B 78            [ 4] 3761 	ld	a,b
   1B2C DD 8E E7      [19] 3762 	adc	a, -25 (ix)
   1B2F DD 77 FC      [19] 3763 	ld	-4 (ix),a
   1B32 7C            [ 4] 3764 	ld	a,h
   1B33 DD 8E E8      [19] 3765 	adc	a, -24 (ix)
   1B36 DD 77 FD      [19] 3766 	ld	-3 (ix),a
   1B39 DD 5E F4      [19] 3767 	ld	e,-12 (ix)
   1B3C DD 56 F5      [19] 3768 	ld	d,-11 (ix)
   1B3F 21 1F 00      [10] 3769 	ld	hl, #0x001F
   1B42 39            [11] 3770 	add	hl, sp
   1B43 01 04 00      [10] 3771 	ld	bc, #0x0004
   1B46 ED B0         [21] 3772 	ldir
                           3773 ;pff.c:1021: ofs -= bcs;
   1B48 DD 7E 04      [19] 3774 	ld	a,4 (ix)
   1B4B DD 96 E5      [19] 3775 	sub	a, -27 (ix)
   1B4E DD 77 04      [19] 3776 	ld	4 (ix),a
   1B51 DD 7E 05      [19] 3777 	ld	a,5 (ix)
   1B54 DD 9E E6      [19] 3778 	sbc	a, -26 (ix)
   1B57 DD 77 05      [19] 3779 	ld	5 (ix),a
   1B5A DD 7E 06      [19] 3780 	ld	a,6 (ix)
   1B5D DD 9E E7      [19] 3781 	sbc	a, -25 (ix)
   1B60 DD 77 06      [19] 3782 	ld	6 (ix),a
   1B63 DD 7E 07      [19] 3783 	ld	a,7 (ix)
   1B66 DD 9E E8      [19] 3784 	sbc	a, -24 (ix)
   1B69 DD 77 07      [19] 3785 	ld	7 (ix),a
   1B6C C3r81r1A      [10] 3786 	jp	00114$
   1B6F                    3787 00116$:
                           3788 ;pff.c:1023: fs->fptr += ofs;
   1B6F DD 6E F4      [19] 3789 	ld	l,-12 (ix)
   1B72 DD 66 F5      [19] 3790 	ld	h,-11 (ix)
   1B75 5E            [ 7] 3791 	ld	e,(hl)
   1B76 23            [ 6] 3792 	inc	hl
   1B77 56            [ 7] 3793 	ld	d,(hl)
   1B78 23            [ 6] 3794 	inc	hl
   1B79 46            [ 7] 3795 	ld	b,(hl)
   1B7A 23            [ 6] 3796 	inc	hl
   1B7B 66            [ 7] 3797 	ld	h,(hl)
   1B7C 7B            [ 4] 3798 	ld	a,e
   1B7D DD 86 04      [19] 3799 	add	a, 4 (ix)
   1B80 5F            [ 4] 3800 	ld	e,a
   1B81 7A            [ 4] 3801 	ld	a,d
   1B82 DD 8E 05      [19] 3802 	adc	a, 5 (ix)
   1B85 57            [ 4] 3803 	ld	d,a
   1B86 78            [ 4] 3804 	ld	a,b
   1B87 DD 8E 06      [19] 3805 	adc	a, 6 (ix)
   1B8A 4F            [ 4] 3806 	ld	c,a
   1B8B 7C            [ 4] 3807 	ld	a,h
   1B8C DD 8E 07      [19] 3808 	adc	a, 7 (ix)
   1B8F 47            [ 4] 3809 	ld	b,a
   1B90 DD 6E F4      [19] 3810 	ld	l,-12 (ix)
   1B93 DD 66 F5      [19] 3811 	ld	h,-11 (ix)
   1B96 73            [ 7] 3812 	ld	(hl),e
   1B97 23            [ 6] 3813 	inc	hl
   1B98 72            [ 7] 3814 	ld	(hl),d
   1B99 23            [ 6] 3815 	inc	hl
   1B9A 71            [ 7] 3816 	ld	(hl),c
   1B9B 23            [ 6] 3817 	inc	hl
   1B9C 70            [ 7] 3818 	ld	(hl),b
                           3819 ;pff.c:1024: sect = clust2sect(clst);		/* Current sector */
   1B9D DD 6E DF      [19] 3820 	ld	l,-33 (ix)
   1BA0 DD 66 E0      [19] 3821 	ld	h,-32 (ix)
   1BA3 E5            [11] 3822 	push	hl
   1BA4 DD 6E DD      [19] 3823 	ld	l,-35 (ix)
   1BA7 DD 66 DE      [19] 3824 	ld	h,-34 (ix)
   1BAA E5            [11] 3825 	push	hl
   1BAB CDrAAr02      [17] 3826 	call	_clust2sect
   1BAE F1            [10] 3827 	pop	af
   1BAF F1            [10] 3828 	pop	af
   1BB0 DD 75 E1      [19] 3829 	ld	-31 (ix),l
   1BB3 DD 74 E2      [19] 3830 	ld	-30 (ix),h
   1BB6 DD 73 E3      [19] 3831 	ld	-29 (ix),e
                           3832 ;pff.c:1025: if (!sect) ABORT(FR_DISK_ERR);
   1BB9 DD 72 E4      [19] 3833 	ld	-28 (ix), d
   1BBC 7A            [ 4] 3834 	ld	a, d
   1BBD DD B6 E3      [19] 3835 	or	a, -29 (ix)
   1BC0 DD B6 E2      [19] 3836 	or	a, -30 (ix)
   1BC3 DD B6 E1      [19] 3837 	or	a,-31 (ix)
   1BC6 20 0D         [12] 3838 	jr	NZ,00118$
   1BC8 DD 6E FE      [19] 3839 	ld	l,-2 (ix)
   1BCB DD 66 FF      [19] 3840 	ld	h,-1 (ix)
   1BCE 36 00         [10] 3841 	ld	(hl),#0x00
   1BD0 2E 01         [ 7] 3842 	ld	l,#0x01
   1BD2 C3r8Br1C      [10] 3843 	jp	00121$
   1BD5                    3844 00118$:
                           3845 ;pff.c:1026: fs->dsect = sect + (fs->fptr / 512 & (fs->csize - 1));
   1BD5 DD 7E DB      [19] 3846 	ld	a,-37 (ix)
   1BD8 C6 26         [ 7] 3847 	add	a, #0x26
   1BDA DD 77 F6      [19] 3848 	ld	-10 (ix),a
   1BDD DD 7E DC      [19] 3849 	ld	a,-36 (ix)
   1BE0 CE 00         [ 7] 3850 	adc	a, #0x00
   1BE2 DD 77 F7      [19] 3851 	ld	-9 (ix),a
   1BE5 DD 5E F4      [19] 3852 	ld	e,-12 (ix)
   1BE8 DD 56 F5      [19] 3853 	ld	d,-11 (ix)
   1BEB 21 1F 00      [10] 3854 	ld	hl, #0x001F
   1BEE 39            [11] 3855 	add	hl, sp
   1BEF EB            [ 4] 3856 	ex	de, hl
   1BF0 01 04 00      [10] 3857 	ld	bc, #0x0004
   1BF3 ED B0         [21] 3858 	ldir
   1BF5 F5            [11] 3859 	push	af
   1BF6 F1            [10] 3860 	pop	af
   1BF7 06 09         [ 7] 3861 	ld	b,#0x09
   1BF9                    3862 00167$:
   1BF9 DD CB FD 3E   [23] 3863 	srl	-3 (ix)
   1BFD DD CB FC 1E   [23] 3864 	rr	-4 (ix)
   1C01 DD CB FB 1E   [23] 3865 	rr	-5 (ix)
   1C05 DD CB FA 1E   [23] 3866 	rr	-6 (ix)
   1C09 10 EE         [13] 3867 	djnz	00167$
   1C0B DD 6E ED      [19] 3868 	ld	l,-19 (ix)
   1C0E DD 66 EE      [19] 3869 	ld	h,-18 (ix)
   1C11 7E            [ 7] 3870 	ld	a,(hl)
   1C12 DD 77 EF      [19] 3871 	ld	-17 (ix), a
   1C15 DD 77 EF      [19] 3872 	ld	-17 (ix),a
   1C18 DD 36 F0 00   [19] 3873 	ld	-16 (ix),#0x00
   1C1C DD 6E EF      [19] 3874 	ld	l,-17 (ix)
   1C1F DD 66 F0      [19] 3875 	ld	h,-16 (ix)
   1C22 2B            [ 6] 3876 	dec	hl
   1C23 DD 75 EF      [19] 3877 	ld	-17 (ix),l
   1C26 DD 74 F0      [19] 3878 	ld	-16 (ix),h
   1C29 7C            [ 4] 3879 	ld	a,h
   1C2A 17            [ 4] 3880 	rla
   1C2B 9F            [ 4] 3881 	sbc	a, a
   1C2C DD 77 F1      [19] 3882 	ld	-15 (ix),a
   1C2F DD 77 F2      [19] 3883 	ld	-14 (ix),a
   1C32 DD 7E FA      [19] 3884 	ld	a,-6 (ix)
   1C35 DD A6 EF      [19] 3885 	and	a, -17 (ix)
   1C38 DD 77 FA      [19] 3886 	ld	-6 (ix),a
   1C3B DD 7E FB      [19] 3887 	ld	a,-5 (ix)
   1C3E DD A6 F0      [19] 3888 	and	a, -16 (ix)
   1C41 DD 77 FB      [19] 3889 	ld	-5 (ix),a
   1C44 DD 7E FC      [19] 3890 	ld	a,-4 (ix)
   1C47 DD A6 F1      [19] 3891 	and	a, -15 (ix)
   1C4A DD 77 FC      [19] 3892 	ld	-4 (ix),a
   1C4D DD 7E FD      [19] 3893 	ld	a,-3 (ix)
   1C50 DD A6 F2      [19] 3894 	and	a, -14 (ix)
   1C53 DD 77 FD      [19] 3895 	ld	-3 (ix),a
   1C56 DD 7E E1      [19] 3896 	ld	a,-31 (ix)
   1C59 DD 86 FA      [19] 3897 	add	a, -6 (ix)
   1C5C DD 77 FA      [19] 3898 	ld	-6 (ix),a
   1C5F DD 7E E2      [19] 3899 	ld	a,-30 (ix)
   1C62 DD 8E FB      [19] 3900 	adc	a, -5 (ix)
   1C65 DD 77 FB      [19] 3901 	ld	-5 (ix),a
   1C68 DD 7E E3      [19] 3902 	ld	a,-29 (ix)
   1C6B DD 8E FC      [19] 3903 	adc	a, -4 (ix)
   1C6E DD 77 FC      [19] 3904 	ld	-4 (ix),a
   1C71 DD 7E E4      [19] 3905 	ld	a,-28 (ix)
   1C74 DD 8E FD      [19] 3906 	adc	a, -3 (ix)
   1C77 DD 77 FD      [19] 3907 	ld	-3 (ix),a
   1C7A DD 5E F6      [19] 3908 	ld	e,-10 (ix)
   1C7D DD 56 F7      [19] 3909 	ld	d,-9 (ix)
   1C80 21 1F 00      [10] 3910 	ld	hl, #0x001F
   1C83 39            [11] 3911 	add	hl, sp
   1C84 01 04 00      [10] 3912 	ld	bc, #0x0004
   1C87 ED B0         [21] 3913 	ldir
   1C89                    3914 00120$:
                           3915 ;pff.c:1029: return FR_OK;
   1C89 2E 00         [ 7] 3916 	ld	l,#0x00
   1C8B                    3917 00121$:
   1C8B DD F9         [10] 3918 	ld	sp, ix
   1C8D DD E1         [14] 3919 	pop	ix
   1C8F C9            [10] 3920 	ret
   1C90                    3921 _pf_lseek_end::
                           3922 	.area _CODE
                           3923 	.area _INITIALIZER
                           3924 	.area _CABS (ABS)
